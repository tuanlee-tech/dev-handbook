# üìÖ NG√ÄY 10: ‚ö° MINI PROJECT 1 - Product Catalog v·ªõi Search & Filter

## üéØ M·ª•c ti√™u h·ªçc t·∫≠p (5 ph√∫t)

Sau b√†i h·ªçc n√†y, b·∫°n s·∫Ω:

- [ ] **T√≠ch h·ª£p ƒë∆∞·ª£c** t·∫•t c·∫£ concepts t·ª´ Ng√†y 1-9 v√†o m·ªôt project ho√†n ch·ªânh
- [ ] **Thi·∫øt k·∫ø ƒë∆∞·ª£c** component hierarchy cho real-world application
- [ ] **Implement ƒë∆∞·ª£c** search v√† filter functionality (KH√îNG d√πng state)
- [ ] **X·ª≠ l√Ω ƒë∆∞·ª£c** multiple event handlers v√† data flow
- [ ] **Debug ƒë∆∞·ª£c** issues trong multi-component application
- [ ] **Code review** nh∆∞ m·ªôt Senior developer

---

## ü§î Ki·ªÉm tra ƒë·∫ßu v√†o (5 ph√∫t)

Tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu project, h√£y t·ª± ki·ªÉm tra:

**1. Component & Props (Ng√†y 4, 7):**

- B·∫°n c√≥ th·ªÉ t·∫°o component nh·∫≠n props kh√¥ng?
- B·∫°n hi·ªÉu props flow (parent ‚Üí child) kh√¥ng?
- B·∫°n bi·∫øt c√°ch d√πng children prop kh√¥ng?

**2. Lists & Keys (Ng√†y 6):**

- B·∫°n c√≥ th·ªÉ render array of objects kh√¥ng?
- B·∫°n bi·∫øt khi n√†o d√πng index as key (v√† t·∫°i sao tr√°nh) kh√¥ng?

**3. Events & Forms (Ng√†y 5, 9):**

- B·∫°n c√≥ th·ªÉ handle form submit kh√¥ng?
- B·∫°n bi·∫øt c√°ch l·∫•y gi√° tr·ªã t·ª´ inputs kh√¥ng?
- B·∫°n hi·ªÉu event.preventDefault() kh√¥ng?

**4. Conditional Rendering (Ng√†y 5):**

- B·∫°n c√≥ th·ªÉ d√πng &&, ternary operator kh√¥ng?
- B·∫°n bi·∫øt c√°ch show/hide components kh√¥ng?

<details>
<summary>üí° N·∫øu ch∆∞a ch·∫Øc ch·∫Øn, review l·∫°i ng√†y n√†o?</summary>

- Props unclear? ‚Üí Review Ng√†y 4
- Lists confusing? ‚Üí Review Ng√†y 6
- Events/Forms unclear? ‚Üí Review Ng√†y 5, 9
- Conditional rendering? ‚Üí Review Ng√†y 5

**Quan tr·ªçng:** Project n√†y CH·ªà d√πng ki·∫øn th·ª©c Ng√†y 1-9. KH√îNG c√≥ useState, useEffect!

</details>

---

## üìñ PH·∫¶N 1: PROJECT OVERVIEW (20 ph√∫t)

### 1.1 ƒê·ªÅ B√†i Project

**üéØ Product Requirement Document (PRD)**

**Product Name:** TechStore - Product Catalog  
**Target Users:** E-commerce customers  
**Goal:** Browse products, search, filter, and contact store

**Core Features:**

1. **Product Grid** - Display products in grid layout
2. **Search** - Search by product name
3. **Filter** - Filter by category and price range
4. **Product Detail** - View detailed info in modal/expanded view
5. **Contact Form** - Submit inquiries about products
6. **Shopping Cart Preview** - Show selected products count (NO state, just visual)

**User Stories:**

```
US-1: L√† customer, t√¥i mu·ªën xem danh s√°ch s·∫£n ph·∫©m
      ƒë·ªÉ c√≥ th·ªÉ browse catalog

US-2: L√† customer, t√¥i mu·ªën search s·∫£n ph·∫©m theo t√™n
      ƒë·ªÉ nhanh ch√≥ng t√¨m s·∫£n ph·∫©m c·∫ßn mua

US-3: L√† customer, t√¥i mu·ªën filter theo category
      ƒë·ªÉ ch·ªâ xem lo·∫°i s·∫£n ph·∫©m t√¥i quan t√¢m

US-4: L√† customer, t√¥i mu·ªën filter theo price range
      ƒë·ªÉ t√¨m s·∫£n ph·∫©m ph√π h·ª£p budget

US-5: L√† customer, t√¥i mu·ªën xem chi ti·∫øt s·∫£n ph·∫©m
      ƒë·ªÉ hi·ªÉu r√µ specs tr∆∞·ªõc khi quy·∫øt ƒë·ªãnh

US-6: L√† customer, t√¥i mu·ªën contact store v·ªÅ s·∫£n ph·∫©m
      ƒë·ªÉ h·ªèi th√™m th√¥ng tin
```

---

### 1.2 Technical Specification

**Tech Stack (Gi·ªõi h·∫°n trong ki·∫øn th·ª©c ƒë√£ h·ªçc):**

- React (function components only)
- Vanilla CSS ho·∫∑c Tailwind utility classes
- NO external libraries
- NO state management (useState, useReducer)
- NO side effects (useEffect)

**Data Structure:**

```javascript
// Sample product data
const products = [
  {
    id: 1,
    name: 'MacBook Pro 16"',
    category: 'laptop',
    price: 2499,
    description: 'Apple M3 Pro chip, 16GB RAM, 512GB SSD',
    image: '/images/macbook.jpg', // Placeholder OK
    specs: {
      cpu: 'Apple M3 Pro',
      ram: '16GB',
      storage: '512GB SSD',
      display: '16-inch Retina',
    },
    inStock: true,
  },
  // ... more products
];
```

**Component Architecture (Preliminary):**

```
App
‚îú‚îÄ‚îÄ Header
‚îÇ   ‚îú‚îÄ‚îÄ Logo
‚îÇ   ‚îî‚îÄ‚îÄ CartIcon (with count)
‚îú‚îÄ‚îÄ SearchBar
‚îú‚îÄ‚îÄ FilterPanel
‚îÇ   ‚îú‚îÄ‚îÄ CategoryFilter
‚îÇ   ‚îî‚îÄ‚îÄ PriceRangeFilter
‚îú‚îÄ‚îÄ ProductGrid
‚îÇ   ‚îî‚îÄ‚îÄ ProductCard (multiple)
‚îÇ       ‚îú‚îÄ‚îÄ ProductImage
‚îÇ       ‚îú‚îÄ‚îÄ ProductInfo
‚îÇ       ‚îî‚îÄ‚îÄ AddToCartButton
‚îú‚îÄ‚îÄ ProductDetailModal (conditional)
‚îî‚îÄ‚îÄ ContactForm
```

**‚ö†Ô∏è Constraints (CRITICAL):**

- KH√îNG ƒë∆∞·ª£c d√πng useState (ch∆∞a h·ªçc!)
- KH√îNG ƒë∆∞·ª£c d√πng useEffect (ch∆∞a h·ªçc!)
- Search/Filter ph·∫£i work b·∫±ng c√°ch kh√°c (s·∫Ω h∆∞·ªõng d·∫´n)
- Cart "count" l√† fake/hardcoded (just for UI practice)

---

### 1.3 Mental Model - Architecture Without State

**ü§î C√¢u h·ªèi l·ªõn nh·∫•t:** L√†m sao search/filter KH√îNG c√≥ state?

**üí° Solution Approaches:**

**Approach A: URL-Based Filtering (Advanced)**

```javascript
// D√πng URL query params
// /products?search=macbook&category=laptop&maxPrice=3000

function App() {
  // Read from URL
  const params = new URLSearchParams(window.location.search);
  const searchQuery = params.get('search') || '';

  // Filter data based on URL
  const filteredProducts = products.filter((p) =>
    p.name.toLowerCase().includes(searchQuery.toLowerCase()),
  );

  return <ProductGrid products={filteredProducts} />;
}
```

**Pros:** Shareable URLs, back button works  
**Cons:** Advanced, ph·ª©c t·∫°p cho beginners

---

**Approach B: Form Submission Filtering (Recommended)**

```javascript
// M·ªói l·∫ßn filter/search ‚Üí Submit form ‚Üí Re-render v·ªõi query

function App() {
  const handleSearch = (event) => {
    event.preventDefault();
    const query = event.target.elements.search.value;

    // Filter v√† render l·∫°i
    // Trick: D√πng form action ho·∫∑c manual DOM update
  };

  return (
    <form onSubmit={handleSearch}>
      <input name='search' />
      <button type='submit'>Search</button>
    </form>
  );
}
```

**Pros:** Simple, d√πng ki·∫øn th·ª©c ƒë√£ h·ªçc  
**Cons:** C·∫ßn refresh ho·∫∑c DOM manipulation

---

**Approach C: Hidden Sections (What We'll Use)**

```javascript
// Render ALL filtered versions, show/hide b·∫±ng CSS

function App() {
  const allProducts = products;
  const laptops = products.filter((p) => p.category === 'laptop');
  const phones = products.filter((p) => p.category === 'phone');

  const showCategory = (category) => {
    // Hide all
    document.querySelectorAll('.product-section').forEach((el) => {
      el.style.display = 'none';
    });
    // Show target
    document.getElementById(category).style.display = 'grid';
  };

  return (
    <>
      <button onClick={() => showCategory('all')}>All</button>
      <button onClick={() => showCategory('laptops')}>Laptops</button>

      <div
        id='all'
        className='product-section'
      >
        <ProductGrid products={allProducts} />
      </div>
      <div
        id='laptops'
        className='product-section'
        style={{ display: 'none' }}
      >
        <ProductGrid products={laptops} />
      </div>
    </>
  );
}
```

**Pros:** Works without state, simple logic  
**Cons:** DOM manipulation, not "React way" (but OK for learning!)

---

### 1.4 Implementation Strategy

**Phase 1: Static Layout (30 min)**

- Create all components
- Hardcode sample data
- No interactivity yet

**Phase 2: Product Display (30 min)**

- Render product list
- Product cards with props
- Grid layout

**Phase 3: Category Filter (30 min)**

- Filter buttons
- Show/hide sections
- Active state styling

**Phase 4: Search (30 min)**

- Search input
- Filter by name
- Case-insensitive matching

**Phase 5: Price Filter (30 min)**

- Price range inputs
- Filter logic
- Combine with category filter

**Phase 6: Product Detail (30 min)**

- Click to show detail
- Modal or expanded view
- Close functionality

**Phase 7: Contact Form (30 min)**

- Form from Ng√†y 9
- Product inquiry context
- Validation

**Phase 8: Polish & Testing (30 min)**

- Styling
- Responsive design
- Edge cases
- Testing

**Total: ~4 hours (includes breaks)**

---

## üíª PH·∫¶N 2: STEP-BY-STEP IMPLEMENTATION (120 ph√∫t)

### Step 1: Project Setup & Data (15 ph√∫t)

**1.1 Create Project Structure**

```bash
# Folder structure
src/
‚îú‚îÄ‚îÄ App.jsx
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ products.js
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Header.jsx
‚îÇ   ‚îú‚îÄ‚îÄ SearchBar.jsx
‚îÇ   ‚îú‚îÄ‚îÄ FilterPanel.jsx
‚îÇ   ‚îú‚îÄ‚îÄ ProductGrid.jsx
‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.jsx
‚îÇ   ‚îú‚îÄ‚îÄ ProductDetail.jsx
‚îÇ   ‚îî‚îÄ‚îÄ ContactForm.jsx
‚îî‚îÄ‚îÄ styles/
    ‚îî‚îÄ‚îÄ App.css
```

**1.2 Create Product Data**

```javascript
// src/data/products.js

/**
 * Product catalog data
 * NOTE: In production, n√†y s·∫Ω t·ª´ API
 */
export const products = [
  {
    id: 1,
    name: 'MacBook Pro 16"',
    category: 'laptop',
    price: 2499,
    description: 'Powerful laptop for professionals with M3 Pro chip',
    image: 'https://via.placeholder.com/300x200?text=MacBook+Pro',
    specs: {
      processor: 'Apple M3 Pro',
      ram: '16GB',
      storage: '512GB SSD',
      display: '16-inch Retina',
    },
    inStock: true,
    rating: 4.8,
    reviews: 1250,
  },
  {
    id: 2,
    name: 'Dell XPS 15',
    category: 'laptop',
    price: 1899,
    description: 'Premium Windows laptop with stunning display',
    image: 'https://via.placeholder.com/300x200?text=Dell+XPS',
    specs: {
      processor: 'Intel Core i7-13700H',
      ram: '16GB',
      storage: '512GB SSD',
      display: '15.6-inch 4K OLED',
    },
    inStock: true,
    rating: 4.6,
    reviews: 890,
  },
  {
    id: 3,
    name: 'iPhone 15 Pro',
    category: 'phone',
    price: 999,
    description: 'Latest iPhone with titanium design and A17 Pro chip',
    image: 'https://via.placeholder.com/300x200?text=iPhone+15',
    specs: {
      processor: 'A17 Pro',
      ram: '8GB',
      storage: '256GB',
      display: '6.1-inch Super Retina XDR',
    },
    inStock: true,
    rating: 4.9,
    reviews: 3400,
  },
  {
    id: 4,
    name: 'Samsung Galaxy S24 Ultra',
    category: 'phone',
    price: 1199,
    description: 'Ultimate Android flagship with S Pen',
    image: 'https://via.placeholder.com/300x200?text=Galaxy+S24',
    specs: {
      processor: 'Snapdragon 8 Gen 3',
      ram: '12GB',
      storage: '512GB',
      display: '6.8-inch AMOLED',
    },
    inStock: true,
    rating: 4.7,
    reviews: 2100,
  },
  {
    id: 5,
    name: 'iPad Pro 12.9"',
    category: 'tablet',
    price: 1099,
    description: 'Professional tablet with M2 chip',
    image: 'https://via.placeholder.com/300x200?text=iPad+Pro',
    specs: {
      processor: 'Apple M2',
      ram: '8GB',
      storage: '256GB',
      display: '12.9-inch Liquid Retina XDR',
    },
    inStock: true,
    rating: 4.8,
    reviews: 1560,
  },
  {
    id: 6,
    name: 'Samsung Galaxy Tab S9',
    category: 'tablet',
    price: 799,
    description: 'Versatile Android tablet with S Pen included',
    image: 'https://via.placeholder.com/300x200?text=Galaxy+Tab',
    specs: {
      processor: 'Snapdragon 8 Gen 2',
      ram: '8GB',
      storage: '256GB',
      display: '11-inch AMOLED',
    },
    inStock: true,
    rating: 4.5,
    reviews: 670,
  },
  {
    id: 7,
    name: 'AirPods Pro (2nd gen)',
    category: 'accessory',
    price: 249,
    description: 'Premium wireless earbuds with ANC',
    image: 'https://via.placeholder.com/300x200?text=AirPods+Pro',
    specs: {
      battery: '6 hours (ANC on)',
      case: '30 hours total',
      features: 'Adaptive Audio, ANC',
      connectivity: 'Bluetooth 5.3',
    },
    inStock: true,
    rating: 4.7,
    reviews: 5600,
  },
  {
    id: 8,
    name: 'Sony WH-1000XM5',
    category: 'accessory',
    price: 399,
    description: 'Industry-leading noise cancellation headphones',
    image: 'https://via.placeholder.com/300x200?text=Sony+XM5',
    specs: {
      battery: '30 hours',
      features: 'ANC, Multipoint',
      driver: '30mm',
      connectivity: 'Bluetooth 5.2',
    },
    inStock: true,
    rating: 4.9,
    reviews: 4200,
  },
  {
    id: 9,
    name: 'LG 27" 4K Monitor',
    category: 'accessory',
    price: 449,
    description: '4K UHD monitor with USB-C',
    image: 'https://via.placeholder.com/300x200?text=LG+Monitor',
    specs: {
      resolution: '3840 x 2160',
      refreshRate: '60Hz',
      panel: 'IPS',
      ports: 'HDMI, DisplayPort, USB-C',
    },
    inStock: false,
    rating: 4.4,
    reviews: 320,
  },
  {
    id: 10,
    name: 'Logitech MX Master 3S',
    category: 'accessory',
    price: 99,
    description: 'Premium wireless mouse for professionals',
    image: 'https://via.placeholder.com/300x200?text=MX+Master',
    specs: {
      connectivity: 'Bluetooth, USB receiver',
      battery: '70 days',
      buttons: '7 programmable',
      dpi: '8000',
    },
    inStock: true,
    rating: 4.8,
    reviews: 8900,
  },
  {
    id: 11,
    name: 'ThinkPad X1 Carbon',
    category: 'laptop',
    price: 1699,
    description: 'Business ultrabook with legendary keyboard',
    image: 'https://via.placeholder.com/300x200?text=ThinkPad',
    specs: {
      processor: 'Intel Core i7-1365U',
      ram: '16GB',
      storage: '512GB SSD',
      display: '14-inch FHD+',
    },
    inStock: true,
    rating: 4.7,
    reviews: 450,
  },
  {
    id: 12,
    name: 'Google Pixel 8 Pro',
    category: 'phone',
    price: 999,
    description: 'AI-powered photography and pure Android',
    image: 'https://via.placeholder.com/300x200?text=Pixel+8',
    specs: {
      processor: 'Google Tensor G3',
      ram: '12GB',
      storage: '256GB',
      display: '6.7-inch LTPO OLED',
    },
    inStock: true,
    rating: 4.6,
    reviews: 1800,
  },
];

/**
 * Get unique categories
 */
export const categories = [...new Set(products.map((p) => p.category))];

/**
 * Price range helper
 */
export const priceRanges = [
  { label: 'Under $500', min: 0, max: 500 },
  { label: '$500 - $1000', min: 500, max: 1000 },
  { label: '$1000 - $2000', min: 1000, max: 2000 },
  { label: 'Over $2000', min: 2000, max: Infinity },
];
```

---

### Step 2: Header Component (15 ph√∫t)

```jsx
// src/components/Header.jsx

/**
 * Header v·ªõi logo v√† cart icon
 * Props: cartCount (for demo - hardcoded OK)
 */
function Header({ cartCount = 0 }) {
  return (
    <header
      style={{
        backgroundColor: '#1a1a2e',
        color: 'white',
        padding: '20px 40px',
        display: 'flex',
        justifyContent: 'space-between',
        alignItems: 'center',
        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
      }}
    >
      {/* Logo */}
      <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
        <div
          style={{
            width: '40px',
            height: '40px',
            backgroundColor: '#16213e',
            borderRadius: '8px',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            fontSize: '24px',
          }}
        >
          üõí
        </div>
        <div>
          <h1 style={{ margin: 0, fontSize: '24px', fontWeight: 'bold' }}>
            TechStore
          </h1>
          <p style={{ margin: 0, fontSize: '12px', color: '#94a3b8' }}>
            Premium Electronics
          </p>
        </div>
      </div>

      {/* Navigation */}
      <nav style={{ display: 'flex', gap: '30px', alignItems: 'center' }}>
        <a
          href='#products'
          style={{ color: 'white', textDecoration: 'none' }}
        >
          Products
        </a>
        <a
          href='#contact'
          style={{ color: 'white', textDecoration: 'none' }}
        >
          Contact
        </a>

        {/* Cart Icon */}
        <div style={{ position: 'relative', cursor: 'pointer' }}>
          <span style={{ fontSize: '24px' }}>üõçÔ∏è</span>
          {cartCount > 0 && (
            <span
              style={{
                position: 'absolute',
                top: '-8px',
                right: '-8px',
                backgroundColor: '#e63946',
                color: 'white',
                borderRadius: '50%',
                width: '20px',
                height: '20px',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: '12px',
                fontWeight: 'bold',
              }}
            >
              {cartCount}
            </span>
          )}
        </div>
      </nav>
    </header>
  );
}

export default Header;
```

---

### Step 3: ProductCard Component (20 ph√∫t)

```jsx
// src/components/ProductCard.jsx

/**
 * Display individual product
 * Props: product object, onViewDetail callback
 */
function ProductCard({ product, onViewDetail }) {
  const {
    id,
    name,
    category,
    price,
    description,
    image,
    inStock,
    rating,
    reviews,
  } = product;

  // Format price
  const formattedPrice = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
  }).format(price);

  // Render stars
  const renderStars = (rating) => {
    const stars = [];
    const fullStars = Math.floor(rating);
    const hasHalfStar = rating % 1 >= 0.5;

    for (let i = 0; i < fullStars; i++) {
      stars.push(<span key={`full-${i}`}>‚≠ê</span>);
    }
    if (hasHalfStar) {
      stars.push(<span key='half'>‚ú®</span>);
    }
    return stars;
  };

  return (
    <div
      style={{
        border: '1px solid #e2e8f0',
        borderRadius: '12px',
        overflow: 'hidden',
        backgroundColor: 'white',
        transition: 'transform 0.2s, box-shadow 0.2s',
        cursor: 'pointer',
      }}
      onMouseEnter={(e) => {
        e.currentTarget.style.transform = 'translateY(-4px)';
        e.currentTarget.style.boxShadow = '0 12px 24px rgba(0,0,0,0.1)';
      }}
      onMouseLeave={(e) => {
        e.currentTarget.style.transform = 'translateY(0)';
        e.currentTarget.style.boxShadow = 'none';
      }}
    >
      {/* Image */}
      <div style={{ position: 'relative' }}>
        <img
          src={image}
          alt={name}
          style={{
            width: '100%',
            height: '200px',
            objectFit: 'cover',
          }}
        />

        {/* Category Badge */}
        <span
          style={{
            position: 'absolute',
            top: '12px',
            left: '12px',
            backgroundColor: '#1a1a2e',
            color: 'white',
            padding: '4px 12px',
            borderRadius: '16px',
            fontSize: '12px',
            textTransform: 'capitalize',
          }}
        >
          {category}
        </span>

        {/* Stock Badge */}
        {!inStock && (
          <span
            style={{
              position: 'absolute',
              top: '12px',
              right: '12px',
              backgroundColor: '#e63946',
              color: 'white',
              padding: '4px 12px',
              borderRadius: '16px',
              fontSize: '12px',
            }}
          >
            Out of Stock
          </span>
        )}
      </div>

      {/* Product Info */}
      <div style={{ padding: '16px' }}>
        <h3
          style={{
            margin: '0 0 8px 0',
            fontSize: '18px',
            fontWeight: '600',
            color: '#1a1a2e',
          }}
        >
          {name}
        </h3>

        <p
          style={{
            margin: '0 0 12px 0',
            fontSize: '14px',
            color: '#64748b',
            lineHeight: '1.5',
            height: '42px',
            overflow: 'hidden',
            textOverflow: 'ellipsis',
            display: '-webkit-box',
            WebkitLineClamp: 2,
            WebkitBoxOrient: 'vertical',
          }}
        >
          {description}
        </p>

        {/* Rating */}
        <div
          style={{
            display: 'flex',
            alignItems: 'center',
            gap: '8px',
            marginBottom: '12px',
          }}
        >
          <div style={{ fontSize: '14px' }}>{renderStars(rating)}</div>
          <span style={{ fontSize: '14px', color: '#64748b' }}>
            {rating} ({reviews.toLocaleString()})
          </span>
        </div>

        {/* Price */}
        <div
          style={{
            fontSize: '24px',
            fontWeight: 'bold',
            color: '#1a1a2e',
            marginBottom: '16px',
          }}
        >
          {formattedPrice}
        </div>

        {/* Actions */}
        <div style={{ display: 'flex', gap: '8px' }}>
          <button
            onClick={() => onViewDetail(product)}
            style={{
              flex: 1,
              padding: '10px',
              backgroundColor: '#16213e',
              color: 'white',
              border: 'none',
              borderRadius: '8px',
              cursor: 'pointer',
              fontSize: '14px',
              fontWeight: '500',
            }}
          >
            View Details
          </button>

          <button
            disabled={!inStock}
            style={{
              flex: 1,
              padding: '10px',
              backgroundColor: inStock ? '#0f62fe' : '#cbd5e1',
              color: 'white',
              border: 'none',
              borderRadius: '8px',
              cursor: inStock ? 'pointer' : 'not-allowed',
              fontSize: '14px',
              fontWeight: '500',
            }}
            onClick={(e) => {
              e.stopPropagation();
              if (inStock) {
                alert(`Added ${name} to cart!`);
              }
            }}
          >
            {inStock ? 'Add to Cart' : 'Unavailable'}
          </button>
        </div>
      </div>
    </div>
  );
}

export default ProductCard;
```

---

### Step 4: ProductGrid Component (15 ph√∫t)

```jsx
// src/components/ProductGrid.jsx

import ProductCard from './ProductCard';

/**
 * Grid layout for products
 * Props: products array, onViewDetail callback
 */
function ProductGrid({ products, onViewDetail }) {
  // Empty state
  if (!products || products.length === 0) {
    return (
      <div
        style={{
          textAlign: 'center',
          padding: '60px 20px',
          color: '#64748b',
        }}
      >
        <div style={{ fontSize: '48px', marginBottom: '16px' }}>üì¶</div>
        <h3 style={{ margin: '0 0 8px 0', fontSize: '20px' }}>
          No products found
        </h3>
        <p style={{ margin: 0 }}>
          Try adjusting your search or filter criteria
        </p>
      </div>
    );
  }

  return (
    <div>
      {/* Results count */}
      <div
        style={{
          marginBottom: '24px',
          fontSize: '14px',
          color: '#64748b',
        }}
      >
        Showing {products.length} product{products.length !== 1 ? 's' : ''}
      </div>

      {/* Grid */}
      <div
        style={{
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',
          gap: '24px',
        }}
      >
        {products.map((product) => (
          <ProductCard
            key={product.id}
            product={product}
            onViewDetail={onViewDetail}
          />
        ))}
      </div>
    </div>
  );
}

export default ProductGrid;
```

---

### Step 5: FilterPanel Component (30 ph√∫t)

```jsx
// src/components/FilterPanel.jsx

import { categories, priceRanges } from '../data/products';

/**
 * Filter panel v·ªõi category v√† price range
 * Props: onFilterChange callback
 */
function FilterPanel({ onFilterChange }) {
  return (
    <div
      style={{
        backgroundColor: 'white',
        border: '1px solid #e2e8f0',
        borderRadius: '12px',
        padding: '24px',
        marginBottom: '24px',
      }}
    >
      <h3
        style={{
          margin: '0 0 20px 0',
          fontSize: '18px',
          fontWeight: '600',
        }}
      >
        Filters
      </h3>

      {/* Category Filter */}
      <div style={{ marginBottom: '24px' }}>
        <h4
          style={{
            margin: '0 0 12px 0',
            fontSize: '14px',
            fontWeight: '600',
            textTransform: 'uppercase',
            color: '#64748b',
          }}
        >
          Category
        </h4>

        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>
          {/* All button */}
          <button
            onClick={() => onFilterChange({ type: 'category', value: 'all' })}
            data-category='all'
            className='filter-btn filter-btn-active'
            style={{
              padding: '8px 16px',
              border: '1px solid #cbd5e1',
              borderRadius: '20px',
              backgroundColor: '#1a1a2e',
              color: 'white',
              cursor: 'pointer',
              fontSize: '14px',
              transition: 'all 0.2s',
            }}
          >
            All Products
          </button>

          {/* Category buttons */}
          {categories.map((cat) => (
            <button
              key={cat}
              onClick={() => onFilterChange({ type: 'category', value: cat })}
              data-category={cat}
              className='filter-btn'
              style={{
                padding: '8px 16px',
                border: '1px solid #cbd5e1',
                borderRadius: '20px',
                backgroundColor: 'white',
                color: '#1a1a2e',
                cursor: 'pointer',
                fontSize: '14px',
                textTransform: 'capitalize',
                transition: 'all 0.2s',
              }}
            >
              {cat}
            </button>
          ))}
        </div>
      </div>

      {/* Price Range Filter */}
      <div>
        <h4
          style={{
            margin: '0 0 12px 0',
            fontSize: '14px',
            fontWeight: '600',
            textTransform: 'uppercase',
            color: '#64748b',
          }}
        >
          Price Range
        </h4>

        <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
          {/* All prices */}
          <label
            style={{
              display: 'flex',
              alignItems: 'center',
              gap: '8px',
              cursor: 'pointer',
              padding: '8px',
              borderRadius: '6px',
              transition: 'background-color 0.2s',
            }}
          >
            <input
              type='radio'
              name='priceRange'
              value='all'
              defaultChecked
              onChange={() => onFilterChange({ type: 'price', value: 'all' })}
              style={{ cursor: 'pointer' }}
            />
            <span>All Prices</span>
          </label>

          {/* Price range options */}
          {priceRanges.map((range, index) => (
            <label
              key={index}
              style={{
                display: 'flex',
                alignItems: 'center',
                gap: '8px',
                cursor: 'pointer',
                padding: '8px',
                borderRadius: '6px',
                transition: 'background-color 0.2s',
              }}
            >
              <input
                type='radio'
                name='priceRange'
                value={index}
                onChange={() =>
                  onFilterChange({
                    type: 'price',
                    value: range,
                  })
                }
                style={{ cursor: 'pointer' }}
              />
              <span>{range.label}</span>
            </label>
          ))}
        </div>
      </div>

      {/* Clear Filters Button */}
      <button
        onClick={() => {
          // Reset category
          onFilterChange({ type: 'category', value: 'all' });

          // Reset price
          const allPriceRadio = document.querySelector(
            'input[name="priceRange"][value="all"]',
          );
          if (allPriceRadio) allPriceRadio.checked = true;
          onFilterChange({ type: 'price', value: 'all' });
        }}
        style={{
          width: '100%',
          marginTop: '20px',
          padding: '10px',
          border: '1px solid #cbd5e1',
          borderRadius: '8px',
          backgroundColor: 'white',
          color: '#1a1a2e',
          cursor: 'pointer',
          fontSize: '14px',
          fontWeight: '500',
        }}
      >
        Clear All Filters
      </button>

      {/* CSS for hover effects */}
      <style>{`
        .filter-btn:hover {
          background-color: #f1f5f9 !important;
          border-color: #94a3b8 !important;
        }
        
        .filter-btn-active {
          background-color: #1a1a2e !important;
          color: white !important;
        }
        
        label:has(input[type="radio"]):hover {
          background-color: #f1f5f9;
        }
      `}</style>
    </div>
  );
}

export default FilterPanel;
```

---

### Step 6: SearchBar Component (20 ph√∫t)

```jsx
// src/components/SearchBar.jsx

/**
 * Search bar v·ªõi instant search capability
 * Props: onSearch callback
 */
function SearchBar({ onSearch }) {
  const handleSubmit = (event) => {
    event.preventDefault();
    const query = event.target.elements.search.value;
    onSearch(query);
  };

  const handleInput = (event) => {
    // Instant search khi g√µ
    const query = event.target.value;
    onSearch(query);
  };

  return (
    <form
      onSubmit={handleSubmit}
      style={{
        backgroundColor: 'white',
        border: '1px solid #e2e8f0',
        borderRadius: '12px',
        padding: '16px 24px',
        marginBottom: '24px',
        display: 'flex',
        gap: '12px',
        alignItems: 'center',
      }}
    >
      {/* Search Icon */}
      <span style={{ fontSize: '20px' }}>üîç</span>

      {/* Search Input */}
      <input
        type='text'
        name='search'
        placeholder='Search products by name...'
        onInput={handleInput}
        style={{
          flex: 1,
          border: 'none',
          outline: 'none',
          fontSize: '16px',
          padding: '8px 0',
        }}
      />

      {/* Search Button */}
      <button
        type='submit'
        style={{
          padding: '10px 20px',
          backgroundColor: '#0f62fe',
          color: 'white',
          border: 'none',
          borderRadius: '8px',
          cursor: 'pointer',
          fontSize: '14px',
          fontWeight: '500',
        }}
      >
        Search
      </button>
    </form>
  );
}

export default SearchBar;
```

---

### Step 7: ProductDetail Modal (25 ph√∫t)

```jsx
// src/components/ProductDetail.jsx

/**
 * Product detail modal
 * Props: product object, onClose callback
 */
function ProductDetail({ product, onClose }) {
  if (!product) return null;

  const {
    name,
    category,
    price,
    description,
    image,
    specs,
    inStock,
    rating,
    reviews,
  } = product;

  const formattedPrice = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
  }).format(price);

  // Close on Escape key
  const handleKeyDown = (event) => {
    if (event.key === 'Escape') {
      onClose();
    }
  };

  // Attach keyboard listener
  document.addEventListener('keydown', handleKeyDown);

  return (
    <div
      onClick={onClose}
      style={{
        position: 'fixed',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundColor: 'rgba(0,0,0,0.7)',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        padding: '20px',
        zIndex: 1000,
      }}
    >
      <div
        onClick={(e) => e.stopPropagation()}
        style={{
          backgroundColor: 'white',
          borderRadius: '16px',
          maxWidth: '800px',
          width: '100%',
          maxHeight: '90vh',
          overflow: 'auto',
          position: 'relative',
        }}
      >
        {/* Close Button */}
        <button
          onClick={onClose}
          style={{
            position: 'absolute',
            top: '16px',
            right: '16px',
            width: '36px',
            height: '36px',
            borderRadius: '50%',
            border: 'none',
            backgroundColor: 'rgba(0,0,0,0.1)',
            color: '#1a1a2e',
            fontSize: '20px',
            cursor: 'pointer',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            zIndex: 1,
          }}
        >
          ‚úï
        </button>

        {/* Content */}
        <div
          style={{
            display: 'grid',
            gridTemplateColumns: '1fr 1fr',
            gap: '32px',
            padding: '32px',
          }}
        >
          {/* Left: Image */}
          <div>
            <img
              src={image}
              alt={name}
              style={{
                width: '100%',
                borderRadius: '12px',
                marginBottom: '16px',
              }}
            />

            {/* Category Badge */}
            <span
              style={{
                display: 'inline-block',
                backgroundColor: '#1a1a2e',
                color: 'white',
                padding: '6px 16px',
                borderRadius: '20px',
                fontSize: '14px',
                textTransform: 'capitalize',
                marginRight: '8px',
              }}
            >
              {category}
            </span>

            {/* Stock Badge */}
            <span
              style={{
                display: 'inline-block',
                backgroundColor: inStock ? '#10b981' : '#e63946',
                color: 'white',
                padding: '6px 16px',
                borderRadius: '20px',
                fontSize: '14px',
              }}
            >
              {inStock ? 'In Stock' : 'Out of Stock'}
            </span>
          </div>

          {/* Right: Details */}
          <div>
            <h2
              style={{
                margin: '0 0 12px 0',
                fontSize: '28px',
                fontWeight: 'bold',
              }}
            >
              {name}
            </h2>

            {/* Rating */}
            <div
              style={{
                display: 'flex',
                alignItems: 'center',
                gap: '8px',
                marginBottom: '16px',
              }}
            >
              <span>‚≠ê {rating}</span>
              <span style={{ color: '#64748b', fontSize: '14px' }}>
                ({reviews.toLocaleString()} reviews)
              </span>
            </div>

            {/* Price */}
            <div
              style={{
                fontSize: '36px',
                fontWeight: 'bold',
                color: '#1a1a2e',
                marginBottom: '16px',
              }}
            >
              {formattedPrice}
            </div>

            {/* Description */}
            <p
              style={{
                color: '#64748b',
                lineHeight: '1.6',
                marginBottom: '24px',
              }}
            >
              {description}
            </p>

            {/* Specifications */}
            <div
              style={{
                backgroundColor: '#f8fafc',
                padding: '20px',
                borderRadius: '12px',
                marginBottom: '24px',
              }}
            >
              <h3
                style={{
                  margin: '0 0 16px 0',
                  fontSize: '18px',
                  fontWeight: '600',
                }}
              >
                Specifications
              </h3>
              <div style={{ display: 'grid', gap: '12px' }}>
                {Object.entries(specs).map(([key, value]) => (
                  <div
                    key={key}
                    style={{ display: 'flex', justifyContent: 'space-between' }}
                  >
                    <span
                      style={{ color: '#64748b', textTransform: 'capitalize' }}
                    >
                      {key}:
                    </span>
                    <span style={{ fontWeight: '500' }}>{value}</span>
                  </div>
                ))}
              </div>
            </div>

            {/* Actions */}
            <div style={{ display: 'flex', gap: '12px' }}>
              <button
                disabled={!inStock}
                onClick={() => alert(`Added ${name} to cart!`)}
                style={{
                  flex: 1,
                  padding: '14px',
                  backgroundColor: inStock ? '#0f62fe' : '#cbd5e1',
                  color: 'white',
                  border: 'none',
                  borderRadius: '8px',
                  cursor: inStock ? 'pointer' : 'not-allowed',
                  fontSize: '16px',
                  fontWeight: '600',
                }}
              >
                {inStock ? 'Add to Cart' : 'Out of Stock'}
              </button>

              <button
                onClick={() => {
                  const contactSection = document.getElementById('contact');
                  if (contactSection) {
                    onClose();
                    contactSection.scrollIntoView({ behavior: 'smooth' });
                  }
                }}
                style={{
                  padding: '14px 24px',
                  backgroundColor: 'white',
                  color: '#0f62fe',
                  border: '2px solid #0f62fe',
                  borderRadius: '8px',
                  cursor: 'pointer',
                  fontSize: '16px',
                  fontWeight: '600',
                }}
              >
                Contact Us
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default ProductDetail;
```

---

### Step 8: ContactForm Component (20 ph√∫t)

```jsx
// src/components/ContactForm.jsx

/**
 * Contact form ƒë·ªÉ inquire v·ªÅ s·∫£n ph·∫©m
 * Reuse knowledge t·ª´ Ng√†y 9
 */
function ContactForm() {
  const handleSubmit = (event) => {
    event.preventDefault();

    const formData = new FormData(event.target);
    const data = {
      name: formData.get('name')?.trim(),
      email: formData.get('email')?.trim(),
      subject: formData.get('subject')?.trim(),
      message: formData.get('message')?.trim(),
    };

    // Validation
    const errors = [];

    if (!data.name || data.name.length < 2) {
      errors.push('Name must be at least 2 characters');
    }

    if (!data.email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) {
      errors.push('Invalid email address');
    }

    if (!data.subject || data.subject.length < 5) {
      errors.push('Subject must be at least 5 characters');
    }

    if (!data.message || data.message.length < 20) {
      errors.push('Message must be at least 20 characters');
    }

    if (errors.length > 0) {
      alert('Please fix the following errors:\n\n' + errors.join('\n'));
      return;
    }

    // Success
    console.log('‚úÖ Contact form submitted:', data);
    alert('Thank you! We will get back to you soon.');
    event.target.reset();
  };

  return (
    <div
      id='contact'
      style={{
        backgroundColor: 'white',
        border: '1px solid #e2e8f0',
        borderRadius: '12px',
        padding: '32px',
        marginTop: '48px',
      }}
    >
      <h2 style={{ margin: '0 0 8px 0', fontSize: '24px', fontWeight: 'bold' }}>
        Contact Us
      </h2>
      <p style={{ margin: '0 0 24px 0', color: '#64748b' }}>
        Have questions about our products? We'd love to hear from you.
      </p>

      <form onSubmit={handleSubmit}>
        <div
          style={{
            display: 'grid',
            gridTemplateColumns: '1fr 1fr',
            gap: '16px',
            marginBottom: '16px',
          }}
        >
          {/* Name */}
          <div>
            <label
              htmlFor='name'
              style={{
                display: 'block',
                marginBottom: '8px',
                fontWeight: '500',
              }}
            >
              Name <span style={{ color: '#e63946' }}>*</span>
            </label>
            <input
              type='text'
              id='name'
              name='name'
              required
              style={{
                width: '100%',
                padding: '12px',
                border: '1px solid #cbd5e1',
                borderRadius: '8px',
                fontSize: '16px',
              }}
            />
          </div>

          {/* Email */}
          <div>
            <label
              htmlFor='email'
              style={{
                display: 'block',
                marginBottom: '8px',
                fontWeight: '500',
              }}
            >
              Email <span style={{ color: '#e63946' }}>*</span>
            </label>
            <input
              type='email'
              id='email'
              name='email'
              required
              style={{
                width: '100%',
                padding: '12px',
                border: '1px solid #cbd5e1',
                borderRadius: '8px',
                fontSize: '16px',
              }}
            />
          </div>
        </div>

        {/* Subject */}
        <div style={{ marginBottom: '16px' }}>
          <label
            htmlFor='subject'
            style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}
          >
            Subject <span style={{ color: '#e63946' }}>*</span>
          </label>
          <input
            type='text'
            id='subject'
            name='subject'
            placeholder='Product inquiry, Support, etc.'
            required
            style={{
              width: '100%',
              padding: '12px',
              border: '1px solid #cbd5e1',
              borderRadius: '8px',
              fontSize: '16px',
            }}
          />
        </div>

        {/* Message */}
        <div style={{ marginBottom: '24px' }}>
          <label
            htmlFor='message'
            style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}
          >
            Message <span style={{ color: '#e63946' }}>*</span>
          </label>
          <textarea
            id='message'
            name='message'
            rows={6}
            placeholder='Tell us more about your inquiry...'
            required
            style={{
              width: '100%',
              padding: '12px',
              border: '1px solid #cbd5e1',
              borderRadius: '8px',
              fontSize: '16px',
              resize: 'vertical',
            }}
          />
        </div>

        {/* Submit Button */}
        <button
          type='submit'
          style={{
            padding: '14px 32px',
            backgroundColor: '#0f62fe',
            color: 'white',
            border: 'none',
            borderRadius: '8px',
            cursor: 'pointer',
            fontSize: '16px',
            fontWeight: '600',
          }}
        >
          Send Message
        </button>
      </form>
    </div>
  );
}

export default ContactForm;
```

---

### Step 9: Main App Integration (30 ph√∫t)

```jsx
// src/App.jsx

import { products } from './data/products';
import Header from './components/Header';
import SearchBar from './components/SearchBar';
import FilterPanel from './components/FilterPanel';
import ProductGrid from './components/ProductGrid';
import ProductDetail from './components/ProductDetail';
import ContactForm from './components/ContactForm';

/**
 * Main App Component
 * Manages filtering and search WITHOUT state
 */
function App() {
  // Current filters (stored in "memory" via closures)
  let currentFilters = {
    category: 'all',
    priceRange: 'all',
    searchQuery: '',
  };

  // Selected product for detail view
  let selectedProduct = null;

  /**
   * Filter products based on current criteria
   */
  const getFilteredProducts = () => {
    let filtered = [...products];

    // Apply category filter
    if (currentFilters.category !== 'all') {
      filtered = filtered.filter((p) => p.category === currentFilters.category);
    }

    // Apply price filter
    if (currentFilters.priceRange !== 'all') {
      const range = currentFilters.priceRange;
      filtered = filtered.filter(
        (p) => p.price >= range.min && p.price <= range.max,
      );
    }

    // Apply search filter
    if (currentFilters.searchQuery) {
      const query = currentFilters.searchQuery.toLowerCase();
      filtered = filtered.filter(
        (p) =>
          p.name.toLowerCase().includes(query) ||
          p.description.toLowerCase().includes(query) ||
          p.category.toLowerCase().includes(query),
      );
    }

    return filtered;
  };

  /**
   * Re-render product grid
   */
  const updateProductDisplay = () => {
    const filtered = getFilteredProducts();
    const gridContainer = document.getElementById('product-grid-container');

    if (gridContainer) {
      // This is a hack - we're manually updating DOM
      // In real React with state, this would be automatic
      const event = new CustomEvent('productsFiltered', { detail: filtered });
      window.dispatchEvent(event);
    }
  };

  /**
   * Handle filter changes
   */
  const handleFilterChange = ({ type, value }) => {
    if (type === 'category') {
      currentFilters.category = value;

      // Update button styles
      document.querySelectorAll('.filter-btn').forEach((btn) => {
        const btnCategory = btn.getAttribute('data-category');
        if (btnCategory === value) {
          btn.classList.add('filter-btn-active');
          btn.style.backgroundColor = '#1a1a2e';
          btn.style.color = 'white';
        } else {
          btn.classList.remove('filter-btn-active');
          btn.style.backgroundColor = 'white';
          btn.style.color = '#1a1a2e';
        }
      });
    } else if (type === 'price') {
      currentFilters.priceRange = value;
    }

    updateProductDisplay();
  };

  /**
   * Handle search
   */
  const handleSearch = (query) => {
    currentFilters.searchQuery = query;
    updateProductDisplay();
  };

  /**
   * Handle view product detail
   */
  const handleViewDetail = (product) => {
    selectedProduct = product;
    const modalContainer = document.getElementById('modal-container');
    if (modalContainer) {
      modalContainer.style.display = 'block';
    }
  };

  /**
   * Handle close detail
   */
  const handleCloseDetail = () => {
    selectedProduct = null;
    const modalContainer = document.getElementById('modal-container');
    if (modalContainer) {
      modalContainer.style.display = 'none';
    }
  };

  return (
    <div style={{ minHeight: '100vh', backgroundColor: '#f8fafc' }}>
      <Header cartCount={3} />

      <main
        style={{ maxWidth: '1400px', margin: '0 auto', padding: '40px 20px' }}
      >
        {/* Search */}
        <SearchBar onSearch={handleSearch} />

        {/* Main Content */}
        <div
          style={{
            display: 'grid',
            gridTemplateColumns: '300px 1fr',
            gap: '32px',
          }}
        >
          {/* Sidebar: Filters */}
          <aside>
            <FilterPanel onFilterChange={handleFilterChange} />
          </aside>

          {/* Main: Products */}
          <div id='product-grid-container'>
            <ProductGridWrapper
              initialProducts={products}
              onViewDetail={handleViewDetail}
            />
          </div>
        </div>

        {/* Contact Form */}
        <ContactForm />
      </main>

      {/* Product Detail Modal */}
      <div
        id='modal-container'
        style={{ display: 'none' }}
      >
        <ProductDetail
          product={selectedProduct}
          onClose={handleCloseDetail}
        />
      </div>
    </div>
  );
}

/**
 * Wrapper component that listens for filter events
 * This is a workaround since we don't have state
 */
function ProductGridWrapper({ initialProducts, onViewDetail }) {
  const [displayProducts, setDisplayProducts] = React.useState(initialProducts);

  React.useEffect(() => {
    const handleProductsFiltered = (event) => {
      setDisplayProducts(event.detail);
    };

    window.addEventListener('productsFiltered', handleProductsFiltered);
    return () =>
      window.removeEventListener('productsFiltered', handleProductsFiltered);
  }, []);

  return (
    <ProductGrid
      products={displayProducts}
      onViewDetail={onViewDetail}
    />
  );
}

export default App;
```

**‚ö†Ô∏è IMPORTANT NOTE:**

C√°ch implement tr√™n d√πng DOM manipulation v√† custom events - KH√îNG ph·∫£i "React way" chu·∫©n. ƒê√¢y l√† workaround v√¨ ch√∫ng ta ch∆∞a h·ªçc `useState`.

**T·ª´ Ng√†y 11 tr·ªü ƒëi**, ch√∫ng ta s·∫Ω refactor l·∫°i d√πng state management proper. Hi·ªán t·∫°i, focus v√†o:

- Component structure
- Props flow
- Event handling
- Form validation

---

## üî® PH·∫¶N 3: B√ÄI T·∫¨P TH·ª∞C H√ÄNH (60 ph√∫t)

### ‚≠ê Exercise 1: Add Sort Functionality (20 ph√∫t)

```jsx
/**
 * üéØ M·ª•c ti√™u: Th√™m sort options
 * ‚è±Ô∏è Th·ªùi gian: 20 ph√∫t
 * üö´ KH√îNG d√πng: useState
 *
 * Requirements:
 * 1. Add sort dropdown v·ªõi options:
 *    - Price: Low to High
 *    - Price: High to Low
 *    - Name: A-Z
 *    - Rating: High to Low
 * 2. Update product display khi sort
 * 3. Combine v·ªõi existing filters
 *
 * üí° G·ª£i √Ω:
 * - Add sort to currentFilters object
 * - Update getFilteredProducts() to include sorting
 * - Use array.sort() method
 */

// üéØ NHI·ªÜM V·ª§ C·ª¶A B·∫†N:
// Implement SortDropdown component v√† integrate v√†o App
```

<details>
<summary>üí° Solution</summary>

```jsx
// src/components/SortDropdown.jsx

/**
 * Dropdown ƒë·ªÉ ch·ªçn c√°ch s·∫Øp x·∫øp s·∫£n ph·∫©m
 * @param {Function} onSortChange - Callback khi thay ƒë·ªïi sort option
 *                             Nh·∫≠n object { type: 'sort', value: string }
 */
function SortDropdown({ onSortChange }) {
  const handleChange = (e) => {
    const value = e.target.value;
    onSortChange({ type: 'sort', value });
  };

  return (
    <div style={{ marginBottom: '24px' }}>
      <label
        htmlFor='sort'
        style={{
          display: 'block',
          marginBottom: '8px',
          fontWeight: '600',
          color: '#64748b',
        }}
      >
        Sort by
      </label>
      <select
        id='sort'
        onChange={handleChange}
        defaultValue='default'
        style={{
          width: '100%',
          maxWidth: '240px',
          padding: '10px 12px',
          border: '1px solid #cbd5e1',
          borderRadius: '8px',
          fontSize: '14px',
          backgroundColor: 'white',
        }}
      >
        <option value='default'>Default</option>
        <option value='price-low-high'>Price: Low to High</option>
        <option value='price-high-low'>Price: High to Low</option>
        <option value='name-a-z'>Name: A to Z</option>
        <option value='name-z-a'>Name: Z to A</option>
        <option value='rating-high-low'>Rating: High to Low</option>
      </select>
    </div>
  );
}

export default SortDropdown;
```

```jsx
// Trong App.jsx - c·∫≠p nh·∫≠t ph·∫ßn currentFilters v√† c√°c h√†m li√™n quan

// Th√™m v√†o currentFilters
let currentFilters = {
  category: 'all',
  priceRange: 'all',
  searchQuery: '',
  sort: 'default', // ‚Üê th√™m
};

// C·∫≠p nh·∫≠t getFilteredProducts
const getFilteredProducts = () => {
  let filtered = [...products];

  // ... (gi·ªØ nguy√™n category, price, search)

  // √Åp d·ª•ng sort
  if (currentFilters.sort !== 'default') {
    filtered = [...filtered].sort((a, b) => {
      switch (currentFilters.sort) {
        case 'price-low-high':
          return a.price - b.price;
        case 'price-high-low':
          return b.price - a.price;
        case 'name-a-z':
          return a.name.localeCompare(b.name);
        case 'name-z-a':
          return b.name.localeCompare(a.name);
        case 'rating-high-low':
          return b.rating - a.rating;
        default:
          return 0;
      }
    });
  }

  return filtered;
};

// Th√™m handler cho sort
const handleSortChange = ({ type, value }) => {
  if (type === 'sort') {
    currentFilters.sort = value;
    updateProductDisplay();
  }
};

// Trong JSX - th√™m SortDropdown v√†o khu v·ª±c filter (c√πng v·ªõi FilterPanel ho·∫∑c b√™n d∆∞·ªõi SearchBar)
<div style={{ display: 'grid', gridTemplateColumns: '300px 1fr', gap: '32px' }}>
  <aside>
    <FilterPanel onFilterChange={handleFilterChange} />
    <SortDropdown onSortChange={handleSortChange} /> {/* ‚Üê th√™m */}
  </aside>
  {/* ... */}
</div>;
```

```jsx
// V√≠ d·ª• k·∫øt qu·∫£ sau khi ch·ªçn c√°c sort kh√°c nhau:

// Price: Low to High
// ‚Üí Logitech MX Master 3S ($99) ‚Üí AirPods Pro ($249) ‚Üí ...

// Name: A to Z
// ‚Üí AirPods Pro ‚Üí Dell XPS 15 ‚Üí Google Pixel 8 Pro ‚Üí ...

// Rating: High to Low
// ‚Üí iPhone 15 Pro (4.9) ‚Üí Sony WH-1000XM5 (4.9) ‚Üí MacBook Pro (4.8) ‚Üí ...

// L∆∞u √Ω ng·∫Øn g·ªçn:
// C√°ch n√†y v·∫´n d√πng closure + DOM hack nh∆∞ project g·ªëc. Khi h·ªçc `useState` (ng√†y 11), b·∫°n ch·ªâ c·∫ßn thay `currentFilters` b·∫±ng state v√† b·ªè h·∫øt ph·∫ßn `updateProductDisplay` + custom event.
```

</details>

---

### ‚≠ê‚≠ê Exercise 2: Add "Recently Viewed" Section (30 ph√∫t)

```jsx
/**
 * üéØ M·ª•c ti√™u: Track recently viewed products
 * ‚è±Ô∏è Th·ªùi gian: 30 ph√∫t
 *
 * Requirements:
 * 1. Khi user view product detail ‚Üí Add to "recently viewed"
 * 2. Display max 4 recently viewed products
 * 3. Kh√¥ng duplicate products
 * 4. Persist qua page refreshes (localStorage)
 *
 * üí° G·ª£i √Ω:
 * - D√πng localStorage ƒë·ªÉ store array of product IDs
 * - Load t·ª´ localStorage khi app kh·ªüi ƒë·ªông
 * - Update localStorage m·ªói khi view product
 */

// üéØ NHI·ªÜM V·ª§ C·ª¶A B·∫†N:
// Implement RecentlyViewed component
```

<details>
<summary>üí° Solution </summary>

```jsx
// src/components/RecentlyViewed.jsx

/**
 * Hi·ªÉn th·ªã t·ªëi ƒëa 4 s·∫£n ph·∫©m ƒë√£ xem g·∫ßn ƒë√¢y
 * Kh√¥ng d√πng useState, d√πng localStorage + DOM manipulation + custom event
 *
 * @param {Function} onViewDetail - Callback khi click v√†o s·∫£n ph·∫©m ƒë·ªÉ xem chi ti·∫øt
 */
function RecentlyViewed({ onViewDetail }) {
  // H√†m l·∫•y danh s√°ch IDs t·ª´ localStorage
  const getRecentIds = () => {
    try {
      const saved = localStorage.getItem('recentlyViewed');
      return saved ? JSON.parse(saved) : [];
    } catch {
      return [];
    }
  };

  // H√†m c·∫≠p nh·∫≠t UI d·ª±a tr√™n IDs hi·ªán t·∫°i
  const renderRecentProducts = () => {
    const container = document.getElementById('recently-viewed-container');
    if (!container) return;

    const ids = getRecentIds();
    const productsList = ids
      .map((id) => products.find((p) => p.id === id))
      .filter(Boolean);

    if (productsList.length === 0) {
      container.innerHTML = '';
      container.style.display = 'none';
      return;
    }

    container.style.display = 'block';

    let html = `
      <h2 style="font-size: 20px; font-weight: 600; margin-bottom: 16px; color: #1a1a2e;">
        Recently Viewed
      </h2>
      <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px;">
    `;

    productsList.forEach((product) => {
      html += `
        <div 
          data-product-id="${product.id}"
          style="
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            overflow: hidden;
            background: white;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
          "
          onmouseenter="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 8px 16px rgba(0,0,0,0.1)'"
          onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
        >
          <img 
            src="${product.image}" 
            alt="${product.name}"
            style="width:100%; height:160px; object-fit:cover;"
          />
          <div style="padding:12px;">
            <h4 style="margin:0 0 6px 0; font-size:15px; font-weight:600; line-height:1.3;">
              ${product.name}
            </h4>
            <div style="font-size:16px; font-weight:bold; color:#1a1a2e;">
              $${product.price}
            </div>
          </div>
        </div>
      `;
    });

    html += '</div>';
    container.innerHTML = html;

    // Th√™m event listener cho t·ª´ng card
    container.querySelectorAll('[data-product-id]').forEach((card) => {
      card.addEventListener('click', () => {
        const id = Number(card.dataset.productId);
        const product = products.find((p) => p.id === id);
        if (product) onViewDetail(product);
      });
    });
  };

  // Render l·∫ßn ƒë·∫ßu khi mount
  setTimeout(renderRecentProducts, 0);

  // L·∫Øng nghe event khi xem s·∫£n ph·∫©m m·ªõi
  const handleViewProduct = (event) => {
    const product = event.detail;
    if (!product?.id) return;

    const ids = getRecentIds();

    // X√≥a n·∫øu ƒë√£ t·ªìn t·∫°i
    const filtered = ids.filter((id) => id !== product.id);

    // Th√™m v√†o ƒë·∫ßu
    const updated = [product.id, ...filtered].slice(0, 4);

    // L∆∞u l·∫°i
    localStorage.setItem('recentlyViewed', JSON.stringify(updated));

    // C·∫≠p nh·∫≠t UI
    renderRecentProducts();
  };

  window.addEventListener('viewProductDetail', handleViewProduct);

  // Cleanup (d√π trong React functional component kh√¥ng c√≥ cleanup tr·ª±c ti·∫øp ·ªü ƒë√¢y)
  // V√¨ ƒë√¢y l√† component tƒ©nh, ta gi·∫£ ƒë·ªãnh kh√¥ng unmount th∆∞·ªùng xuy√™n

  return (
    <div
      id='recently-viewed-container'
      style={{ margin: '48px 0', display: 'none' }}
    ></div>
  );
}

export default RecentlyViewed;
```

```jsx
// Trong App.jsx - gi·ªØ nguy√™n dispatch event nh∆∞ b√†i g·ªëc

const handleViewDetail = (product) => {
  selectedProduct = product;

  // Dispatch event ƒë·ªÉ RecentlyViewed c·∫≠p nh·∫≠t
  const event = new CustomEvent('viewProductDetail', { detail: product });
  window.dispatchEvent(event);

  const modalContainer = document.getElementById('modal-container');
  if (modalContainer) {
    modalContainer.style.display = 'block';
  }
};

// Trong JSX - ƒë·∫∑t component ·ªü v·ªã tr√≠ mong mu·ªën
<main style={{ maxWidth: '1400px', margin: '0 auto', padding: '40px 20px' }}>
  {/* ... search + filter + grid ... */}

  <RecentlyViewed onViewDetail={handleViewDetail} />

  <ContactForm />
</main>;
```

```jsx
// V√≠ d·ª• k·∫øt qu·∫£:
// Sau khi xem iPhone 15 Pro ‚Üí MacBook Pro ‚Üí AirPods Pro ‚Üí Dell XPS

// localStorage.getItem('recentlyViewed')
// ‚Üí "[7,1,3,2]"

// Hi·ªÉn th·ªã theo th·ª© t·ª± m·ªõi nh·∫•t ‚Üí c≈© nh·∫•t:
// AirPods Pro ‚Üí MacBook Pro ‚Üí iPhone 15 Pro ‚Üí Dell XPS
```

</details>

---

### ‚≠ê‚≠ê‚≠ê Exercise 3: Add Product Comparison (45 ph√∫t)

```jsx
/**
 * üéØ M·ª•c ti√™u: So s√°nh 2-3 s·∫£n ph·∫©m side-by-side
 * ‚è±Ô∏è Th·ªùi gian: 45 ph√∫t
 *
 * Requirements:
 * 1. "Add to Compare" button tr√™n ProductCard
 * 2. Compare bar ·ªü bottom c·ªßa page (max 3 products)
 * 3. "Compare" button m·ªü comparison view
 * 4. Side-by-side specs comparison
 * 5. Highlight differences
 *
 * üí° G·ª£i √Ω:
 * - Track compared products trong array (DOM-based)
 * - Fixed position bar at bottom
 * - Comparison modal v·ªõi table layout
 */

// üéØ NHI·ªÜM V·ª§ C·ª¶A B·∫†N:
// Implement ComparisonBar v√† ComparisonModal
```

<details>
<summary>üí° Solution</summary>

```jsx
// src/components/ComparisonBar.jsx

/**
 * Thanh so s√°nh c·ªë ƒë·ªãnh ·ªü d∆∞·ªõi c√πng m√†n h√¨nh (fixed bottom bar)
 * Hi·ªÉn th·ªã t·ªëi ƒëa 3 s·∫£n ph·∫©m ƒëang so s√°nh
 * Kh√¥ng d√πng useState, qu·∫£n l√Ω qua localStorage + DOM update
 *
 * @param {Function} onOpenCompare - Callback khi nh·∫•n "Compare Now" ƒë·ªÉ m·ªü modal
 */
function ComparisonBar({ onOpenCompare }) {
  // H√†m l·∫•y danh s√°ch IDs t·ª´ localStorage
  const getComparedIds = () => {
    try {
      const saved = localStorage.getItem('comparedProducts');
      return saved ? JSON.parse(saved) : [];
    } catch {
      return [];
    }
  };

  // H√†m render l·∫°i to√†n b·ªô thanh bar
  const renderComparisonBar = () => {
    const container = document.getElementById('comparison-bar-container');
    if (!container) return;

    const ids = getComparedIds().slice(0, 3);
    const productsList = ids
      .map((id) => products.find((p) => p.id === id))
      .filter(Boolean);

    if (productsList.length === 0) {
      container.innerHTML = '';
      container.style.display = 'none';
      return;
    }

    container.style.display = 'flex';

    let html = `
      <div style="
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        border-top: 1px solid #e2e8f0;
        box-shadow: 0 -4px 12px rgba(0,0,0,0.1);
        padding: 12px 24px;
        z-index: 900;
        display: flex;
        align-items: center;
        justify-content: space-between;
      ">
        <div style="display: flex; align-items: center; gap: 16px;">
          <span style="font-weight: 600; color: #1a1a2e;">
            Compare (${productsList.length})
          </span>
          <div style="display: flex; gap: 12px;">
    `;

    productsList.forEach((product) => {
      html += `
        <div style="
          position: relative;
          width: 64px;
          height: 64px;
          border-radius: 8px;
          overflow: hidden;
          border: 1px solid #e2e8f0;
        ">
          <img 
            src="${product.image}" 
            alt="${product.name}"
            style="width:100%; height:100%; object-fit:cover;"
          />
          <button 
            data-remove-id="${product.id}"
            style="
              position: absolute;
              top: -6px;
              right: -6px;
              width: 20px;
              height: 20px;
              border-radius: 50%;
              background: #e63946;
              color: white;
              border: none;
              font-size: 12px;
              cursor: pointer;
            "
          >√ó</button>
        </div>
      `;
    });

    html += `
          </div>
        </div>
        <button 
          id="compare-now-btn"
          ${productsList.length < 2 ? 'disabled' : ''}
          style="
            padding: 10px 24px;
            background: ${productsList.length >= 2 ? '#0f62fe' : '#cbd5e1'};
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: ${productsList.length >= 2 ? 'pointer' : 'not-allowed'};
          "
        >
          Compare Now
        </button>
      </div>
    `;

    container.innerHTML = html;

    // G·∫Øn s·ª± ki·ªán x√≥a
    container.querySelectorAll('[data-remove-id]').forEach((btn) => {
      btn.addEventListener('click', () => {
        const idToRemove = Number(btn.dataset.removeId);
        let updated = getComparedIds().filter((id) => id !== idToRemove);
        localStorage.setItem('comparedProducts', JSON.stringify(updated));
        renderComparisonBar();
      });
    });

    // G·∫Øn s·ª± ki·ªán m·ªü modal
    const compareBtn = document.getElementById('compare-now-btn');
    if (compareBtn && productsList.length >= 2) {
      compareBtn.addEventListener('click', onOpenCompare);
    }
  };

  // Render l·∫ßn ƒë·∫ßu
  setTimeout(renderComparisonBar, 0);

  // L·∫Øng nghe event add to compare
  const handleAddToCompare = (event) => {
    const product = event.detail;
    if (!product?.id) return;

    let ids = getComparedIds();
    if (ids.includes(product.id)) return; // ƒë√£ c√≥ th√¨ kh√¥ng th√™m

    ids = [...ids, product.id].slice(-3); // gi·ªØ t·ªëi ƒëa 3, m·ªõi nh·∫•t ·ªü cu·ªëi
    localStorage.setItem('comparedProducts', JSON.stringify(ids));
    renderComparisonBar();
  };

  window.addEventListener('addToCompare', handleAddToCompare);

  return (
    <div
      id='comparison-bar-container'
      style={{ display: 'none' }}
    ></div>
  );
}

export default ComparisonBar;
```

```jsx
// src/components/ComparisonModal.jsx

/**
 * Modal so s√°nh chi ti·∫øt c√°c s·∫£n ph·∫©m
 * Kh√¥ng d√πng state, render HTML ƒë·ªông d·ª±a tr√™n localStorage
 *
 * @param {Function} onClose - Callback ƒë√≥ng modal
 */
function ComparisonModal({ onClose }) {
  // L·∫•y danh s√°ch s·∫£n ph·∫©m t·ª´ localStorage
  const getComparedProducts = () => {
    const ids = (() => {
      try {
        const saved = localStorage.getItem('comparedProducts');
        return saved ? JSON.parse(saved) : [];
      } catch {
        return [];
      }
    })();

    return ids.map((id) => products.find((p) => p.id === id)).filter(Boolean);
  };

  // Render to√†n b·ªô n·ªôi dung modal
  const renderComparisonContent = () => {
    const container = document.getElementById('comparison-modal-content');
    if (!container) return;

    const compared = getComparedProducts();
    if (compared.length === 0) {
      container.innerHTML =
        '<p style="text-align:center; padding:40px;">No products to compare</p>';
      return;
    }

    const allKeys = [
      ...new Set(compared.flatMap((p) => Object.keys(p.specs || {}))),
    ].sort();

    const isDifferent = (key) => {
      const values = compared.map((p) => p.specs?.[key] || '‚Äî');
      return new Set(values).size > 1;
    };

    let html = `
      <div style="padding:24px;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:24px;">
          <h2 style="margin:0; font-size:24px;">Product Comparison</h2>
          <button id="close-compare-modal" style="background:none; border:none; font-size:28px; cursor:pointer;">√ó</button>
        </div>

        <div style="overflow-x:auto;">
          <table style="width:100%; border-collapse:collapse;">
            <thead>
              <tr>
                <th style="padding:16px; text-align:left; background:#f8fafc; min-width:180px;">Feature</th>
    `;

    compared.forEach((p) => {
      html += `
        <th style="padding:16px; background:#f8fafc; min-width:220px; text-align:center;">
          <img src="${p.image}" alt="${p.name}" style="width:80px; height:80px; object-fit:contain; margin-bottom:8px;" />
          <div style="font-weight:600;">${p.name}</div>
          <div style="color:#0f62fe; font-size:18px;">$${p.price}</div>
        </th>
      `;
    });

    html += `
              </tr>
            </thead>
            <tbody>
              <tr style="background:#f1f5f9;">
                <td style="padding:12px; font-weight:600;">Category</td>
    `;

    compared.forEach((p) => {
      html += `<td style="padding:12px; text-align:center;">${p.category}</td>`;
    });

    html += `
              </tr>
              <tr>
                <td style="padding:12px; font-weight:600;">Price</td>
    `;

    compared.forEach((p) => {
      html += `<td style="padding:12px; text-align:center; font-weight:bold;">$${p.price}</td>`;
    });

    html += '</tr>';

    allKeys.forEach((key) => {
      const diff = isDifferent(key);
      html += `
        <tr>
          <td style="padding:12px; font-weight:500; text-transform:capitalize;">${key}</td>
      `;

      compared.forEach((p) => {
        const value = p.specs?.[key] || '‚Äî';
        html += `
          <td style="
            padding:12px; 
            text-align:center; 
            ${diff ? 'background:#fef3f2; font-weight:600;' : ''}
          ">${value}</td>
        `;
      });

      html += '</tr>';
    });

    html += '</tbody></table></div></div>';

    container.innerHTML = html;

    // G·∫Øn s·ª± ki·ªán ƒë√≥ng modal
    document
      .getElementById('close-compare-modal')
      ?.addEventListener('click', onClose);
  };

  // Render l·∫ßn ƒë·∫ßu
  setTimeout(renderComparisonContent, 0);

  return (
    <div
      id='comparison-modal-outer'
      style={{ display: 'none' }}
    >
      <div
        onClick={onClose}
        style={{
          position: 'fixed',
          inset: 0,
          background: 'rgba(0,0,0,0.6)',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          zIndex: 1000,
          padding: '20px',
        }}
      >
        <div
          id='comparison-modal-content'
          onClick={(e) => e.stopPropagation()}
          style={{
            background: 'white',
            borderRadius: '16px',
            maxWidth: '1200px',
            width: '100%',
            maxHeight: '90vh',
            overflow: 'auto',
          }}
        ></div>
      </div>
    </div>
  );
}

export default ComparisonModal;
```

```jsx
// Trong App.jsx - c·∫≠p nh·∫≠t logic

let showCompareModal = false;

const handleOpenCompare = () => {
  showCompareModal = true;
  const outer = document.getElementById('comparison-modal-outer');
  if (outer) outer.style.display = 'block';
  // G·ªçi render l·∫°i n·ªôi dung modal
  const modal = document.querySelector('#comparison-modal-content');
  if (modal) {
    // Trigger render b·∫±ng c√°ch g·ªçi l·∫°i logic trong ComparisonModal n·∫øu c·∫ßn
    // ·ªû ƒë√¢y ta d·ª±a v√†o setTimeout ban ƒë·∫ßu + localStorage
  }
};

const handleCloseCompare = () => {
  showCompareModal = false;
  const outer = document.getElementById('comparison-modal-outer');
  if (outer) outer.style.display = 'none';
};

// Trong return c·ªßa App
<ComparisonBar onOpenCompare={handleOpenCompare} />

<div id="comparison-modal-outer">
  <ComparisonModal onClose={handleCloseCompare} />
</div>
```

```jsx
// Trong ProductCard.jsx - n√∫t Add to Compare (gi·ªØ nguy√™n nh∆∞ tr∆∞·ªõc)

<button
  onClick={(e) => {
    e.stopPropagation();
    const event = new CustomEvent('addToCompare', { detail: product });
    window.dispatchEvent(event);
  }}
  style={
    {
      /* ... */
    }
  }
>
  Compare
</button>
```

```jsx
// V√≠ d·ª• k·∫øt qu·∫£:
// - Add 3 s·∫£n ph·∫©m ‚Üí thanh bottom hi·ªán 3 ·∫£nh nh·ªè + n√∫t Compare Now active
// - Nh·∫•n Compare Now ‚Üí modal m·ªü v·ªõi b·∫£ng so s√°nh, c√°c spec kh√°c nhau highlight
// - X√≥a 1 s·∫£n ph·∫©m ‚Üí bar t·ª± update, n·∫øu c√≤n <2 th√¨ n√∫t Compare Now disable
```

</details>

---

## üìä PH·∫¶N 4: CODE REVIEW & REFACTORING (30 ph√∫t)

### Review Checklist

**Architecture:**

- [ ] Component hierarchy r√µ r√†ng?
- [ ] Props flow ƒë√∫ng direction (parent ‚Üí child)?
- [ ] No prop drilling qu√° s√¢u (>3 levels)?
- [ ] Components reusable?

**Code Quality:**

- [ ] Naming conventions consistent?
- [ ] Functions c√≥ single responsibility?
- [ ] No magic numbers/strings?
- [ ] Comments ·ªü ch·ªó c·∫ßn thi·∫øt?

**Performance:**

- [ ] No unnecessary re-renders?
- [ ] Images optimized?
- [ ] CSS efficient (no inline styles everywhere)?

**UX:**

- [ ] Loading states?
- [ ] Empty states?
- [ ] Error states?
- [ ] Responsive design?

**Accessibility:**

- [ ] Semantic HTML?
- [ ] Labels cho inputs?
- [ ] Keyboard navigation?
- [ ] ARIA attributes where needed?

---

### Common Issues & Fixes

**Issue 1: Props Drilling**

```jsx
// ‚ùå BAD: Drilling 4 levels deep
<App>
  <Main onFilter={handleFilter}>
    <Sidebar onFilter={handleFilter}>
      <FilterPanel onFilter={handleFilter}>
        <CategoryButton onFilter={handleFilter} />

// ‚úÖ BETTER: Component composition
<App>
  <Sidebar>
    <FilterPanel>
      {categories.map(cat => (
        <CategoryButton
          key={cat}
          onClick={() => handleFilter(cat)}
        />
      ))}
    </FilterPanel>
  </Sidebar>
```

**Issue 2: Inline Styles Everywhere**

```jsx
// ‚ùå BAD: Inline styles kh·∫Øp n∆°i
<div style={{display: 'flex', gap: '8px', ...}}>

// ‚úÖ BETTER: CSS classes ho·∫∑c styled object
const styles = {
  container: {
    display: 'flex',
    gap: '8px',
    // ...
  }
};

<div style={styles.container}>
```

**Issue 3: No Key Prop**

```jsx
// ‚ùå BAD: Using index as key
{
  products.map((p, i) => (
    <ProductCard
      key={i}
      product={p}
    />
  ));
}

// ‚úÖ GOOD: Using unique ID
{
  products.map((p) => (
    <ProductCard
      key={p.id}
      product={p}
    />
  ));
}
```

---

## ‚úÖ PH·∫¶N 5: T·ª∞ ƒê√ÅNH GI√Å (15 ph√∫t)

### Project Completion Checklist

**Core Features:**

- [ ] Product grid displays all products
- [ ] Search works (by name)
- [ ] Category filter works
- [ ] Price range filter works
- [ ] Filters can combine
- [ ] Product detail view works
- [ ] Contact form works with validation

**Polish:**

- [ ] Responsive design (mobile + desktop)
- [ ] Hover effects on cards
- [ ] Loading/empty states
- [ ] Error handling
- [ ] Smooth interactions

**Code Quality:**

- [ ] Components well-organized
- [ ] Props properly typed (or documented)
- [ ] No console errors
- [ ] Code formatted consistently
- [ ] Comments where needed

---

## üè† B√ÄI T·∫¨P V·ªÄ NH√Ä

### B·∫Øt bu·ªôc (60 ph√∫t): Add Wishlist Feature

Implement wishlist functionality:

- "Add to Wishlist" button on ProductCard
- Wishlist icon in header v·ªõi count
- Wishlist page/modal hi·ªÉn th·ªã saved products
- Persist wishlist in localStorage
- Remove from wishlist

<details>
<summary>üí° Solution</summary>

```jsx
// src/components/WishlistBar.jsx  (icon + count ·ªü Header)

/**
 * Icon Wishlist ·ªü Header v·ªõi s·ªë l∆∞·ª£ng s·∫£n ph·∫©m
 * Click ƒë·ªÉ m·ªü modal wishlist
 */
function WishlistBar({ onOpenWishlist }) {
  const getWishlistCount = () => {
    try {
      const saved = localStorage.getItem('wishlist');
      const items = saved ? JSON.parse(saved) : [];
      return items.length;
    } catch {
      return 0;
    }
  };

  const renderWishlistIcon = () => {
    const container = document.getElementById('wishlist-icon-container');
    if (!container) return;

    const count = getWishlistCount();

    container.innerHTML = `
      <div style="position: relative; cursor: pointer;" id="wishlist-trigger">
        <span style="font-size: 24px;">‚ù§Ô∏è</span>
        ${
          count > 0
            ? `
          <span style="
            position: absolute;
            top: -8px;
            right: -8px;
            background: #e63946;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
          ">${count}</span>
        `
            : ''
        }
      </div>
    `;

    document
      .getElementById('wishlist-trigger')
      ?.addEventListener('click', onOpenWishlist);
  };

  // Render ban ƒë·∫ßu
  setTimeout(renderWishlistIcon, 0);

  // L·∫Øng nghe thay ƒë·ªïi wishlist ƒë·ªÉ c·∫≠p nh·∫≠t count
  const handleWishlistChange = () => {
    renderWishlistIcon();
  };

  window.addEventListener('wishlistUpdated', handleWishlistChange);

  return <div id='wishlist-icon-container'></div>;
}
```

```jsx
// src/components/WishlistModal.jsx

/**
 * Modal hi·ªÉn th·ªã danh s√°ch s·∫£n ph·∫©m trong wishlist
 * C√≥ n√∫t x√≥a t·ª´ng s·∫£n ph·∫©m
 */
function WishlistModal({ onClose }) {
  const getWishlistProducts = () => {
    try {
      const saved = localStorage.getItem('wishlist');
      const ids = saved ? JSON.parse(saved) : [];
      return ids.map((id) => products.find((p) => p.id === id)).filter(Boolean);
    } catch {
      return [];
    }
  };

  const renderWishlistContent = () => {
    const container = document.getElementById('wishlist-modal-content');
    if (!container) return;

    const wishlistProducts = getWishlistProducts();

    if (wishlistProducts.length === 0) {
      container.innerHTML = `
        <div style="text-align: center; padding: 60px 20px; color: #64748b;">
          <div style="font-size: 48px; margin-bottom: 16px;">‚ù§Ô∏è</div>
          <h3 style="margin: 0 0 8px; font-size: 20px;">Your wishlist is empty</h3>
          <p>Start adding products you love!</p>
        </div>
      `;
      return;
    }

    let html = `
      <div style="padding: 24px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
          <h2 style="margin: 0; font-size: 24px;">My Wishlist (${wishlistProducts.length})</h2>
          <button id="close-wishlist-modal" style="background: none; border: none; font-size: 28px; cursor: pointer;">√ó</button>
        </div>

        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 24px;">
    `;

    wishlistProducts.forEach((product) => {
      const formattedPrice = new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
      }).format(product.price);

      html += `
        <div style="
          border: 1px solid #e2e8f0;
          border-radius: 12px;
          overflow: hidden;
          background: white;
          display: flex;
          flex-direction: column;
        ">
          <img 
            src="${product.image}" 
            alt="${product.name}"
            style="width: 100%; height: 180px; object-fit: cover;"
          />
          <div style="padding: 16px; flex: 1; display: flex; flex-direction: column;">
            <h4 style="margin: 0 0 8px; font-size: 18px; font-weight: 600;">${product.name}</h4>
            <div style="font-size: 20px; font-weight: bold; color: #1a1a2e; margin-bottom: 12px;">
              ${formattedPrice}
            </div>
            <div style="margin-top: auto; display: flex; gap: 8px;">
              <button 
                data-action="view" 
                data-id="${product.id}"
                style="
                  flex: 1;
                  padding: 10px;
                  background: #16213e;
                  color: white;
                  border: none;
                  border-radius: 8px;
                  cursor: pointer;
                "
              >
                View Details
              </button>
              <button 
                data-action="remove" 
                data-id="${product.id}"
                style="
                  padding: 10px 12px;
                  background: #fee2e2;
                  color: #e63946;
                  border: none;
                  border-radius: 8px;
                  cursor: pointer;
                  font-weight: 600;
                "
              >
                Remove
              </button>
            </div>
          </div>
        </div>
      `;
    });

    html += '</div></div>';

    container.innerHTML = html;

    // Event listeners
    container.querySelectorAll('[data-action="view"]').forEach((btn) => {
      btn.addEventListener('click', () => {
        const id = Number(btn.dataset.id);
        const product = products.find((p) => p.id === id);
        if (product) {
          onClose(); // ƒë√≥ng modal wishlist
          const event = new CustomEvent('viewProductDetail', {
            detail: product,
          });
          window.dispatchEvent(event);
        }
      });
    });

    container.querySelectorAll('[data-action="remove"]').forEach((btn) => {
      btn.addEventListener('click', () => {
        const id = Number(btn.dataset.id);
        let wishlist = (() => {
          try {
            const saved = localStorage.getItem('wishlist');
            return saved ? JSON.parse(saved) : [];
          } catch {
            return [];
          }
        })();

        wishlist = wishlist.filter((wId) => wId !== id);
        localStorage.setItem('wishlist', JSON.stringify(wishlist));

        // Ph√°t event ƒë·ªÉ c·∫≠p nh·∫≠t icon count
        window.dispatchEvent(new Event('wishlistUpdated'));

        // Render l·∫°i modal
        renderWishlistContent();
      });
    });

    document
      .getElementById('close-wishlist-modal')
      ?.addEventListener('click', onClose);
  };

  // Render l·∫ßn ƒë·∫ßu
  setTimeout(renderWishlistContent, 0);

  return (
    <div
      id='wishlist-modal-outer'
      style={{ display: 'none' }}
    >
      <div
        onClick={onClose}
        style={{
          position: 'fixed',
          inset: 0,
          background: 'rgba(0,0,0,0.6)',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          zIndex: 950,
          padding: '20px',
        }}
      >
        <div
          id='wishlist-modal-content'
          onClick={(e) => e.stopPropagation()}
          style={{
            background: 'white',
            borderRadius: '16px',
            maxWidth: '1000px',
            width: '90%',
            maxHeight: '90vh',
            overflow: 'auto',
          }}
        ></div>
      </div>
    </div>
  );
}
```

```jsx
// Trong ProductCard.jsx - th√™m n√∫t "Add to Wishlist"

<div style={{ display: 'flex', gap: '8px', marginTop: '12px' }}>
  {/* C√°c n√∫t c≈©: View Details, Add to Cart, Compare */}

  <button
    onClick={(e) => {
      e.stopPropagation();

      let wishlist = (() => {
        try {
          const saved = localStorage.getItem('wishlist');
          return saved ? JSON.parse(saved) : [];
        } catch {
          return [];
        }
      })();

      if (!wishlist.includes(product.id)) {
        wishlist = [...wishlist, product.id];
        localStorage.setItem('wishlist', JSON.stringify(wishlist));

        // Th√¥ng b√°o + c·∫≠p nh·∫≠t UI
        alert(`Added ${product.name} to Wishlist!`);
        window.dispatchEvent(new Event('wishlistUpdated'));
      } else {
        alert(`${product.name} is already in your Wishlist`);
      }
    }}
    style={{
      padding: '8px 12px',
      backgroundColor: '#fef3f2',
      color: '#e63946',
      border: '1px solid #fecaca',
      borderRadius: '6px',
      cursor: 'pointer',
      fontSize: '13px',
    }}
  >
    Add to Wishlist
  </button>
</div>
```

```jsx
// Trong App.jsx - t√≠ch h·ª£p

// Th√™m state-like variable
let showWishlistModal = false;

const handleOpenWishlist = () => {
  showWishlistModal = true;
  const outer = document.getElementById('wishlist-modal-outer');
  if (outer) {
    outer.style.display = 'block';
  }
};

const handleCloseWishlist = () => {
  showWishlistModal = false;
  const outer = document.getElementById('wishlist-modal-outer');
  if (outer) {
    outer.style.display = 'none';
  }
};

// Trong Header.jsx - thay ph·∫ßn cart icon b·∫±ng:
<div style={{ display: 'flex', gap: '30px', alignItems: 'center' }}>
  {/* ... c√°c link kh√°c ... */}

  <WishlistBar onOpenWishlist={handleOpenWishlist} />

  {/* Cart icon gi·ªØ nguy√™n */}
  <div style={{ position: 'relative', cursor: 'pointer' }}>
    <span style={{ fontSize: '24px' }}>üõçÔ∏è</span>
    {cartCount > 0 && ( /* ... */ )}
  </div>
</div>

// Th√™m modal v√†o return c·ªßa App (cu·ªëi c√πng, c√πng khu v·ª±c v·ªõi c√°c modal kh√°c)
<WishlistModal onClose={handleCloseWishlist} />
```

```jsx
// V√≠ d·ª• k·∫øt qu·∫£:
// - Nh·∫•n "Add to Wishlist" tr√™n MacBook ‚Üí count ·ªü header tƒÉng l√™n 1
// - Nh·∫•n icon ‚ù§Ô∏è ‚Üí modal m·ªü, hi·ªÉn th·ªã MacBook v·ªõi n√∫t View Details & Remove
// - Remove ‚Üí count gi·∫£m v·ªÅ 0, modal hi·ªÉn th·ªã empty state
// - D·ªØ li·ªáu v·∫´n gi·ªØ sau khi refresh trang (nh·ªù localStorage)
```

</details>

---

### N√¢ng cao (120 ph√∫t): Full E-commerce Features

Expand project v·ªõi:

- Shopping cart (add/remove/update quantity)
- Cart page v·ªõi subtotal calculation
- Checkout flow (multi-step form t·ª´ Ng√†y 9)
- Order confirmation page
- Order history (localStorage)

<details>
<summary>üí° Solution ‚Äì Full E-commerce Features (Shopping Cart + Checkout + Order History)</summary>

### 1. C·∫≠p nh·∫≠t ProductCard ‚Äì Th√™m n√∫t Add to Cart (v·ªõi quantity = 1)

```jsx
// Trong ProductCard.jsx ‚Äì ph·∫ßn actions

<div style={{ display: 'flex', gap: '8px', marginTop: '12px' }}>
  {/* View Details, Compare, Wishlist gi·ªØ nguy√™n */}

  <button
    disabled={!product.inStock}
    onClick={(e) => {
      e.stopPropagation();
      if (!product.inStock) return;

      let cart = getCartItems();
      const existing = cart.find((item) => item.id === product.id);

      if (existing) {
        existing.quantity += 1;
      } else {
        cart.push({ id: product.id, quantity: 1 });
      }

      saveCartItems(cart);
      window.dispatchEvent(new Event('cartUpdated'));
      alert(`Added ${product.name} to cart!`);
    }}
    style={{
      flex: 1,
      padding: '10px',
      backgroundColor: product.inStock ? '#0f62fe' : '#cbd5e1',
      color: 'white',
      border: 'none',
      borderRadius: '8px',
      cursor: product.inStock ? 'pointer' : 'not-allowed',
    }}
  >
    {product.inStock ? 'Add to Cart' : 'Out of Stock'}
  </button>
</div>
```

### 2. Helper functions cho Cart (d√πng trong nhi·ªÅu n∆°i)

```jsx
// src/utils/cart.js (t·∫°o file m·ªõi)

export function getCartItems() {
  try {
    const saved = localStorage.getItem('cart');
    return saved ? JSON.parse(saved) : [];
  } catch {
    return [];
  }
}

export function saveCartItems(items) {
  localStorage.setItem('cart', JSON.stringify(items));
}

export function calculateSubtotal(cartItems) {
  return cartItems.reduce((sum, item) => {
    const product = products.find((p) => p.id === item.id);
    return sum + (product ? product.price * item.quantity : 0);
  }, 0);
}
```

### 3. Cart Icon & Count trong Header

```jsx
// Trong Header.jsx ‚Äì ph·∫ßn cart icon

<div
  style={{ position: 'relative', cursor: 'pointer' }}
  id='cart-icon-wrapper'
>
  <span style={{ fontSize: '24px' }}>üõçÔ∏è</span>
  <span
    id='cart-count-badge'
    style={{
      position: 'absolute',
      top: '-8px',
      right: '-8px',
      backgroundColor: '#e63946',
      color: 'white',
      borderRadius: '50%',
      width: '20px',
      height: '20px',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      fontSize: '12px',
      fontWeight: 'bold',
      display: 'none',
    }}
  ></span>
</div>;

// Th√™m logic render count (c√≥ th·ªÉ ƒë·∫∑t trong App.jsx ho·∫∑c Header)
function updateCartCount() {
  const countEl = document.getElementById('cart-count-badge');
  if (!countEl) return;

  const cart = getCartItems();
  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

  if (totalItems > 0) {
    countEl.textContent = totalItems > 99 ? '99+' : totalItems;
    countEl.style.display = 'flex';
  } else {
    countEl.style.display = 'none';
  }
}

setTimeout(updateCartCount, 0);
window.addEventListener('cartUpdated', updateCartCount);
```

### 4. Cart Section (hi·ªÉn th·ªã d∆∞·ªõi d·∫°ng section trong main)

```jsx
// src/components/CartSection.jsx

function CartSection() {
  const renderCart = () => {
    const container = document.getElementById('cart-content');
    if (!container) return;

    const cartItems = getCartItems();
    const subtotal = calculateSubtotal(cartItems);

    if (cartItems.length === 0) {
      container.innerHTML = `
        <div style="text-align:center; padding:60px 20px; color:#64748b;">
          <div style="font-size:48px; margin-bottom:16px;">üõí</div>
          <h3 style="margin:0 0 8px; font-size:20px;">Your cart is empty</h3>
          <p>Start shopping now!</p>
        </div>
      `;
      return;
    }

    let html = `
      <h2 style="font-size:24px; font-weight:600; margin-bottom:24px;">Shopping Cart</h2>
      <div style="display:grid; gap:16px; margin-bottom:32px;">
    `;

    cartItems.forEach((item) => {
      const product = products.find((p) => p.id === item.id);
      if (!product) return;

      const itemTotal = product.price * item.quantity;

      html += `
        <div style="
          display: flex;
          gap: 16px;
          border: 1px solid #e2e8f0;
          border-radius: 12px;
          padding: 16px;
          background: white;
        ">
          <img 
            src="${product.image}" 
            alt="${product.name}"
            style="width:100px; height:100px; object-fit:cover; border-radius:8px;"
          />
          <div style="flex:1;">
            <h4 style="margin:0 0 4px; font-size:18px;">${product.name}</h4>
            <div style="color:#0f62fe; font-weight:bold; margin-bottom:8px;">
              $${product.price.toFixed(2)}
            </div>

            <div style="display:flex; align-items:center; gap:12px; margin-bottom:12px;">
              <button 
                data-action="decrease" 
                data-id="${item.id}"
                style="width:32px; height:32px; border:1px solid #cbd5e1; border-radius:6px; background:#f8fafc; cursor:pointer;"
              >‚àí</button>
              <span style="font-weight:600; min-width:24px; text-align:center;">${item.quantity}</span>
              <button 
                data-action="increase" 
                data-id="${item.id}"
                style="width:32px; height:32px; border:1px solid #cbd5e1; border-radius:6px; background:#f8fafc; cursor:pointer;"
              >+</button>
            </div>

            <div style="font-weight:600; color:#1a1a2e;">
              Subtotal: $${itemTotal.toFixed(2)}
            </div>
          </div>

          <button 
            data-action="remove" 
            data-id="${item.id}"
            style="
              align-self: flex-start;
              padding: 6px 12px;
              background: #fee2e2;
              color: #e63946;
              border: none;
              border-radius: 6px;
              cursor: pointer;
            "
          >
            Remove
          </button>
        </div>
      `;
    });

    html += `
      </div>

      <div style="
        background: #f8fafc;
        padding: 24px;
        border-radius: 12px;
        text-align: right;
      ">
        <div style="font-size:20px; font-weight:600; margin-bottom:16px;">
          Subtotal: $${subtotal.toFixed(2)}
        </div>
        <button id="proceed-to-checkout" style="
          padding:14px 32px;
          background:#0f62fe;
          color:white;
          border:none;
          border-radius:8px;
          font-size:16px;
          font-weight:600;
          cursor:pointer;
        ">
          Proceed to Checkout
        </button>
      </div>
    `;

    container.innerHTML = html;

    container.querySelectorAll('[data-action]').forEach((btn) => {
      btn.addEventListener('click', () => {
        const id = Number(btn.dataset.id);
        const action = btn.dataset.action;
        let cart = getCartItems();

        const itemIndex = cart.findIndex((i) => i.id === id);
        if (itemIndex === -1) return;

        if (action === 'increase') {
          cart[itemIndex].quantity += 1;
        } else if (action === 'decrease') {
          if (cart[itemIndex].quantity > 1) {
            cart[itemIndex].quantity -= 1;
          } else {
            cart.splice(itemIndex, 1);
          }
        } else if (action === 'remove') {
          cart.splice(itemIndex, 1);
        }

        saveCartItems(cart);
        window.dispatchEvent(new Event('cartUpdated'));
        renderCart();
      });
    });

    document
      .getElementById('proceed-to-checkout')
      ?.addEventListener('click', () => {
        window.location.hash = '#checkout';
      });
  };

  setTimeout(renderCart, 0);
  window.addEventListener('cartUpdated', renderCart);

  return (
    <div
      id='cart-content'
      style={{ margin: '48px 0' }}
    ></div>
  );
}
```

### 5. Multi-step Checkout (d√πng hash ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng)

```jsx
// src/components/CheckoutSection.jsx

function CheckoutSection() {
  const steps = ['shipping', 'payment', 'confirmation'];

  const getCurrentStep = () => {
    const hash = window.location.hash.replace('#checkout/', '');
    return steps.includes(hash) ? hash : 'shipping';
  };

  const renderCheckout = () => {
    const container = document.getElementById('checkout-content');
    if (!container) return;

    if (!window.location.hash.startsWith('#checkout')) {
      container.style.display = 'none';
      return;
    }

    container.style.display = 'block';

    const step = getCurrentStep();
    const cartItems = getCartItems();
    const subtotal = calculateSubtotal(cartItems);

    if (cartItems.length === 0) {
      container.innerHTML =
        '<p style="text-align:center; padding:60px;">Your cart is empty. Please add items first.</p>';
      return;
    }

    let html = `
      <h2 style="font-size:28px; margin-bottom:32px;">Checkout</h2>

      <div style="display:flex; gap:40px; flex-wrap:wrap;">
        <div style="flex:1; min-width:300px;">
          <div style="display:flex; margin-bottom:32px; border-bottom:1px solid #e2e8f0;">
            <div style="padding:12px 24px; ${step === 'shipping' ? 'background:#0f62fe;color:white;border-radius:8px 8px 0 0;' : ''} font-weight:600;">1. Shipping</div>
            <div style="padding:12px 24px; ${step === 'payment' ? 'background:#0f62fe;color:white;border-radius:8px 8px 0 0;' : ''} font-weight:600;">2. Payment</div>
            <div style="padding:12px 24px; ${step === 'confirmation' ? 'background:#0f62fe;color:white;border-radius:8px 8px 0 0;' : ''} font-weight:600;">3. Confirmation</div>
          </div>
    `;

    if (step === 'shipping') {
      html += `
        <form id="shipping-form">
          <div style="margin-bottom:16px;">
            <label style="display:block; margin-bottom:8px; font-weight:500;">Full Name *</label>
            <input type="text" name="fullName" required style="width:100%; padding:12px; border:1px solid #cbd5e1; border-radius:8px;" />
          </div>
          <div style="margin-bottom:16px;">
            <label style="display:block; margin-bottom:8px; font-weight:500;">Address *</label>
            <textarea name="address" required rows="3" style="width:100%; padding:12px; border:1px solid #cbd5e1; border-radius:8px;"></textarea>
          </div>
          <div style="margin-bottom:24px;">
            <label style="display:block; margin-bottom:8px; font-weight:500;">Phone *</label>
            <input type="tel" name="phone" required style="width:100%; padding:12px; border:1px solid #cbd5e1; border-radius:8px;" />
          </div>
          <button type="submit" style="padding:14px 32px; background:#0f62fe; color:white; border:none; border-radius:8px; cursor:pointer;">
            Continue to Payment
          </button>
        </form>
      `;
    } else if (step === 'payment') {
      html += `
        <form id="payment-form">
          <div style="margin-bottom:16px;">
            <label style="display:block; margin-bottom:8px; font-weight:500;">Card Number *</label>
            <input type="text" name="cardNumber" placeholder="4242 4242 4242 4242" required style="width:100%; padding:12px; border:1px solid #cbd5e1; border-radius:8px;" />
          </div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:24px;">
            <div>
              <label style="display:block; margin-bottom:8px; font-weight:500;">Expiry Date *</label>
              <input type="text" name="expiry" placeholder="MM/YY" required style="width:100%; padding:12px; border:1px solid #cbd5e1; border-radius:8px;" />
            </div>
            <div>
              <label style="display:block; margin-bottom:8px; font-weight:500;">CVC *</label>
              <input type="text" name="cvc" placeholder="123" required style="width:100%; padding:12px; border:1px solid #cbd5e1; border-radius:8px;" />
            </div>
          </div>
          <div style="margin-bottom:24px; padding:16px; background:#f8fafc; border-radius:8px;">
            <div style="display:flex; justify-content:space-between; font-size:18px; font-weight:600;">
              <span>Total:</span>
              <span>$${subtotal.toFixed(2)}</span>
            </div>
          </div>
          <button type="submit" style="padding:14px 32px; background:#0f62fe; color:white; border:none; border-radius:8px; cursor:pointer;">
            Place Order
          </button>
        </form>
      `;
    } else if (step === 'confirmation') {
      html += `
        <div style="text-align:center; padding:60px 20px;">
          <div style="font-size:72px; margin-bottom:24px;">üéâ</div>
          <h2 style="margin:0 0 16px; color:#10b981;">Order Placed Successfully!</h2>
          <p style="margin:0 0 32px; color:#64748b; font-size:18px;">Thank you for your purchase. Your order is being processed.</p>
          <button id="view-order-history" style="
            padding:14px 32px;
            background:#16213e;
            color:white;
            border:none;
            border-radius:8px;
            cursor:pointer;
            font-size:16px;
          ">
            View Order History
          </button>
        </div>
      `;
    }

    html += '</div>';

    // Summary sidebar
    html += `
      <div style="width:360px; background:#f8fafc; padding:24px; border-radius:12px; height:fit-content; margin-top:60px;">
        <h3 style="margin:0 0 16px; font-size:18px;">Order Summary</h3>
        ${cartItems
          .map((item) => {
            const p = products.find((prod) => prod.id === item.id);
            return p
              ? `
            <div style="display:flex; justify-content:space-between; margin-bottom:12px; font-size:15px;">
              <span>${p.name} √ó ${item.quantity}</span>
              <span>$${(p.price * item.quantity).toFixed(2)}</span>
            </div>
          `
              : '';
          })
          .join('')}
        <hr style="margin:16px 0; border-color:#e2e8f0;" />
        <div style="display:flex; justify-content:space-between; font-weight:600; font-size:18px;">
          <span>Total</span>
          <span>$${subtotal.toFixed(2)}</span>
        </div>
      </div>
    </div>`;

    container.innerHTML = html;

    // Form handlers
    if (step === 'shipping') {
      document
        .getElementById('shipping-form')
        ?.addEventListener('submit', (e) => {
          e.preventDefault();
          window.location.hash = '#checkout/payment';
        });
    }

    if (step === 'payment') {
      document
        .getElementById('payment-form')
        ?.addEventListener('submit', (e) => {
          e.preventDefault();
          // L∆∞u order
          const order = {
            id: 'ORD-' + Date.now().toString().slice(-8),
            date: new Date().toLocaleString(),
            items: cartItems.map((item) => ({
              id: item.id,
              quantity: item.quantity,
              price: products.find((p) => p.id === item.id)?.price || 0,
            })),
            total: subtotal,
            status: 'processing',
          };

          let orders = getOrders();
          orders.push(order);
          localStorage.setItem('orders', JSON.stringify(orders));

          // Clear cart
          saveCartItems([]);
          window.dispatchEvent(new Event('cartUpdated'));

          window.location.hash = '#checkout/confirmation';
        });
    }

    document
      .getElementById('view-order-history')
      ?.addEventListener('click', () => {
        window.location.hash = '#orders';
      });
  };

  window.addEventListener('hashchange', renderCheckout);
  setTimeout(renderCheckout, 0);

  return (
    <div
      id='checkout-content'
      style={{ margin: '48px 0' }}
    ></div>
  );
}
```

### 6. Order History Section

```jsx
// src/components/OrderHistory.jsx

function OrderHistory() {
  const renderOrders = () => {
    const container = document.getElementById('order-history-content');
    if (!container) return;

    if (window.location.hash !== '#orders') {
      container.style.display = 'none';
      return;
    }

    container.style.display = 'block';

    let orders = [];
    try {
      const saved = localStorage.getItem('orders');
      orders = saved ? JSON.parse(saved) : [];
    } catch {}

    if (orders.length === 0) {
      container.innerHTML = `
        <div style="text-align:center; padding:80px 20px;">
          <div style="font-size:56px; margin-bottom:24px;">üì¶</div>
          <h3 style="font-size:24px; margin-bottom:16px;">No orders yet</h3>
          <p style="color:#64748b;">When you complete an order, it will appear here.</p>
        </div>
      `;
      return;
    }

    let html = `
      <h2 style="font-size:28px; margin-bottom:32px;">Order History</h2>
      <div style="display:grid; gap:24px;">
    `;

    orders.forEach((order) => {
      html += `
        <div style="
          border:1px solid #e2e8f0;
          border-radius:12px;
          padding:24px;
          background:white;
        ">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;">
            <div>
              <strong style="font-size:18px;">${order.id}</strong>
              <div style="color:#64748b; font-size:14px; margin-top:4px;">${order.date}</div>
            </div>
            <div style="text-align:right;">
              <span style="background:#d1fae5; color:#065f46; padding:4px 12px; border-radius:999px; font-size:14px;">
                ${order.status}
              </span>
              <div style="font-size:20px; font-weight:600; margin-top:8px;">
                $${order.total.toFixed(2)}
              </div>
            </div>
          </div>

          <div style="margin-top:16px;">
            ${order.items
              .map((item) => {
                const product = products.find((p) => p.id === item.id);
                return product
                  ? `
                <div style="display:flex; justify-content:space-between; margin-bottom:8px; font-size:15px;">
                  <span>${product.name} √ó ${item.quantity}</span>
                  <span>$${(item.price * item.quantity).toFixed(2)}</span>
                </div>
              `
                  : '';
              })
              .join('')}
          </div>
        </div>
      `;
    });

    html += '</div>';
    container.innerHTML = html;
  };

  window.addEventListener('hashchange', renderOrders);
  setTimeout(renderOrders, 0);

  return (
    <div
      id='order-history-content'
      style={{ margin: '48px 0' }}
    ></div>
  );
}
```

### 7. T√≠ch h·ª£p v√†o App.jsx

```jsx
// Trong return c·ªßa App

<main style={{ maxWidth: '1400px', margin: '0 auto', padding: '40px 20px' }}>
  {/* SearchBar, FilterPanel, ProductGrid gi·ªØ nguy√™n */}

  <CartSection />
  <CheckoutSection />
  <OrderHistory />

  {/* C√°c modal kh√°c: ProductDetail, WishlistModal, ComparisonModal */}
</main>
```

</details>

## üìö T√ÄI LI·ªÜU THAM KH·∫¢O

### B·∫Øt bu·ªôc ƒë·ªçc

1. **React Docs - Thinking in React**
   - https://react.dev/learn/thinking-in-react
   - Component hierarchy, data flow

2. **Component Composition Patterns**
   - https://react.dev/learn/passing-props-to-a-component
   - Props, children, composition

### ƒê·ªçc th√™m

3. **Project Structure Best Practices**
   - Folder organization
   - File naming conventions

---

## üîó K·∫æT N·ªêI KI·∫æN TH·ª®C

### ƒê√£ s·ª≠ d·ª•ng (Ng√†y 1-9)

- ES6+ (destructuring, spread, array methods)
- ‚úÖ JSX
- ‚úÖ Components & Props
- ‚úÖ Events
- ‚úÖ Lists & Keys
- ‚úÖ Conditional rendering
- ‚úÖ Forms
- ‚úÖ Styling

### H∆∞·ªõng t·ªõi (Ng√†y 11+)

- **Ng√†y 11**: useState ‚Üí Refactor filters properly
- **Ng√†y 12**: useReducer ‚Üí Complex state management
- **Ng√†y 17**: useEffect ‚Üí Data fetching
- **Ng√†y 23**: Memoization ‚Üí Performance optimization

---

## üí° SENIOR INSIGHTS

### B√†i h·ªçc r√∫t ra

**1. Qu·∫£n l√Ω State l√† y·∫øu t·ªë then ch·ªët**

```
Kh√¥ng c√≥ state (d·ª± √°n hi·ªán t·∫°i):
- C√°c th·ªß thu·∫≠t thao t√°c DOM
- Kh√≥ debug
- Kh√¥ng th·ªÉ m·ªü r·ªông

C√≥ state (Ng√†y 11+):
- C·∫≠p nh·∫≠t theo ki·ªÉu khai b√°o
- D·ªÖ hi·ªÉu v√† d·ªÖ suy lu·∫≠n
- C√≥ th·ªÉ m·ªü r·ªông
```

**2. Thi·∫øt k·∫ø Component r·∫•t quan tr·ªçng**

```
Component t·ªët:
- M·ªôt tr√°ch nhi·ªám duy nh·∫•t
- C√≥ th·ªÉ t√°i s·ª≠ d·ª•ng
- Props ƒë∆∞·ª£c ƒë·∫∑t t√™n r√µ r√†ng
- T·ª± ch·ª©a

Component k√©m:
- L√†m qu√° nhi·ªÅu vi·ªác
- Ph·ª• thu·ªôc ch·∫∑t ch·∫Ω
- Props kh√¥ng r√µ r√†ng
- Ph·ª• thu·ªôc v√†o state b√™n ngo√†i
```

**3. Tr·∫£i nghi·ªám ng∆∞·ªùi d√πng l√† tr√™n h·∫øt**

```
S·ª± ho√†n h·∫£o v·ªÅ k·ªπ thu·∫≠t < S·∫£n ph·∫©m ho·∫°t ƒë·ªông ƒë∆∞·ª£c
Giao di·ªán ƒë·∫πp < Giao di·ªán d√πng ƒë∆∞·ª£c
Nhi·ªÅu t√≠nh nƒÉng < C√°c t√≠nh nƒÉng c·ªët l√µi ƒë∆∞·ª£c l√†m t·ªët
```

---

### C√¢u H·ªèi Ph·ªèng V·∫•n

**Q1**: "H√£y tr√¨nh b√†y ki·∫øn tr√∫c component c·ªßa b·∫°n"
**A**: Gi·∫£i th√≠ch c·∫•u tr√∫c ph√¢n c·∫•p, lu·ªìng d·ªØ li·ªáu, l√Ω do t√°ch c√°c component nh·∫•t ƒë·ªãnh

**Q2**: "B·∫°n s·∫Ω th√™m m·ªôt t√≠nh nƒÉng m·ªõi nh∆∞ th·∫ø n√†o?"
**A**: X√°c ƒë·ªãnh c√°c component b·ªã ·∫£nh h∆∞·ªüng, l·∫≠p k·∫ø ho·∫°ch lu·ªìng d·ªØ li·ªáu, tri·ªÉn khai t·ª´ng b∆∞·ªõc, ki·ªÉm th·ª≠

**Q3**: "B·∫°n s·∫Ω refactor ph·∫ßn n√†o tr∆∞·ªõc ti√™n?"
**A**: Logic l·ªçc/t√¨m ki·∫øm ƒë·ªÉ s·ª≠ d·ª•ng qu·∫£n l√Ω state ph√π h·ª£p

---

## üéØ PREVIEW NG√ÄY MAI

**Ng√†y 11: useState - M·∫£nh Gh√©p C√≤n Thi·∫øu**

Ng√†y mai ch√∫ng ta s·∫Ω gi·∫£i quy·∫øt T·∫§T C·∫¢ c√°c gi·∫£i ph√°p mang t√≠nh ‚Äúch·ªØa ch√°y‚Äù c·ªßa h√¥m nay:

- ‚úÖ Qu·∫£n l√Ω state ƒë√∫ng c√°ch
- ‚úÖ Kh√¥ng thao t√°c DOM
- ‚úÖ C·∫≠p nh·∫≠t theo ki·ªÉu khai b√°o
- ‚úÖ React theo ƒë√∫ng ‚Äúc√°ch c·ªßa React‚Äù

Ch√∫ng ta s·∫Ω refactor d·ª± √°n n√†y b·∫±ng `useState` v√† xem n√≥ tr·ªü n√™n g·ªçn g√†ng h∆°n nhi·ªÅu nh∆∞ th·∫ø n√†o!

**Chu·∫©n b·ªã:**

- Xem l·∫°i code c·ªßa h√¥m nay
- X√°c ƒë·ªãnh t·∫•t c·∫£ c√°c ‚Äúhack‚Äù ƒë√£ s·ª≠ d·ª•ng
- Nghƒ© v·ªÅ nh·ªØng state m√† ch√∫ng ta c·∫ßn
- H√†o h·ª©ng l√™n ‚Äî ƒë√¢y l√† l√∫c React th·ª±c s·ª± t·ªèa s√°ng! üöÄ

---

**üéâ Ch√∫c m·ª´ng! B·∫°n ƒë√£ ho√†n th√†nh Week 2!**

B·∫°n v·ª´a build m·ªôt full project ch·ªâ v·ªõi ki·∫øn th·ª©c c∆° b·∫£n. T·ª´ ng√†y mai, m·ªçi th·ª© s·∫Ω tr·ªü n√™n powerful h∆°n nhi·ªÅu v·ªõi State Management! üí™

**Next Week Preview:**

- Ng√†y 11-15: State Management Mastery
- Ng√†y 16: Project 2 (v·ªõi proper state!)

Rest well - Week 3 is going to be intense! üî•
