# ğŸ“… NGÃ€Y 5: EVENTS & CONDITIONAL RENDERING - TÆ¯Æ NG TÃC VÃ€ LOGIC HIá»‚N THá»Š

## ğŸ¯ Má»¥c tiÃªu há»c táº­p (5 phÃºt)

Sau bÃ i há»c hÃ´m nay, báº¡n sáº½:

- [ ] **Hiá»ƒu rÃµ** Event handling trong React vÃ  sá»± khÃ¡c biá»‡t vá»›i vanilla JavaScript
- [ ] **Náº¯m vá»¯ng** Synthetic Events vÃ  táº¡i sao React dÃ¹ng nÃ³
- [ ] **ThÃ nh tháº¡o** cÃ¡c Event binding patterns (inline, arrow, method)
- [ ] **Sá»­ dá»¥ng thÃ nh tháº¡o** Conditional rendering vá»›i if/else, &&, ternary operator
- [ ] **PhÃ¢n biá»‡t** Ä‘Æ°á»£c khi nÃ o dÃ¹ng pattern nÃ o cho conditional rendering

## ğŸ¤” Kiá»ƒm tra Ä‘áº§u vÃ o (5 phÃºt)

TrÆ°á»›c khi báº¯t Ä‘áº§u, hÃ£y tráº£ lá»i 3 cÃ¢u há»i nÃ y:

1. **Props lÃ  gÃ¬?** NÃ³ read-only hay cÃ³ thá»ƒ modify?
2. **Arrow function** syntax nhÆ° tháº¿ nÃ o? `() => {}` khÃ¡c gÃ¬ vá»›i `function() {}`?
3. **Ternary operator** hoáº¡t Ä‘á»™ng ra sao? Cho vÃ­ dá»¥.

<details>
<summary>ğŸ’¡ Solution</summary>

1. **Props** lÃ  data truyá»n tá»« parent â†’ child. Props lÃ  **read-only** (immutable), child khÃ´ng Ä‘Æ°á»£c sá»­a props.

2. **Arrow function:**

```javascript
// Arrow function
const add = (a, b) => a + b;

// Regular function
function add(a, b) {
  return a + b;
}

// KhÃ¡c biá»‡t chÃ­nh: Arrow function khÃ´ng cÃ³ 'this' binding riÃªng
```

3. **Ternary operator:**

```javascript
const age = 18;
const canVote = age >= 18 ? 'Yes' : 'No';

// Equivalent to:
let canVote;
if (age >= 18) {
  canVote = 'Yes';
} else {
  canVote = 'No';
}
```

</details>

## ğŸ“– PHáº¦N 1: GIá»šI THIá»†U KHÃI NIá»†M (30 phÃºt)

### 1.1 Váº¥n Äá» Thá»±c Táº¿

Báº¡n Ä‘ang xÃ¢y dá»±ng má»™t nÃºt "Like" trÃªn Facebook. Cáº§n xá»­ lÃ½:

```html
<!-- Vanilla JavaScript -->
<button id="likeBtn">Like</button>

<script>
  const btn = document.getElementById('likeBtn');
  btn.addEventListener('click', function () {
    console.log('Liked!');
  });
</script>
```

**Váº¥n Ä‘á» vá»›i vanilla JS:**

- ğŸ”´ **Pháº£i query DOM (`getElementById`)**
  â†’ Láº­p trÃ¬nh viÃªn pháº£i tá»± tÃ¬m vÃ  quáº£n lÃ½ tá»«ng pháº§n tá»­ DOM thá»§ cÃ´ng, code dÃ i dÃ²ng, dá»… sai khi DOM thay Ä‘á»•i.

- ğŸ”´ **Attach/detach listeners manually**
  â†’ Pháº£i tá»± `addEventListener` vÃ  `removeEventListener`, dá»… quÃªn cleanup khi component khÃ´ng cÃ²n dÃ¹ng.

- ğŸ”´ **Memory leaks náº¿u quÃªn cleanup**
  â†’ Event listener hoáº·c reference cÃ²n tá»“n táº¡i trong bá»™ nhá»› dÃ¹ element Ä‘Ã£ bá»‹ remove, gÃ¢y tá»‘n RAM vÃ  giáº£m hiá»‡u nÄƒng.

- ğŸ”´ **Cross-browser compatibility issues**
  â†’ Má»™t sá»‘ API hoáº·c hÃ nh vi JS khÃ¡c nhau giá»¯a cÃ¡c trÃ¬nh duyá»‡t, cáº§n polyfill hoáº·c workaround phá»©c táº¡p.

- ğŸ”´ **Event delegation phá»©c táº¡p**
  â†’ Khi cÃ³ nhiá»u element Ä‘á»™ng, pháº£i tá»± xá»­ lÃ½ bubbling/capturing, code khÃ³ Ä‘á»c vÃ  khÃ³ báº£o trÃ¬.

### 1.2 Giáº£i PhÃ¡p: React Events

React xá»­ lÃ½ events **declaratively** - báº¡n chá»‰ cáº§n khai bÃ¡o, React lo pháº§n cÃ²n láº¡i.

```jsx
// React way - Declarative
function LikeButton() {
  const handleClick = () => {
    console.log('Liked!');
  };

  return <button onClick={handleClick}>Like</button>;
}

// âœ… No DOM queries
// âœ… No manual addEventListener
// âœ… Auto cleanup
// âœ… Cross-browser compatible
```

**Lá»£i Ã­ch:**

- âœ… Declarative (khai bÃ¡o Ã½ Ä‘á»‹nh, khÃ´ng lo implementation)
- âœ… Auto cleanup khi component unmount
- âœ… Consistent API across browsers
- âœ… Performance optimization (event delegation)

### 1.3 Mental Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           VANILLA JAVASCRIPT                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  1. Query DOM                        â”‚       â”‚
â”‚  â”‚  const btn = document.getElementById â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  2. Attach Listener                  â”‚       â”‚
â”‚  â”‚  btn.addEventListener('click', fn)   â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  3. Handle Event                     â”‚       â”‚
â”‚  â”‚  function fn(event) { ... }          â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  4. Cleanup (often forgotten!)       â”‚       â”‚
â”‚  â”‚  btn.removeEventListener('click',fn) â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                      VS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 REACT                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  <button onClick={handleClick}>      â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  React handles:                      â”‚       â”‚
â”‚  â”‚  âœ… Event delegation                 â”‚       â”‚
â”‚  â”‚  âœ… Cross-browser normalization      â”‚       â”‚
â”‚  â”‚  âœ… Auto cleanup                     â”‚       â”‚
â”‚  â”‚  âœ… Performance optimization         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”‘ Synthetic Events**

React **khÃ´ng sá»­ dá»¥ng trá»±c tiáº¿p native browser events**. Thay vÃ o Ä‘Ã³, React bá»c (wrap) chÃºng trong **SyntheticEvent** Ä‘á»ƒ chuáº©n hÃ³a hÃ nh vi vÃ  cung cáº¥p **má»™t API thá»‘ng nháº¥t** cho láº­p trÃ¬nh viÃªn.

```
Browser Event (native)
         â†“
  React intercepts
         â†“
  SyntheticEvent (normalized)
         â†“
  Your handler function
```

Khi báº¡n dÃ¹ng `onClick`, `onChange`, `onSubmit`â€¦, tham sá»‘ `e` nháº­n Ä‘Æ°á»£c lÃ  **SyntheticEvent** (wrapper), **khÃ´ng pháº£i event gá»‘c** cá»§a trÃ¬nh duyá»‡t.

---

**HÃ¬nh dung Ä‘Æ¡n giáº£n:**

```
Click chuá»™t tháº­t (trÃ¬nh duyá»‡t)
        â†“
 Browser táº¡o MouseEvent
        â†“
 React bá»c láº¡i
        â†“
 SyntheticEvent
        â†“
 onClick={(e) => { ... }}
```

---

**So sÃ¡nh trá»±c quan:**

**Native event (vanilla JS):**

```js
button.addEventListener('click', (e) => {
  console.log(e instanceof MouseEvent); // true
});
```

**SyntheticEvent (React):**

```jsx
<button onClick={(e) => {
  console.log(e); // SyntheticEvent
}}>
```

â†’ `e` **khÃ´ng pháº£i MouseEvent gá»‘c**, mÃ  lÃ  object event **do React quáº£n lÃ½**.

---

**Táº¡i sao React dÃ¹ng SyntheticEvent?**

- ğŸŸ¢ **Consistent API across browsers**
  â†’ Chuáº©n hÃ³a sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c trÃ¬nh duyá»‡t, dev chá»‰ lÃ m viá»‡c vá»›i má»™t API thá»‘ng nháº¥t.

- ğŸŸ¢ **Kiá»ƒm soÃ¡t kiáº¿n trÃºc event**
  â†’ React intercept vÃ  phÃ¢n phá»‘i event thÃ´ng qua **event system riÃªng**.

- ğŸŸ¢ **ÄÆ¡n giáº£n hÃ³a cho láº­p trÃ¬nh viÃªn**
  â†’ KhÃ´ng cáº§n quan tÃ¢m Ä‘áº¿n chi tiáº¿t implementation cá»§a tá»«ng browser.

---

**Event Pooling & `event.persist()` (Lá»‹ch sá»­ & hiá»‡n táº¡i)**

- **React â‰¤16:**

  - SyntheticEvent Ä‘Æ°á»£c **tÃ¡i sá»­ dá»¥ng (Event Pooling)**
  - Sau khi handler cháº¡y xong, cÃ¡c thuá»™c tÃ­nh event bá»‹ reset vá» `null`
  - Muá»‘n dÃ¹ng event trong async code â†’ **báº¯t buá»™c gá»i `event.persist()`**

- **React 17+:**

  - âŒ Event Pooling **Ä‘Ã£ bá»‹ loáº¡i bá»**
  - âŒ `event.persist()` **khÃ´ng cÃ²n cáº§n thiáº¿t** (no-op, chá»‰ Ä‘á»ƒ tÆ°Æ¡ng thÃ­ch ngÆ°á»£c)

---

**CÃ¡ch dÃ¹ng `event.persist()` (React 16 trá»Ÿ xuá»‘ng):**

```js
const handleChange = (e) => {
  // Giá»¯ event khÃ´ng bá»‹ thu há»“i vá» pool
  e.persist();

  setTimeout(() => {
    console.log('GiÃ¡ trá»‹ sau 1s:', e.target.value);
  }, 1000);
};
```

Náº¿u **khÃ´ng** gá»i `e.persist()` trong React 16:

```js
setTimeout(() => {
  console.log(e.target.value); // âŒ e.target === null
}, 1000);
```

---

**Xá»­ lÃ½ báº¥t Ä‘á»“ng bá»™ (React 17+):**

```jsx
<button onClick={(e) => {
  console.log(e.target); // OK

  setTimeout(() => {
    console.log(e.target); // Váº«n OK, khÃ´ng cáº§n e.persist()
  }, 1000);
}}>
```

â†’ React Ä‘á»ƒ **Garbage Collector cá»§a trÃ¬nh duyá»‡t** tá»± xá»­ lÃ½ object event.

---

**Best Practice (má»i phiÃªn báº£n React):**

```js
const handleChange = (e) => {
  const value = e.target.value; // lÆ°u giÃ¡ trá»‹ cáº§n dÃ¹ng

  setTimeout(() => {
    console.log('GiÃ¡ trá»‹ sau 1s:', value);
  }, 1000);
};
```

â†’ KhÃ´ng phá»¥ thuá»™c vÃ²ng Ä‘á»i event, khÃ´ng cáº§n `event.persist()`.

---

**TÃ³m láº¡i:**

- **SyntheticEvent = wrapper cÃ³ kiá»ƒm soÃ¡t cá»§a browser event**
- Má»¥c tiÃªu chÃ­nh: **cross-browser consistency**
- **React â‰¤16:** cáº§n `event.persist()` khi xá»­ lÃ½ async
- **React 17+:**

  - KhÃ´ng cÃ²n event pooling
  - `event.persist()` khÃ´ng cÃ²n tÃ¡c dá»¥ng

- **Khuyáº¿n nghá»‹:** copy dá»¯ liá»‡u cáº§n dÃ¹ng ra biáº¿n riÃªng Ä‘á»ƒ code gá»n vÃ  an toÃ n

### 1.4 Hiá»ƒu Láº§m Phá»• Biáº¿n

âŒ **Hiá»ƒu láº§m 1:** "onClick giá»‘ng onclick trong HTML"

```jsx
// âŒ HTML - string
<button onclick="handleClick()">Click</button>

// âœ… React - function reference
<button onClick={handleClick}>Click</button>

// âŒ SAI - gá»i function ngay láº­p tá»©c!
<button onClick={handleClick()}>Click</button>
```

**Giáº£i thÃ­ch:**

- HTML: `onclick="string"` - execute khi click
- React: `onClick={function}` - pass function reference
- `onClick={handleClick()}` - execute NGAY, khÃ´ng Ä‘á»£i click!

---

âŒ **Hiá»ƒu láº§m 2:** "event.preventDefault() khÃ´ng cáº§n thiáº¿t"

```jsx
// âŒ SAI - form submit sáº½ reload page
function Form() {
  const handleSubmit = (event) => {
    // Missing preventDefault!
    console.log('Submitted');
  };

  return <form onSubmit={handleSubmit}>...</form>;
}

// âœ… ÄÃšNG
function Form() {
  const handleSubmit = (event) => {
    event.preventDefault(); // Prevent default behavior
    console.log('Submitted');
  };

  return <form onSubmit={handleSubmit}>...</form>;
}
```

## ğŸ’» PHáº¦N 2: LIVE CODING - EVENTS (45 phÃºt)

### Demo 1: Event Binding Patterns â­

**Pattern 1: Inline Arrow Function**

```jsx
function Counter() {
  const handleClick = () => {
    console.log('Clicked!');
  };

  return (
    <div>
      {/* âŒ CÃCH 1: Call function immediately - SAI! */}
      <button onClick={handleClick()}>Wrong - Executes now!</button>

      {/* âœ… CÃCH 2: Pass function reference */}
      <button onClick={handleClick}>Correct - Pass reference</button>

      {/* âœ… CÃCH 3: Inline arrow function */}
      <button onClick={() => handleClick()}>
        Also correct - Arrow wrapper
      </button>
    </div>
  );
}
```

---

**Pattern 2: Passing Arguments**

```jsx
function TodoList() {
  const handleDelete = (id) => {
    console.log(`Delete todo ${id}`);
  };

  return (
    <div>
      {/* âŒ SAI - calls immediately */}
      <button onClick={handleDelete(1)}>Delete</button>

      {/* âœ… ÄÃšNG - arrow function wrapper */}
      <button onClick={() => handleDelete(1)}>Delete 1</button>
      <button onClick={() => handleDelete(2)}>Delete 2</button>
      <button onClick={() => handleDelete(3)}>Delete 3</button>
    </div>
  );
}
```

**So sÃ¡nh trade-off:**

| CÃ¡ch viáº¿t                       | Æ¯u Ä‘iá»ƒm                                | NhÆ°á»£c Ä‘iá»ƒm                         | Khi nÃªn dÃ¹ng                        |
| ------------------------------- | -------------------------------------- | ---------------------------------- | ----------------------------------- |
| `onClick={handleClick}`         | âœ… Gá»n gÃ ng<br>âœ… Tá»‘i Æ°u hiá»‡u nÄƒng     | âŒ KhÃ´ng truyá»n Ä‘Æ°á»£c tham sá»‘       | Handler Ä‘Æ¡n giáº£n, khÃ´ng cáº§n tham sá»‘ |
| `onClick={() => handleClick()}` | âœ… Truyá»n Ä‘Æ°á»£c tham sá»‘<br>âœ… Linh hoáº¡t | âŒ Táº¡o function má»›i má»—i láº§n render | Khi cáº§n truyá»n tham sá»‘              |

---

**ğŸ’¡ Alternative: Higher-Order Function**

```jsx
function TodoList() {
  // PhÆ°Æ¡ng phÃ¡p currying : function returning function
  const handleDelete = (id) => (event) => {
    console.log(`Delete todo ${id}`);
  };

  return (
    <div>
      {/* Gá»n hÆ¡n - khÃ´ng cÃ³ inline arrow */}
      <button onClick={handleDelete(1)}>Delete 1</button>
      <button onClick={handleDelete(2)}>Delete 2</button>
      <button onClick={handleDelete(3)}>Delete 3</button>
    </div>
  );
}
```

---

### Demo 2: Event Object & Common Events â­â­

```jsx
function EventDemo() {
  // onClick - Mouse click
  const handleClick = (event) => {
    console.log('Event type:', event.type); // 'click'
    console.log('Target element:', event.target); // <button>
    console.log('Mouse position:', event.clientX, event.clientY);
  };

  // onChange - Input change
  const handleChange = (event) => {
    console.log('Input value:', event.target.value);
  };

  // onSubmit - Form submit
  const handleSubmit = (event) => {
    event.preventDefault(); // IMPORTANT!
    console.log('Form submitted');
  };

  // onKeyDown - Keyboard
  const handleKeyDown = (event) => {
    console.log('Key pressed:', event.key);
    if (event.key === 'Enter') {
      console.log('Enter pressed!');
    }
  };

  // onMouseEnter/onMouseLeave - Hover
  const handleMouseEnter = () => {
    console.log('Mouse entered');
  };

  return (
    <div>
      <button onClick={handleClick}>Click Me</button>

      <input
        type='text'
        onChange={handleChange}
        onKeyDown={handleKeyDown}
        placeholder='Type something...'
      />

      <form onSubmit={handleSubmit}>
        <input type='text' />
        <button type='submit'>Submit</button>
      </form>

      <div
        onMouseEnter={handleMouseEnter}
        style={{ padding: 20, background: '#f0f0f0' }}
      >
        Hover over me
      </div>
    </div>
  );
}
```

**ğŸ”¥ CÃ¡c sá»± kiá»‡n thÆ°á»ng dÃ¹ng:**

| Sá»± kiá»‡n        | Khi nÃ o Ä‘Æ°á»£c kÃ­ch hoáº¡t     | TrÆ°á»ng há»£p sá»­ dá»¥ng    |
| -------------- | -------------------------- | --------------------- |
| `onClick`      | Khi click vÃ o pháº§n tá»­      | Button, link          |
| `onChange`     | Khi giÃ¡ trá»‹ input thay Ä‘á»•i | Form, input           |
| `onSubmit`     | Khi form Ä‘Æ°á»£c submit       | Xá»­ lÃ½ form            |
| `onKeyDown`    | Khi nháº¥n phÃ­m              | PhÃ­m táº¯t, shortcut    |
| `onKeyUp`      | Khi nháº£ phÃ­m               | Validate dá»¯ liá»‡u nháº­p |
| `onFocus`      | Khi pháº§n tá»­ Ä‘Æ°á»£c focus     | Highlight input       |
| `onBlur`       | Khi pháº§n tá»­ máº¥t focus      | Validate khi blur     |
| `onMouseEnter` | Khi chuá»™t Ä‘i vÃ o pháº§n tá»­   | Hiá»‡u á»©ng hover        |
| `onMouseLeave` | Khi chuá»™t rá»i khá»i pháº§n tá»­ | áº¨n tooltip            |

---

### Demo 3: Event Delegation (á»¦y quyá»n) & Bubbling (Ná»•i Bá»t) â­â­â­

```jsx
function EventBubbling() {
  const handleParentClick = () => {
    console.log('Parent clicked');
  };

  const handleChildClick = (event) => {
    console.log('Child clicked');
    // event.stopPropagation();
    // Bá» comment Ä‘á»ƒ dá»«ng lan truyá»n Bubbling lÃªn cha
  };

  const handleButtonClick = (event) => {
    console.log('Button clicked');
    event.stopPropagation(); // Dá»«ng lan truyá»n / ná»•i bá»t
  };

  return (
    <div
      onClick={handleParentClick}
      style={{ padding: 40, background: '#f0f0f0' }}
    >
      Parent
      <div
        onClick={handleChildClick}
        style={{ padding: 20, background: '#e0e0e0', margin: 10 }}
      >
        Child
        <button onClick={handleButtonClick}>Button (stops propagation)</button>
      </div>
    </div>
  );
}
```

**Luá»“ng sá»± kiá»‡n (Event Flow):**

```
Click button
     â†“
Handler cá»§a button Ä‘Æ°á»£c thá»±c thi
     â†“
event.stopPropagation()
     â†“
âŒ KhÃ´ng bubble lÃªn component con
âŒ KhÃ´ng bubble lÃªn component cha
```

**Khi khÃ´ng dÃ¹ng `stopPropagation`:**

```
Click button
     â†“
Handler cá»§a button â†’ 'Button clicked'
     â†“
Handler cá»§a Child â†’ 'Child clicked'
     â†“
Handler cá»§a Parent â†’ 'Parent clicked'
```

**âš ï¸ Khi nÃ o dÃ¹ng stopPropagation:**

- âœ… Modal close button (khÃ´ng close khi click content)
- âœ… Nested clickable elements (CÃ¡c pháº§n tá»­ cÃ³ thá»ƒ nháº¥p lá»“ng nhau nhÆ° vÃ­ dá»¥ trÃªn)
- âœ… Prevent parent handlers ( NgÄƒn viá»‡c click á»Ÿ child nhÆ°ng xá»­ lÃ½ luÃ´n cáº£ event á»Ÿ parent )
- âŒ Äá»«ng overuse (láº¡m dá»¥ng) - phÃ¡ vá»¡ event delegation benefits

## ğŸ’» PHáº¦N 2B: LIVE CODING - CONDITIONAL RENDERING (45 phÃºt)

### Demo 4: If/Else Pattern â­

```jsx
function UserGreeting({ isLoggedIn, userName }) {
  // âŒ CÃCH 1: KhÃ´ng thá»ƒ sá»­ dá»¥ng cÃ¢u lá»‡nh if/else trá»±c tiáº¿p trong JSX.
  return (
    <div>
      {if (isLoggedIn) { // âŒ Syntax Error!
        <h1>Welcome, {userName}!</h1>
      } else {
        <h1>Please log in</h1>
      }}
    </div>
  );

  // âœ… CÃCH 2: If/else before return
  if (isLoggedIn) {
    return <h1>Welcome, {userName}!</h1>;
  } else {
    return <h1>Please log in</h1>;
  }

  // âœ… CÃCH 3: Variable + if/else
  let message;
  if (isLoggedIn) {
    message = <h1>Welcome, {userName}!</h1>;
  } else {
    message = <h1>Please log in</h1>;
  }

  return <div>{message}</div>;
}
```

**ğŸ¯ Khi nÃ o dÃ¹ng If/Else:**

- âœ… Logic phá»©c táº¡p (nhiá»u conditions)
- âœ… Early return pattern
- âœ… Nhiá»u lines code trong má»—i branch
- âŒ Náº¿u true/false Ä‘Æ¡n giáº£n â†’ dÃ¹ng ternary

---

### Demo 5: Ternary Operator Pattern â­â­

```jsx
function StatusBadge({ status }) {
  // âœ… Ternary operator - clean for simple conditions
  return (
    <span
      className={`badge ${
        status === 'active' ? 'badge-success' : 'badge-danger'
      }`}
    >
      {status === 'active' ? 'âœ“ Active' : 'âœ— Inactive'}
    </span>
  );
}

function LoadingButton({ isLoading, onClick, children }) {
  return (
    <button
      onClick={onClick}
      disabled={isLoading}
    >
      {isLoading ? (
        <>
          <span className='spinner'>â³</span>
          Loading...
        </>
      ) : (
        children
      )}
    </button>
  );
}

// Usage
function App() {
  return (
    <div>
      <StatusBadge status='active' />
      <StatusBadge status='inactive' />

      <LoadingButton
        isLoading={false}
        onClick={() => {}}
      >
        Submit
      </LoadingButton>

      <LoadingButton
        isLoading={true}
        onClick={() => {}}
      >
        Submit
      </LoadingButton>
    </div>
  );
}
```

**âš ï¸ Nested Ternary - TRÃNH!**

```jsx
// âŒ NÃŠN TRÃNH - KhÃ³ Ä‘á»c
function Status({ user }) {
  return (
    <div>
      {user ? (
        user.isPremium ? (
          user.isActive ? (
            <span>Premium Active</span>
          ) : (
            <span>Premium Inactive</span>
          )
        ) : (
          <span>Free</span>
        )
      ) : (
        <span>Guest</span>
      )}
    </div>
  );
}

// âœ… Tá»T HÆ N - Sá»­ dá»¥ng nhiá»u cÃ¢u lá»‡nh if/else hoáº·c hÃ m riÃªng biá»‡t
function Status({ user }) {
  if (!user) return <span>Guest</span>;
  if (!user.isPremium) return <span>Free</span>;
  if (user.isActive) return <span>Premium Active</span>;
  return <span>Premium Inactive</span>;
}
```

---

### Demo 6: Logical && Operator â­â­â­

```jsx
function Notification({ hasNotification, count }) {
  return (
    <div>
      <h3>Inbox</h3>

      {/* âœ… Chá»‰ hiá»ƒn thá»‹ khi hasNotification = true */}
      {hasNotification && <div className='notification-badge'>{count}</div>}

      {/* âœ… Chá»‰ hiá»ƒn thá»‹ khi count > 0 */}
      {count > 0 && <p>You have {count} unread messages</p>}

      {/* âš ï¸ Cáº¨N THáº¬N â€“ cÃ³ thá»ƒ render ra sá»‘ 0 */}
      {count && <p>Count: {count}</p>}
      {/* Náº¿u count = 0 â†’ sáº½ hiá»ƒn thá»‹ "0" trÃªn mÃ n hÃ¬nh */}

      {/* âœ… Tá»T HÆ N â€“ so sÃ¡nh rÃµ rÃ ng */}
      {count > 0 && <p>Count: {count}</p>}
    </div>
  );
}
```

**ğŸ”¥ LÆ°u Ã½: CÃ¡c giÃ¡ trá»‹ falsy**

```jsx
function Demo({ value }) {
  return (
    <div>
      {/* âŒ Sáº¼ RENDER "0" náº¿u value = 0 */}
      {value && <p>Value: {value}</p>}

      {/* âœ… ÄÃšNG â€“ chá»‰ render khi value > 0 */}
      {value > 0 && <p>Value: {value}</p>}

      {/* âœ… ÄÃšNG â€“ render vá»›i má»i giÃ¡ trá»‹ khÃ¡c null/undefined */}
      {value != null && <p>Value: {value}</p>}
    </div>
  );
}

// Test cases:
<Demo value={0} />    // Renders: "0" (á»i dá»“i Ã´i !)
<Demo value={5} />    // Renders: "Value: 5" âœ“
<Demo value={null} /> // Renders: nothing âœ“
```

**Falsy values trong JavaScript:**

- `false`
- `0` âš ï¸ renders as "0"
- `""` (empty string)
- `null`
- `undefined`
- `NaN`

---

### Demo 7: Multiple Conditions Pattern â­â­â­

```jsx
function UserDashboard({ user, isLoading, error }) {
  // Pattern 1: Early returns
  if (isLoading) {
    return <div className='loading'>Loading...</div>;
  }

  if (error) {
    return <div className='error'>Error: {error.message}</div>;
  }

  if (!user) {
    return <div className='empty'>No user data</div>;
  }

  // Main content
  return (
    <div className='dashboard'>
      <h1>Welcome, {user.name}!</h1>
      <p>Email: {user.email}</p>
    </div>
  );
}

// Pattern 2: Object mapping
function StatusMessage({ status }) {
  const messages = {
    loading: <div className='spinner'>Loading...</div>,
    success: <div className='success'>âœ“ Success!</div>,
    error: <div className='error'>âœ— Error occurred</div>,
    idle: null,
  };

  return messages[status] || null;
}

// Pattern 3: Switch statement
function OrderStatus({ status }) {
  const renderStatus = () => {
    switch (status) {
      case 'pending':
        return <span className='badge-warning'>â³ Pending</span>;
      case 'processing':
        return <span className='badge-info'>âš™ï¸ Processing</span>;
      case 'shipped':
        return <span className='badge-primary'>ğŸ“¦ Shipped</span>;
      case 'delivered':
        return <span className='badge-success'>âœ“ Delivered</span>;
      case 'cancelled':
        return <span className='badge-danger'>âœ— Cancelled</span>;
      default:
        return <span className='badge-secondary'>Unknown</span>;
    }
  };

  return <div>{renderStatus()}</div>;
}
```

---

## ğŸ”¨ PHáº¦N 3: BÃ€I Táº¬P THá»°C HÃ€NH (60 phÃºt)

### â­ Exercise 1: Click Counter (15 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Táº¡o counter vá»›i event handling cÆ¡ báº£n  
**â±ï¸ Thá»i gian:** 15 phÃºt  
**ğŸš« KHÃ”NG dÃ¹ng:** State (chÆ°a há»c - chá»‰ log ra console)

**Requirements:**

1. Button "Increment" - log "Count: 1", "Count: 2"...
2. Button "Decrement" - log "Count: -1", "Count: -2"...
3. Button "Reset" - log "Count reset to 0"
4. Hiá»ƒn thá»‹ message dá»±a trÃªn count (dÃ¹ng conditional rendering concept)

```jsx
/**
 * ğŸ’¡ Gá»£i Ã½:
 * - DÃ¹ng onClick Ä‘á»ƒ handle button clicks
 * - Log count value ra console
 * - Conditional rendering Ä‘á»ƒ show message
 */

// ğŸ¯ NHIá»†M Vá»¤ Cá»¦A Báº N:
function ClickCounter() {
  let count = 0; // Temporary - sáº½ dÃ¹ng state sau

  const handleIncrement = () => {
    count = count + 1;
    console.log(`Count: ${count}`);
  };

  const handleDecrement = () => {
    // TODO
  };

  const handleReset = () => {
    // TODO
  };

  return (
    <div className='counter'>
      <h2>Click Counter (Console Demo)</h2>

      {/* TODO: Add buttons */}
      <button onClick={handleIncrement}>Increment</button>

      {/* TODO: Render theo Ä‘iá»u kiá»‡n  */}
      {/* If count > 5: "Wow, nhiá»u clicks!" */}
      {/* If count < 0: "Sá»‘ Ã¢m !" */}
      {/* Else: "Tiáº¿p tá»¥c nháº¥p Ä‘i!" */}
    </div>
  );
}
```

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function ClickCounter() {
  let count = 0;

  const handleIncrement = () => {
    count++;
    console.log(`Count: ${count}`);
  };

  const handleDecrement = () => {
    count--;
    console.log(`Count: ${count}`);
  };

  const handleReset = () => {
    count = 0;
    console.log('Count reset to 0');
  };

  // Temporary message - won't update visually (need state)
  let message;
  if (count > 5) {
    message = 'Wow, nhiá»u clicks!';
  } else if (count < 0) {
    message = 'Sá»‘ Ã¢m!';
  } else {
    message = 'Tiáº¿p tá»¥c nháº¥p Ä‘i!';
  }

  return (
    <div className='counter'>
      <h2>Click Counter (Console Demo)</h2>
      <p className='hint'>Má»Ÿ báº£ng console Ä‘á»ƒ xem cÃ¡c cáº­p nháº­t sá»‘ liá»‡u.</p>

      <div className='button-group'>
        <button onClick={handleDecrement}>â– Decrement</button>
        <button onClick={handleReset}>ğŸ”„ Reset</button>
        <button onClick={handleIncrement}>â• Increment</button>
      </div>

      <p className='message'>{message}</p>
    </div>
  );
}
```

**ğŸ“š Giáº£i thÃ­ch:**

- Biáº¿n `count` khÃ´ng Ä‘Æ°á»£c giá»¯ láº¡i giá»¯a cÃ¡c láº§n click (cáº§n dÃ¹ng state)
- Event handler log ra console Ä‘Ãºng nhÆ° mong Ä‘á»£i
- Conditional rendering hiá»ƒn thá»‹ cÃ¡c thÃ´ng bÃ¡o khÃ¡c nhau
- **NgÃ y 11** sáº½ há»c `useState` Ä‘á»ƒ cáº­p nháº­t UI!

</details>

---

### â­â­ Exercise 2: Form Input Handler (25 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Handle form events & conditional validation  
**â±ï¸ Thá»i gian:** 25 phÃºt

**Scenario:** Táº¡o login form vá»›i real-time validation messages

**Requirements:**

1. Email input vá»›i onChange validation
2. Password input vá»›i visibility toggle
3. Submit button disabled náº¿u invalid
4. Show error messages conditionally

```jsx
// ğŸ¯ NHIá»†M Vá»¤:
function LoginForm() {
  // TODO: Handle email change
  const handleEmailChange = (event) => {
    const email = event.target.value;
    console.log('Email:', email);
    // TODO: Validate email format
  };

  // TODO: Handle password change
  const handlePasswordChange = (event) => {
    // TODO
  };

  // TODO: Handle form submit
  const handleSubmit = (event) => {
    event.preventDefault(); // IMPORTANT!
    console.log('Form submitted');
  };

  // TODO: Toggle password visibility
  const handleTogglePassword = () => {
    // TODO
  };

  // Validation (temporary - need state to track)
  const isEmailValid = true; // TODO: Real validation
  const isPasswordValid = true; // TODO: Min 6 chars
  const canSubmit = isEmailValid && isPasswordValid;

  return (
    <form
      onSubmit={handleSubmit}
      className='login-form'
    >
      <h2>Login</h2>

      {/* Email field */}
      <div className='form-group'>
        <label htmlFor='email'>Email</label>
        <input
          type='email'
          id='email'
          onChange={handleEmailChange}
          placeholder='Enter your email'
        />

        {/* TODO: Show error if email invalid */}
        {!isEmailValid && <span className='error'>Invalid email format</span>}
      </div>

      {/* Password field */}
      <div className='form-group'>
        <label htmlFor='password'>Password</label>
        <div className='password-wrapper'>
          <input
            type='password' // TODO: Toggle between 'password' and 'text'
            id='password'
            onChange={handlePasswordChange}
            placeholder='Enter your password'
          />
          <button
            type='button'
            onClick={handleTogglePassword}
          >
            ğŸ‘ï¸ Show
          </button>
        </div>

        {/* TODO: Show error if password too short */}
      </div>

      {/* Submit button */}
      <button
        type='submit'
        disabled={!canSubmit}
        className='submit-btn'
      >
        Log In
      </button>
    </form>
  );
}
```

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function LoginForm() {
  // Temp variables (need state to persist)
  let email = '';
  let password = '';
  let showPassword = false;

  const handleEmailChange = (event) => {
    email = event.target.value;
    console.log('Email:', email);
  };

  const handlePasswordChange = (event) => {
    password = event.target.value;
    console.log('Password:', password);
  };

  const handleSubmit = (event) => {
    event.preventDefault();
    console.log('Form submitted');
    console.log('Email:', email);
    console.log('Password:', password);
  };

  const handleTogglePassword = () => {
    showPassword = !showPassword;
    console.log('Show password:', showPassword);
  };

  // Basic validation (without state, always resets)
  const isEmailValid = email.includes('@') && email.includes('.');
  const isPasswordValid = password.length >= 6;
  const canSubmit = email && password && isEmailValid && isPasswordValid;

  return (
    <form
      onSubmit={handleSubmit}
      className='login-form'
    >
      <h2>Login</h2>

      <div className='form-group'>
        <label htmlFor='email'>Email</label>
        <input
          type='email'
          id='email'
          onChange={handleEmailChange}
          placeholder='Enter your email'
        />

        {email && !isEmailValid && (
          <span className='error'>âœ— Please enter a valid email address</span>
        )}

        {email && isEmailValid && (
          <span className='success'>âœ“ Valid email</span>
        )}
      </div>

      <div className='form-group'>
        <label htmlFor='password'>Password</label>
        <div className='password-wrapper'>
          <input
            type={showPassword ? 'text' : 'password'}
            id='password'
            onChange={handlePasswordChange}
            placeholder='Enter your password'
          />
          <button
            type='button'
            onClick={handleTogglePassword}
            className='toggle-btn'
          >
            {showPassword ? 'ğŸ™ˆ Hide' : 'ğŸ‘ï¸ Show'}
          </button>
        </div>

        {password && password.length < 6 && (
          <span className='error'>
            âœ— Password must be at least 6 characters
          </span>
        )}

        {password && isPasswordValid && (
          <span className='success'>âœ“ Strong password</span>
        )}
      </div>

      <button
        type='submit'
        disabled={!canSubmit}
        className='submit-btn'
      >
        {canSubmit ? 'Log In' : 'Fill all fields correctly'}
      </button>
    </form>
  );
}
```

</details>

---

### â­â­â­ Exercise 3: Interactive Todo Item (40 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Káº¿t há»£p events + conditional rendering  
**â±ï¸ Thá»i gian:** 40 phÃºt

**ğŸ“‹ Product Requirements:**
User Story: "LÃ  user, tÃ´i muá»‘n tháº¥y todo item vá»›i cÃ¡c tráº¡ng thÃ¡i khÃ¡c nhau (view/edit/delete confirm) Ä‘á»ƒ quáº£n lÃ½ tasks."

**âœ… Acceptance Criteria:**

- [ ] 3 modes: View, Edit, Delete Confirm
- [ ] View mode: Show todo, Edit button, Delete button
- [ ] Edit mode: Input field, Save button, Cancel button
- [ ] Delete Confirm mode: Confirmation message, Yes/No buttons
- [ ] Conditional styling cho má»—i mode

```jsx
// ğŸ¯ NHIá»†M Vá»¤:
function TodoItem({ todo }) {
  // Modes: 'view' | 'edit' | 'delete-confirm'
  let mode = 'view'; // TODO: Toggle between modes

  const handleEditClick = () => {
    mode = 'edit';
    console.log('Entering edit mode');
  };

  const handleDeleteClick = () => {
    mode = 'delete-confirm';
    console.log('Asking for delete confirmation');
  };

  const handleSave = () => {
    console.log('Saved');
    mode = 'view';
  };

  const handleCancel = () => {
    console.log('Cancelled');
    mode = 'view';
  };

  const handleConfirmDelete = () => {
    console.log(`Deleted todo: ${todo.id}`);
  };

  const handleCancelDelete = () => {
    mode = 'view';
  };

  return (
    <div className='todo-item'>
      {/* TODO: Conditional rendering based on mode */}

      {/* VIEW MODE */}
      {mode === 'view' && (
        <div className='view-mode'>
          <span className='todo-text'>{todo.text}</span>
          <div className='actions'>
            <button onClick={handleEditClick}>âœï¸ Edit</button>
            <button onClick={handleDeleteClick}>ğŸ—‘ï¸ Delete</button>
          </div>
        </div>
      )}

      {/* EDIT MODE - TODO */}

      {/* DELETE CONFIRM MODE - TODO */}
    </div>
  );
}

// Test
function App() {
  const todo = { id: 1, text: 'Learn React Events' };
  return <TodoItem todo={todo} />;
}
```

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function TodoItem({ todo }) {
  // Simulate mode state (won't persist - need useState)
  let mode = 'view'; // 'view' | 'edit' | 'delete-confirm'
  let editText = todo.text;

  const handleEditClick = () => {
    mode = 'edit';
    console.log('Mode:', mode);
  };

  const handleDeleteClick = () => {
    mode = 'delete-confirm';
    console.log('Mode:', mode);
  };

  const handleInputChange = (event) => {
    editText = event.target.value;
    console.log('Edit text:', editText);
  };

  const handleSave = () => {
    console.log('Saved:', editText);
    mode = 'view';
  };

  const handleCancel = () => {
    console.log('Cancelled edit');
    editText = todo.text;
    mode = 'view';
  };

  const handleConfirmDelete = () => {
    console.log(`Deleted todo: ${todo.id}`);
    // In real app: call parent's delete function
  };

  const handleCancelDelete = () => {
    console.log('Cancelled delete');
    mode = 'view';
  };

  // Conditional rendering based on mode
  return (
    <div className={`todo-item mode-${mode}`}>
      {/* VIEW MODE */}
      {mode === 'view' && (
        <div className='view-mode'>
          <span className='todo-text'>{todo.text}</span>
          <div className='actions'>
            <button
              onClick={handleEditClick}
              className='btn btn-edit'
            >
              âœï¸ Edit
            </button>
            <button
              onClick={handleDeleteClick}
              className='btn btn-delete'
            >
              ğŸ—‘ï¸ Delete
            </button>
          </div>
        </div>
      )}

      {/* EDIT MODE */}
      {mode === 'edit' && (
        <div className='edit-mode'>
          <input
            type='text'
            defaultValue={todo.text}
            onChange={handleInputChange}
            className='edit-input'
            placeholder='Edit todo...'
            autoFocus
          />
          <div className='actions'>
            <button
              onClick={handleSave}
              className='btn btn-save'
            >
              âœ“ Save
            </button>
            <button
              onClick={handleCancel}
              className='btn btn-cancel'
            >
              âœ— Cancel
            </button>
          </div>
        </div>
      )}

      {/* DELETE CONFIRM MODE */}
      {mode === 'delete-confirm' && (
        <div className='delete-confirm-mode'>
          <p className='confirm-message'>
            Are you sure you want to delete "{todo.text}"?
          </p>
          <div className='actions'>
            <button
              onClick={handleConfirmDelete}
              className='btn btn-danger'
            >
              Yes, Delete
            </button>
            <button
              onClick={handleCancelDelete}
              className='btn btn-secondary'
            >
              No, Cancel
            </button>
          </div>
        </div>
      )}

      <div className='mode-indicator'>
        Current mode: <strong>{mode}</strong> (check console)
      </div>
    </div>
  );
}

// Test Component
function App() {
  const todos = [
    { id: 1, text: 'Learn React Events' },
    { id: 2, text: 'Master Conditional Rendering' },
    { id: 3, text: 'Build Real Projects' },
  ];

  return (
    <div className='app'>
      <h2>Interactive Todo Items</h2>
      <div className='todo-list'>
        {todos.map((todo) => (
          <TodoItem
            key={todo.id}
            todo={todo}
          />
        ))}
      </div>
    </div>
  );
}
```

**CSS:**

```css
.app {
  max-width: 600px;
  margin: 20px auto;
  padding: 20px;
  color: #121212;
}

.todo-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.todo-item {
  padding: 16px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  background: white;
  transition: all 0.3s;
}

.todo-item.mode-edit {
  border-color: #1976d2;
  background: #e3f2fd;
}

.todo-item.mode-delete-confirm {
  border-color: #d32f2f;
  background: #ffebee;
}

.view-mode,
.edit-mode,
.delete-confirm-mode {
  display: flex;
  align-items: center;
  gap: 12px;
}

.todo-text {
  flex: 1;
  font-size: 16px;
}

.edit-input {
  flex: 1;
  padding: 8px 12px;
  font-size: 14px;
  border: 2px solid #1976d2;
  border-radius: 4px;
}

.confirm-message {
  flex: 1;
  margin: 0;
  font-size: 14px;
  color: #d32f2f;
}

.actions {
  display: flex;
  gap: 8px;
}

.btn {
  padding: 8px 16px;
  font-size: 14px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-edit {
  background: #1976d2;
  color: white;
}

.btn-edit:hover {
  background: #1565c0;
}

.btn-delete {
  background: #d32f2f;
  color: white;
}

.btn-delete:hover {
  background: #c62828;
}

.btn-save {
  background: #388e3c;
  color: white;
}

.btn-save:hover {
  background: #2e7d32;
}

.btn-cancel,
.btn-secondary {
  background: #757575;
  color: white;
}

.btn-cancel:hover,
.btn-secondary:hover {
  background: #616161;
}

.btn-danger {
  background: #d32f2f;
  color: white;
}

.btn-danger:hover {
  background: #c62828;
}

.mode-indicator {
  margin-top: 12px;
  padding: 8px;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 12px;
  color: #666;
  text-align: center;
}
```

**ğŸ“š Key Learnings:**

- Mode-based conditional rendering
- Multiple event handlers
- Nested conditionals
- Visual feedback for different states
- **Important:** Without useState, mode changes don't persist visually!

</details>

---

### â­â­â­â­ Exercise 4: Keyboard Shortcuts (60 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Advanced event handling vá»›i keyboard  
**â±ï¸ Thá»i gian:** 60 phÃºt

**ğŸ—ï¸ PHASE 1: Research & Design (20 phÃºt)**

Thiáº¿t káº¿ má»™t command palette (giá»‘ng VS Code/Spotlight) vá»›i keyboard shortcuts.
**CÃ¡c tÃ­nh nÄƒng cáº§n cÃ³:**

- Nháº¥n `Cmd/Ctrl + K` â†’ Má»Ÿ command palette
- Nháº¥n `Esc` â†’ ÄÃ³ng command palette
- PhÃ­m mÅ©i tÃªn â†’ Di chuyá»ƒn giá»¯a cÃ¡c lá»±a chá»n
- PhÃ­m Enter â†’ Chá»n lá»±a chá»n
- GÃµ Ä‘á»ƒ lá»c danh sÃ¡ch lá»±a chá»n

---

**ğŸ¤” CÃ¡c quyáº¿t Ä‘á»‹nh thiáº¿t káº¿ (Design Decisions):**

1. **Cáº¥p Ä‘á»™ gáº¯n Event Listener:**

   - PhÆ°Æ¡ng Ã¡n A: Má»©c document (toÃ n cá»¥c)
   - PhÆ°Æ¡ng Ã¡n B: Má»©c component (cá»¥c bá»™)
   - Quyáº¿t Ä‘á»‹nh: ?

2. **PhÃ¡t hiá»‡n tá»• há»£p phÃ­m:**

   - LÃ m sao phÃ¢n biá»‡t `Cmd + K` vá»›i chá»‰ nháº¥n `K`?
   - Xá»­ lÃ½ khÃ¡c nhau giá»¯a `Ctrl` (Windows) vÃ  `Cmd` (Mac) nhÆ° tháº¿ nÃ o?

3. **Quáº£n lÃ½ Focus:**

   - CÃ³ tá»± Ä‘á»™ng focus vÃ o Ã´ input khi má»Ÿ khÃ´ng?
   - CÃ³ cháº·n scroll cá»§a body khi palette Ä‘ang má»Ÿ khÃ´ng?

---

**Máº«u ADR (Architecture Decision Record):**

```markdown
## Quyáº¿t Ä‘á»‹nh: Chiáº¿n lÆ°á»£c xá»­ lÃ½ sá»± kiá»‡n bÃ n phÃ­m

### Bá»‘i cáº£nh

Cáº§n triá»ƒn khai phÃ­m táº¯t toÃ n cá»¥c cho command palette.

### Quyáº¿t Ä‘á»‹nh

[Lá»±a chá»n cá»§a báº¡n]

### LÃ½ do

- LÃ½ do 1:
- LÃ½ do 2:

### CÃ¡ch triá»ƒn khai

[PhÃ¡c tháº£o code]
```

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function CommandPalette() {
  let isOpen = false;
  let selectedIndex = 0;
  let searchQuery = '';

  const commands = [
    { id: 1, name: 'Create New File', shortcut: 'Cmd+N' },
    { id: 2, name: 'Open File', shortcut: 'Cmd+O' },
    { id: 3, name: 'Save File', shortcut: 'Cmd+S' },
    { id: 4, name: 'Search', shortcut: 'Cmd+F' },
    { id: 5, name: 'Settings', shortcut: 'Cmd+,' },
  ];

  // Filter commands based on search
  const filteredCommands = commands.filter((cmd) =>
    cmd.name.toLowerCase().includes(searchQuery.toLowerCase())
  );

  // Global keyboard handler
  const handleGlobalKeyDown = (event) => {
    // Cmd+K or Ctrl+K to toggle
    if ((event.metaKey || event.ctrlKey) && event.key === 'k') {
      event.preventDefault();
      isOpen = !isOpen;
      console.log('Palette:', isOpen ? 'OPEN' : 'CLOSED');
      return;
    }

    // Only handle if palette is open
    if (!isOpen) return;

    // Esc to close
    if (event.key === 'Escape') {
      isOpen = false;
      console.log('Palette: CLOSED');
      return;
    }

    // Arrow keys navigation
    if (event.key === 'ArrowDown') {
      event.preventDefault();
      selectedIndex = (selectedIndex + 1) % filteredCommands.length;
      console.log('Selected:', filteredCommands[selectedIndex].name);
    }

    if (event.key === 'ArrowUp') {
      event.preventDefault();
      selectedIndex =
        (selectedIndex - 1 + filteredCommands.length) % filteredCommands.length;
      console.log('Selected:', filteredCommands[selectedIndex].name);
    }

    // Enter to execute
    if (event.key === 'Enter') {
      event.preventDefault();
      const selected = filteredCommands[selectedIndex];
      console.log('Executing:', selected.name);
      isOpen = false;
    }
  };

  const handleSearchChange = (event) => {
    searchQuery = event.target.value;
    selectedIndex = 0; // Reset selection
    console.log('Search:', searchQuery);
  };

  const handleCommandClick = (command) => {
    console.log('Clicked:', command.name);
    isOpen = false;
  };

  // Attach global listener (in real app: useEffect)
  if (typeof window !== 'undefined') {
    window.addEventListener('keydown', handleGlobalKeyDown);
  }

  return (
    <div className='command-palette-demo'>
      <div className='instructions'>
        <h3>Command Palette Demo</h3>
        <p>
          Press <kbd>Cmd/Ctrl + K</kbd> to open (check console)
        </p>
        <p>Arrow keys to navigate, Enter to select, Esc to close</p>
      </div>

      {/* Backdrop */}
      {isOpen && (
        <div
          className='backdrop'
          onClick={() => {
            isOpen = false;
            console.log('Backdrop clicked - CLOSED');
          }}
        />
      )}

      {/* Palette */}
      {isOpen && (
        <div className='palette'>
          <input
            type='text'
            className='search-input'
            placeholder='Type a command...'
            onChange={handleSearchChange}
            autoFocus
          />

          <div className='command-list'>
            {filteredCommands.length > 0 ? (
              filteredCommands.map((command, index) => (
                <div
                  key={command.id}
                  className={`command-item ${
                    index === selectedIndex ? 'selected' : ''
                  }`}
                  onClick={() => handleCommandClick(command)}
                >
                  <span className='command-name'>{command.name}</span>
                  <kbd className='command-shortcut'>{command.shortcut}</kbd>
                </div>
              ))
            ) : (
              <div className='no-results'>No commands found</div>
            )}
          </div>

          <div className='palette-footer'>
            <span>â†‘â†“ Navigate</span>
            <span>â†µ Select</span>
            <span>Esc Close</span>
          </div>
        </div>
      )}
    </div>
  );
}
```

**CSS:**

```css
.command-palette-demo {
  min-height: 400px;
  position: relative;
}

.instructions {
  text-align: center;
  padding: 40px 20px;
}

.instructions kbd {
  padding: 4px 8px;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-family: monospace;
  font-size: 13px;
}

.backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
}

.palette {
  position: fixed;
  top: 100px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 600px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  z-index: 1001;
  overflow: hidden;
}

.search-input {
  width: 100%;
  padding: 16px 20px;
  font-size: 16px;
  border: none;
  border-bottom: 1px solid #e0e0e0;
  outline: none;
}

.command-list {
  max-height: 400px;
  overflow-y: auto;
}

.command-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 20px;
  cursor: pointer;
  transition: background 0.2s;
}

.command-item:hover,
.command-item.selected {
  background: #f5f5f5;
}

.command-item.selected {
  background: #e3f2fd;
}

.command-name {
  font-size: 14px;
}

.command-shortcut {
  padding: 2px 6px;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 3px;
  font-size: 11px;
  font-family: monospace;
}

.no-results {
  padding: 40px 20px;
  text-align: center;
  color: #999;
}

.palette-footer {
  display: flex;
  gap: 16px;
  justify-content: center;
  padding: 12px;
  background: #f9f9f9;
  border-top: 1px solid #e0e0e0;
  font-size: 12px;
  color: #666;
}
```

**ğŸ“š Ãp dá»¥ng cÃ¡c ká»¹ thuáº­t trong vÃ­ dá»¥ `CommandPalette`:**

- **Global event listener**
  Sá»­ dá»¥ng `window.addEventListener('keydown', handleGlobalKeyDown)` Ä‘á»ƒ láº¯ng nghe phÃ­m táº¯t á»Ÿ toÃ n bá»™ á»©ng dá»¥ng, dÃ¹ focus Ä‘ang á»Ÿ Ä‘Ã¢u.

- **Keyboard shortcuts detection**
  Kiá»ƒm tra `event.metaKey || event.ctrlKey` káº¿t há»£p vá»›i `event.key === 'k'` Ä‘á»ƒ má»Ÿ/Ä‘Ã³ng Command Palette báº±ng `Cmd/Ctrl + K`.

- **Focus management**
  Khi palette má»Ÿ, input search Ä‘Æ°á»£c `autoFocus` Ä‘á»ƒ ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ gÃµ ngay mÃ  khÃ´ng cáº§n click.

- **Arrow key navigation**
  DÃ¹ng `ArrowUp` / `ArrowDown` Ä‘á»ƒ thay Ä‘á»•i `selectedIndex`, cho phÃ©p di chuyá»ƒn giá»¯a cÃ¡c command trong danh sÃ¡ch.

- **Conditional backdrop rendering**
  Backdrop chá»‰ Ä‘Æ°á»£c render khi `isOpen === true`, click vÃ o backdrop sáº½ Ä‘Ã³ng palette.

- **Search filtering**
  Lá»c danh sÃ¡ch `commands` theo `searchQuery`, cáº­p nháº­t realtime khi ngÆ°á»i dÃ¹ng nháº­p vÃ o Ã´ search.

- **Conditional rendering UI**
  Palette, backdrop vÃ  danh sÃ¡ch command chá»‰ xuáº¥t hiá»‡n khi `isOpen` lÃ  `true`.

- **Command execution logic**
  Nháº¥n `Enter` hoáº·c click vÃ o command sáº½ thá»±c thi hÃ nh Ä‘á»™ng tÆ°Æ¡ng á»©ng vÃ  Ä‘Ã³ng palette.

- **LÆ°u Ã½ quan trá»ng**
  `isOpen`, `selectedIndex`, `searchQuery` Ä‘ang lÃ  biáº¿n thÆ°á»ng â†’ **khÃ´ng persist giá»¯a cÃ¡c láº§n render**.
  Trong app thá»±c táº¿, cÃ¡c giÃ¡ trá»‹ nÃ y cáº§n Ä‘Æ°á»£c quáº£n lÃ½ báº±ng `useState` vÃ  global listener cáº§n gáº¯n/gá»¡ báº±ng `useEffect`.

</details>

---

### â­â­â­â­â­ Exercise 5: Multi-State UI Component (90 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Production-ready component vá»›i nhiá»u states  
**â±ï¸ Thá»i gian:** 90 phÃºt

**ğŸ“‹ Feature Specification:**

Táº¡o File Upload component vá»›i cÃ¡c states:

- **Idle**: ChÆ°a cÃ³ file
- **Dragging**: Äang drag file vÃ o
- **Uploading**: Äang upload (fake vá»›i setTimeout)
- **Success**: Upload thÃ nh cÃ´ng
- **Error**: Upload tháº¥t báº¡i

**âœ… Production Checklist:**

**Features:**

- [ ] Drag & drop file upload
- [ ] Click to browse files
- [ ] File type validation (images only)
- [ ] File size validation (< 5MB)
- [ ] Upload progress simulation
- [ ] Success/Error messages
- [ ] Retry on error

**Accessibility:**

- [ ] Keyboard accessible
- [ ] ARIA labels
- [ ] Focus management

---

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function FileUploader() {
  // States: 'idle' | 'dragging' | 'uploading' | 'success' | 'error'
  let state = 'idle';
  let file = null;
  let errorMessage = '';
  let progress = 0;

  // Validation
  const validateFile = (file) => {
    const maxSize = 5 * 1024 * 1024; // 5MB
    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];

    if (!allowedTypes.includes(file.type)) {
      return { valid: false, error: 'Only images (JPG, PNG, GIF) allowed' };
    }

    if (file.size > maxSize) {
      return { valid: false, error: 'File size must be less than 5MB' };
    }

    return { valid: true };
  };

  // Simulate upload :  Giáº£ láº­p upload (CHá»ˆ DÃ™NG DEMO â€“ KHÃ”NG DÃ™NG TRONG PRODUCTION)
  const simulateUpload = (file) => {
    state = 'uploading'; // tráº¡ng thÃ¡i upload (idle | uploading | success | error)
    progress = 0; // pháº§n trÄƒm tiáº¿n trÃ¬nh (0â€“100)

    // âŒ Progress giáº£ báº±ng setInterval â€“ KHÃ”NG dÃ¹ng thá»±c táº¿
    // âœ… Production â€“ nhiá»u lá»›p xá»­ lÃ½:
    // 1ï¸âƒ£ Upload progress (client â†’ server)
    //    - XMLHttpRequest.upload.onprogress
    //    - Axios onUploadProgress
    //
    // 2ï¸âƒ£ Server-side progress (NÃ‚NG CAO)
    //    - Upload xong â‰  xá»­ lÃ½ xong
    //    - Server xá»­ lÃ½ lÃ¢u: virus scan, resize áº£nh, unzip, import data...
    //    - Client upload Ä‘áº¡t 100% nhÆ°ng UI váº«n Ä‘ang "processing"
    //
    // Luá»“ng chuáº©n:
    // - Client upload file
    // - Server tráº£ vá» jobId
    // - Server xá»­ lÃ½ async
    // - Client dÃ¹ng polling / WebSocket / SSE Ä‘á»ƒ láº¥y progress xá»­ lÃ½
    //
    // VÃ­ dá»¥ UI:
    // - Uploading: 0% â†’ 70%
    // - Processing: 70% â†’ 100%

    const interval = setInterval(() => {
      progress += 10; // tÄƒng progress giáº£
      console.log('Progress:', progress + '%');

      if (progress >= 100) {
        clearInterval(interval);

        // âŒ Random success/fail â€“ chá»‰ Ä‘á»ƒ minh há»a
        // âœ… Production:
        // - Dá»±a vÃ o HTTP status (200 / 4xx / 5xx)
        // - Response tráº£ vá» tá»« server
        // - Retry / backoff khi lá»—i máº¡ng

        if (Math.random() > 0.3) {
          state = 'success'; // upload thÃ nh cÃ´ng
          console.log('Upload SUCCESS');
        } else {
          state = 'error'; // upload tháº¥t báº¡i
          errorMessage = 'Upload failed. Please try again.';
          console.log('Upload ERROR');
        }
      }
    }, 200);
  };

  const handleDragOver = (event) => {
    event.preventDefault();
    state = 'dragging';
  };

  const handleDragLeave = (event) => {
    event.preventDefault();
    state = 'idle';
  };

  const handleDrop = (event) => {
    event.preventDefault();
    state = 'idle';

    const droppedFile = event.dataTransfer.files[0];
    if (droppedFile) {
      handleFileSelect(droppedFile);
    }
  };

  const handleFileInputChange = (event) => {
    const selectedFile = event.target.files[0];
    if (selectedFile) {
      handleFileSelect(selectedFile);
    }
  };

  const handleFileSelect = (selectedFile) => {
    const validation = validateFile(selectedFile);

    if (!validation.valid) {
      state = 'error';
      errorMessage = validation.error;
      console.log('Validation Error:', validation.error);
      return;
    }

    file = selectedFile;
    simulateUpload(file);
  };

  const handleRetry = () => {
    if (file) {
      simulateUpload(file);
    }
  };

  const handleReset = () => {
    state = 'idle';
    file = null;
    errorMessage = '';
    progress = 0;
  };

  // Render different UIs based on state
  return (
    <div className='file-uploader'>
      <h2>File Upload Component</h2>

      {/* IDLE STATE */}
      {state === 'idle' && (
        <div
          className='upload-zone'
          onDragOver={handleDragOver}
          onDragLeave={handleDragLeave}
          onDrop={handleDrop}
        >
          <div className='upload-icon'>ğŸ“</div>
          <p>Drag & drop an image here</p>
          <p className='text-secondary'>or</p>
          <label className='browse-btn'>
            Browse Files
            <input
              type='file'
              accept='image/*'
              onChange={handleFileInputChange}
              style={{ display: 'none' }}
            />
          </label>
          <p className='file-requirements'>JPG, PNG or GIF â€¢ Max 5MB</p>
        </div>
      )}

      {/* DRAGGING STATE */}
      {state === 'dragging' && (
        <div
          className='upload-zone dragging'
          onDragOver={handleDragOver}
          onDragLeave={handleDragLeave}
          onDrop={handleDrop}
        >
          <div className='upload-icon'>â¬‡ï¸</div>
          <p className='highlight'>Drop your file here!</p>
        </div>
      )}

      {/* UPLOADING STATE */}
      {state === 'uploading' && (
        <div className='upload-zone uploading'>
          <div className='spinner'>â³</div>
          <p>Uploading {file?.name}...</p>
          <div className='progress-bar'>
            <div
              className='progress-fill'
              style={{ width: `${progress}%` }}
            />
          </div>
          <p className='progress-text'>{progress}%</p>
        </div>
      )}

      {/* SUCCESS STATE */}
      {state === 'success' && (
        <div className='upload-zone success'>
          <div className='success-icon'>âœ…</div>
          <p className='success-text'>Upload successful!</p>
          <p className='file-name'>{file?.name}</p>
          <button
            onClick={handleReset}
            className='btn-secondary'
          >
            Upload Another
          </button>
        </div>
      )}

      {/* ERROR STATE */}
      {state === 'error' && (
        <div className='upload-zone error'>
          <div className='error-icon'>âŒ</div>
          <p className='error-text'>Upload failed</p>
          <p className='error-message'>{errorMessage}</p>
          <div className='error-actions'>
            <button
              onClick={handleRetry}
              className='btn-primary'
            >
              Retry
            </button>
            <button
              onClick={handleReset}
              className='btn-secondary'
            >
              Cancel
            </button>
          </div>
        </div>
      )}

      <div className='state-indicator'>
        Current state: <strong>{state}</strong>
      </div>
    </div>
  );
}
```

```css
.file-uploader {
  max-width: 500px;
  margin: 20px auto;
  padding: 20px;
}

.upload-zone {
  border: 3px dashed #e0e0e0;
  border-radius: 8px;
  padding: 60px 40px;
  text-align: center;
  transition: all 0.3s;
  background: #fafafa;
}

.upload-zone.dragging {
  border-color: #1976d2;
  background: #e3f2fd;
  transform: scale(1.02);
}

.upload-zone.uploading {
  border-color: #1976d2;
  background: #e3f2fd;
}

.upload-zone.success {
  border-color: #388e3c;
  background: #e8f5e9;
}

.upload-zone.error {
  border-color: #d32f2f;
  background: #ffebee;
}

.upload-icon {
  font-size: 64px;
  margin-bottom: 16px;
}

.upload-zone p {
  margin: 8px 0;
  color: #333;
}

.text-secondary {
  color: #999;
  font-size: 14px;
}

.browse-btn {
  display: inline-block;
  padding: 10px 24px;
  margin: 16px 0;
  background: #1976d2;
  color: white;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: background 0.2s;
}

.browse-btn:hover {
  background: #1565c0;
}

.file-requirements {
  font-size: 12px;
  color: #999;
  margin-top: 16px;
}

.highlight {
  font-size: 18px;
  font-weight: 600;
  color: #1976d2;
}

/* Uploading State */
.spinner {
  font-size: 48px;
  margin-bottom: 16px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: #e0e0e0;
  border-radius: 4px;
  overflow: hidden;
  margin: 16px 0;
}

.progress-fill {
  height: 100%;
  background: #1976d2;
  transition: width 0.3s ease;
}

.progress-text {
  font-size: 14px;
  font-weight: 600;
  color: #1976d2;
}

/* Success State */
.success-icon {
  font-size: 64px;
  margin-bottom: 16px;
}

.success-text {
  font-size: 20px;
  font-weight: 600;
  color: #388e3c;
}

.file-name {
  font-size: 14px;
  color: #666;
  margin: 8px 0 24px 0;
}

/* Error State */
.error-icon {
  font-size: 64px;
  margin-bottom: 16px;
}

.error-text {
  font-size: 20px;
  font-weight: 600;
  color: #d32f2f;
}

.error-message {
  font-size: 14px;
  color: #d32f2f;
  margin: 8px 0 24px 0;
}

.error-actions {
  display: flex;
  gap: 12px;
  justify-content: center;
}

/* Buttons */
.btn-primary,
.btn-secondary {
  padding: 10px 24px;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-primary {
  background: #1976d2;
  color: white;
}

.btn-primary:hover {
  background: #1565c0;
}

.btn-secondary {
  background: #e0e0e0;
  color: #333;
}

.btn-secondary:hover {
  background: #d0d0d0;
}

/* State Indicator */
.state-indicator {
  margin-top: 20px;
  padding: 12px;
  background: #f5f5f5;
  border-radius: 4px;
  text-align: center;
  font-size: 13px;
  color: #666;
}

.state-indicator strong {
  color: #1976d2;
  text-transform: uppercase;
}
```

**ğŸ“š Best Practices trong Production Ä‘Ã£ Ã¡p dá»¥ng:**

1. **State Machine Pattern (MÃ´ hÃ¬nh tráº¡ng thÃ¡i):**

   - Luá»“ng chuyá»ƒn tráº¡ng thÃ¡i rÃµ rÃ ng
   - Má»—i tráº¡ng thÃ¡i tÆ°Æ¡ng á»©ng vá»›i má»™t UI cá»¥ thá»ƒ
   - TrÃ¡nh tráº¡ng thÃ¡i mÆ¡ há»“, khÃ³ kiá»ƒm soÃ¡t

2. **Validation (Kiá»ƒm tra dá»¯ liá»‡u):**

   - Validate file phÃ­a client
   - ThÃ´ng bÃ¡o lá»—i rÃµ rÃ ng, dá»… hiá»ƒu
   - Kiá»ƒm tra loáº¡i file vÃ  kÃ­ch thÆ°á»›c file

3. **User Feedback (Pháº£n há»“i cho ngÆ°á»i dÃ¹ng):**

   - Hiá»ƒn thá»‹ loading spinner
   - Thanh tiáº¿n trÃ¬nh (progress bar)
   - Tráº¡ng thÃ¡i thÃ nh cÃ´ng / tháº¥t báº¡i
   - CÆ¡ cháº¿ retry khi lá»—i

4. **Accessibility (Kháº£ nÄƒng truy cáº­p):**

   - Sá»­ dá»¥ng semantic HTML
   - CÃ³ thá»ƒ thao tÃ¡c hoÃ n toÃ n báº±ng bÃ n phÃ­m (file input)
   - Label rÃµ rÃ ng cho cÃ¡c trÆ°á»ng nháº­p
   - Pháº£n há»“i trá»±c quan cho ngÆ°á»i dÃ¹ng

5. **Error Handling (Xá»­ lÃ½ lá»—i):**

   - Xá»­ lÃ½ lá»—i má»™t cÃ¡ch an toÃ n, khÃ´ng lÃ m sáº­p UI
   - Cho phÃ©p thá»­ láº¡i khi gáº·p lá»—i
   - ThÃ´ng bÃ¡o thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng

</details>

## ğŸ“Š PHáº¦N 4: SO SÃNH PATTERNS (30 phÃºt)

### So sÃ¡nh cÃ¡c pattern xá»­ lÃ½ event

| Pattern                   | VÃ­ dá»¥ code                             | Æ¯u Ä‘iá»ƒm âœ…                                                    | NhÆ°á»£c Ä‘iá»ƒm âŒ                                              | Khi nÃªn dÃ¹ng                         |
| ------------------------- | -------------------------------------- | ------------------------------------------------------------- | ---------------------------------------------------------- | ------------------------------------ |
| **Function Reference**    | `onClick={handleClick}`                | â€¢ Gá»n gÃ ng<br>â€¢ Tá»‘i Æ°u hiá»‡u nÄƒng<br>â€¢ Dá»… tÃ¡i sá»­ dá»¥ng          | â€¢ KhÃ´ng truyá»n Ä‘Æ°á»£c tham sá»‘<br>â€¢ Ãt linh hoáº¡t              | Handler Ä‘Æ¡n giáº£n, khÃ´ng cáº§n tham sá»‘  |
| **Inline Arrow Function** | `onClick={() => handleClick(id)}`      | â€¢ Truyá»n Ä‘Æ°á»£c tham sá»‘<br>â€¢ Linh hoáº¡t                          | â€¢ Táº¡o function má»›i má»—i láº§n render<br>â€¢ KhÃ³ test hÆ¡n        | Khi cáº§n truyá»n tham sá»‘               |
| **Higher-Order Function** | `onClick={handleClick(id)}`            | â€¢ Code sáº¡ch<br>â€¢ KhÃ´ng dÃ¹ng arrow inline<br>â€¢ TÃ¡i sá»­ dá»¥ng tá»‘t | â€¢ KhÃ³ hiá»ƒu hÆ¡n<br>â€¢ CÃ³ Ä‘á»™ dá»‘c há»c táº­p                      | Khi cÃ³ nhiá»u handler tÆ°Æ¡ng tá»± nhau   |
| **Bind Method**           | `onClick={handleClick.bind(this, id)}` | â€¢ Truyá»n Ä‘Æ°á»£c tham sá»‘                                         | â€¢ Pattern cÅ©<br>â€¢ áº¢nh hÆ°á»Ÿng hiá»‡u nÄƒng<br>â€¢ Dá»… gÃ¢y nháº§m láº«n | âŒ NÃªn trÃ¡nh, Æ°u tiÃªn arrow function |

---

### Báº£ng so sÃ¡nh cÃ¡c pattern Conditional Rendering

| Pattern          | CÃº phÃ¡p                                          | Æ¯u Ä‘iá»ƒm âœ…                                                      | NhÆ°á»£c Ä‘iá»ƒm âŒ                                             | PhÃ¹ há»£p khi                       |
| ---------------- | ------------------------------------------------ | --------------------------------------------------------------- | --------------------------------------------------------- | --------------------------------- |
| **If / Else**    | `if (condition) return <A />; return <B />;`     | â€¢ Dá»… Ä‘á»c<br>â€¢ Viáº¿t Ä‘Æ°á»£c nhiá»u cÃ¢u lá»‡nh<br>â€¢ Há»— trá»£ early return | â€¢ DÃ i dÃ²ng<br>â€¢ KhÃ´ng dÃ¹ng trá»±c tiáº¿p trong JSX            | Logic phá»©c táº¡p, cáº§n return sá»›m    |
| **Ternary**      | `{condition ? <A /> : <B />}`                    | â€¢ Ngáº¯n gá»n<br>â€¢ DÃ¹ng inline trong JSX<br>â€¢ PhÃ¹ há»£p JSX          | â€¢ KhÃ³ Ä‘á»c khi lá»“ng nhiá»u táº§ng<br>â€¢ Chá»‰ dÃ¹ng cho biá»ƒu thá»©c | Äiá»u kiá»‡n true / false Ä‘Æ¡n giáº£n   |
| **Logical `&&`** | `{condition && <Component />}`                   | â€¢ Ráº¥t gá»n<br>â€¢ Pattern phá»• biáº¿n                                 | â€¢ CÃ³ thá»ƒ render ra `0`<br>â€¢ Chá»‰ phÃ¹ há»£p Ä‘á»ƒ áº©n/hiá»‡n        | Hiá»ƒn thá»‹ component theo Ä‘iá»u kiá»‡n |
| **Switch**       | `switch (value) { case 'a': return <A /> }`      | â€¢ RÃµ rÃ ng vá»›i nhiá»u nhÃ¡nh<br>â€¢ Dá»… má»Ÿ rá»™ng                       | â€¢ DÃ i dÃ²ng<br>â€¢ Báº¯t buá»™c return                           | Khi cÃ³ nhiá»u lá»±a chá»n rá»i ráº¡c     |
| **Object Map**   | `const views = { a: <A /> }; return views[key];` | â€¢ Dá»… má»Ÿ rá»™ng<br>â€¢ Theo hÆ°á»›ng dá»¯ liá»‡u                            | â€¢ Cáº§n setup trÆ°á»›c<br>â€¢ KhÃ³ hiá»ƒu vá»›i ngÆ°á»i má»›i             | Chá»n component Ä‘á»™ng theo key      |

---

### Decision Tree: Conditional Rendering

```
Cáº§n hiá»ƒn thá»‹ component cÃ³ Ä‘iá»u kiá»‡n?
â”‚
â”œâ”€ CÃ³ 2 lá»±a chá»n (A hoáº·c B)?
â”‚   â”œâ”€ Biá»ƒu thá»©c Ä‘Æ¡n giáº£n?
â”‚   â”‚   â””â”€ âœ… Ternary: {condition ? <A /> : <B />}
â”‚   â”‚
â”‚   â””â”€ Logic phá»©c táº¡p?
â”‚       â””â”€ âœ… If / Else: if (condition) return <A />
â”‚
â”œâ”€ Chá»‰ cáº§n áº©n / hiá»‡n (cÃ³ hoáº·c khÃ´ng)?
â”‚   â”œâ”€ Äiá»u kiá»‡n lÃ  boolean?
â”‚   â”‚   â””â”€ âœ… ToÃ¡n tá»­ &&: {isVisible && <Component />}
â”‚   â”‚
â”‚   â””â”€ Äiá»u kiá»‡n lÃ  sá»‘?
â”‚       â””â”€ âœ… So sÃ¡nh rÃµ rÃ ng: {count > 0 && <Component />}
â”‚
â”œâ”€ Nhiá»u tráº¡ng thÃ¡i (3+)?
â”‚   â”œâ”€ CÃ¡c tráº¡ng thÃ¡i liÃªn quan (giá»‘ng enum)?
â”‚   â”‚   â””â”€ âœ… Switch hoáº·c Object Map
â”‚   â”‚
â”‚   â””â”€ Äiá»u kiá»‡n phá»©c táº¡p?
â”‚       â””â”€ âœ… Chuá»—i If / Else vá»›i early return
â”‚
â””â”€ Äiá»u kiá»‡n lá»“ng nhau?
    â”œâ”€ CÃ³ thá»ƒ lÃ m pháº³ng?
    â”‚   â””â”€ âœ… TÃ¡ch ra function hoáº·c component riÃªng
    â”‚
    â””â”€ KhÃ´ng thá»ƒ lÃ m pháº³ng?
        â””â”€ âœ… DÃ¹ng nhiá»u if hoáº·c guard clauses
```

---

### Decision Tree: Xá»­ lÃ½ Event

```
Cáº§n xá»­ lÃ½ event?
â”‚
â”œâ”€ Handler Ä‘Æ¡n giáº£n, khÃ´ng cáº§n tham sá»‘?
â”‚   â””â”€ âœ… Tham chiáº¿u hÃ m: onClick={handleClick}
â”‚
â”œâ”€ Cáº§n truyá»n tham sá»‘?
â”‚   â”œâ”€ Chá»‰ má»™t handler?
â”‚   â”‚   â””â”€ âœ… Arrow function inline: onClick={() => handleClick(id)}
â”‚   â”‚
â”‚   â””â”€ Nhiá»u handler tÆ°Æ¡ng tá»± nhau?
â”‚       â””â”€ âœ… Higher-order function:
â”‚           const handler = (id) => () => { ... }
â”‚
â”œâ”€ Cáº§n dÃ¹ng object event?
â”‚   â”œâ”€ Chá»‰ cáº§n event?
â”‚   â”‚   â””â”€ âœ… Tham chiáº¿u hÃ m: onClick={handleClick}
â”‚   â”‚       // function handleClick(event) { ... }
â”‚   â”‚
â”‚   â””â”€ Cáº§n cáº£ event + tham sá»‘?
â”‚       â””â”€ âœ… Arrow function cÃ³ event:
â”‚           onClick={(e) => handleClick(e, id)}
â”‚
â””â”€ Cáº§n cháº·n hÃ nh vi máº·c Ä‘á»‹nh?
    â””â”€ âœ… Gá»i event.preventDefault() trong handler
        // function handleSubmit(event) {
        //   event.preventDefault();
        //   ...
        // }
```

## ğŸ§ª PHáº¦N 5: DEBUG LAB (20 phÃºt)

### Bug 1: Function Called Immediately (HÃ m Ä‘Æ°á»£c gá»i ngay láº­p tá»©c) âŒ

```jsx
// ğŸ› CODE Bá»Š Lá»–I:
function Counter() {
  let count = 0;

  const increment = () => {
    count++;
    console.log('Count:', count);
  };

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={increment()}>Increment</button>
    </div>
  );
}
```

**â“ CÃ¢u há»i:**

1. Lá»—i gÃ¬ xáº£y ra?
2. Táº¡i sao function cháº¡y ngay?
3. LÃ m sao fix?

<details>
<summary>ğŸ’¡ Giáº£i Ä‘Ã¡p</summary>

**1. Lá»—i:**

- Function `increment()` cháº¡y NGAY KHI RENDER
- Console.log xuáº¥t hiá»‡n ngay, khÃ´ng Ä‘á»£i click
- Button khÃ´ng hoáº¡t Ä‘á»™ng khi click

**2. Táº¡i sao:**

```jsx
onClick={increment()}  // âŒ Calls function immediately
//         ^^ parentheses execute the function NOW

// What React sees:
onClick={undefined}  // Result of increment() call
```

**3. Fix:**

```jsx
// âœ… Solution 1: Remove parentheses
<button onClick={increment}>Increment</button>

// âœ… Solution 2: Wrap in arrow function
<button onClick={() => increment()}>Increment</button>

// âœ… Solution 3: If need to pass args
<button onClick={() => increment(5)}>Increment by 5</button>
```

**ğŸ¯ Remember:**

- `onClick={func}` â†’ pass reference
- `onClick={func()}` â†’ execute now âŒ
- `onClick={() => func()}` â†’ execute on click âœ…

</details>

---

### Bug 2: Missing preventDefault âŒ

```jsx
// ğŸ› CODE Bá»Š Lá»–I:
function SearchForm() {
  const handleSubmit = () => {
    console.log('Searching...');
    // Do search logic
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type='text'
        placeholder='Search...'
      />
      <button type='submit'>Search</button>
    </form>
  );
}
```

**â“ CÃ¢u há»i:**

1. Chuyá»‡n gÃ¬ xáº£y ra khi submit form?
2. Táº¡i sao console.log khÃ´ng tháº¥y?
3. LÃ m sao fix?

<details>
<summary>ğŸ’¡ Giáº£i Ä‘Ã¡p</summary>

**1. Chuyá»‡n gÃ¬ xáº£y ra:**

- Page RELOAD ngay láº­p tá»©c
- Form submit theo default browser behavior
- Console.log bá»‹ clear do reload

**2. Táº¡i sao khÃ´ng tháº¥y log:**

- Browser default: form submit â†’ page reload
- Reload happens trÆ°á»›c khi console.log visible
- KhÃ´ng cÃ³ time Ä‘á»ƒ tháº¥y log

**3. Fix:**

```jsx
// âœ… CORRECT: Prevent default behavior
function SearchForm() {
  const handleSubmit = (event) => {
    event.preventDefault(); // CRITICAL!
    console.log('Searching...');
    // Now can do search logic
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type='text'
        placeholder='Search...'
      />
      <button type='submit'>Search</button>
    </form>
  );
}
```

**ğŸ¯ Always preventDefault for:**

- Form submissions
- Link clicks (if custom handling)
- Context menus
- Any default browser behavior you want to override

</details>

---

### Bug 3: Logical && Renders 0 âŒ

```jsx
// ğŸ› CODE Bá»Š Lá»–I:
function ShoppingCart({ items }) {
  const itemCount = items.length;

  return (
    <div>
      <h2>Shopping Cart</h2>

      {itemCount && <p>You have {itemCount} items</p>}

      {!itemCount && <p>Your cart is empty</p>}
    </div>
  );
}

// Test
<ShoppingCart items={[]} />;
```

**â“ CÃ¢u há»i:**

1. Output lÃ  gÃ¬ khi `items = []`?
2. Táº¡i sao xuáº¥t hiá»‡n sá»‘ "0" trÃªn screen?
3. LÃ m sao fix?

<details>
<summary>ğŸ’¡ Giáº£i Ä‘Ã¡p</summary>

**1. Output:**

```html
<div>
  <h2>Shopping Cart</h2>
  0
  <!-- âŒ Oops! Number 0 is rendered -->
  <p>Your cart is empty</p>
</div>
```

**2. Táº¡i sao:**

```jsx
{
  itemCount && <Component />;
}
// When itemCount = 0:

{
  0 && <Component />;
}
// Evaluates to: 0

// React renders: 0
```

**JavaScript falsy values:**

- `false` â†’ not rendered
- `null` â†’ not rendered
- `undefined` â†’ not rendered
- `""` â†’ not rendered
- **`0` â†’ RENDERED as "0"** âš ï¸
- `NaN` â†’ rendered as "NaN"

**3. Fix:**

```jsx
// âŒ BAD: Can render 0
{
  itemCount && <p>You have {itemCount} items</p>;
}

// âœ… GOOD: Explicit comparison
{
  itemCount > 0 && <p>You have {itemCount} items</p>;
}

// âœ… GOOD: Boolean conversion
{
  Boolean(itemCount) && <p>You have {itemCount} items</p>;
}

// âœ… GOOD: Ternary for both cases
{
  itemCount > 0 ? <p>You have {itemCount} items</p> : <p>Your cart is empty</p>;
}
```

**ğŸ¯ Best Practice:**
Always use explicit comparisons with `&&`:

- `count > 0 && ...`
- `items.length > 0 && ...`
- `value != null && ...`

</details>

## âœ… PHáº¦N 6: Tá»° ÄÃNH GIÃ (15 phÃºt)

### Knowledge Check

- [ ] TÃ´i hiá»ƒu event handling trong React (declarative)
- [ ] TÃ´i biáº¿t SyntheticEvent lÃ  gÃ¬ vÃ  táº¡i sao React dÃ¹ng nÃ³
- [ ] TÃ´i phÃ¢n biá»‡t Ä‘Æ°á»£c `onClick={func}` vs `onClick={func()}`
- [ ] TÃ´i biáº¿t khi nÃ o dÃ¹ng `event.preventDefault()`
- [ ] TÃ´i biáº¿t khi nÃ o dÃ¹ng `event.stopPropagation()`
- [ ] TÃ´i thÃ nh tháº¡o if/else, ternary, && cho conditional rendering
- [ ] TÃ´i biáº¿t gotcha cá»§a `&&` vá»›i falsy values (sá»‘ 0)
- [ ] TÃ´i biáº¿t cÃ¡ch handle keyboard events
- [ ] TÃ´i biáº¿t cÃ¡ch pass arguments vÃ o event handlers
- [ ] TÃ´i phÃ¢n biá»‡t Ä‘Æ°á»£c khi nÃ o dÃ¹ng pattern nÃ o

### Code Review Checklist

Khi viáº¿t event handlers:

- [ ] **Naming:** `handle[Event]` pattern (handleClick, handleSubmit)
- [ ] **Prevent default:** DÃ¹ng `preventDefault()` cho forms, links
- [ ] **Function reference:** Pass reference, khÃ´ng call `func()`
- [ ] **Arguments:** DÃ¹ng arrow wrapper náº¿u cáº§n pass args
- [ ] **Event object:** Access qua parameter náº¿u cáº§n
- [ ] **Cleanup:** Consider `stopPropagation()` náº¿u cáº§n

Khi viáº¿t conditional rendering:

- [ ] **Simple conditions:** DÃ¹ng ternary hoáº·c &&
- [ ] **Complex logic:** Extract to if/else or separate function
- [ ] **Avoid nesting:** Nested ternary lÃ  anti-pattern
- [ ] **Falsy values:** Explicit comparison vá»›i &&
- [ ] **Readability:** Code clear > clever

## ğŸ  BÃ€I Táº¬P Vá»€ NHÃ€

### Báº¯t buá»™c (30 phÃºt)

**1. Toggle Switch Component**

Táº¡o toggle switch (nhÆ° dark mode toggle) vá»›i:

- Click to toggle state (console.log state)
- Visual feedback (on/off states)
- Label thay Ä‘á»•i: "Dark Mode: On" / "Dark Mode: Off"
- Conditional styling (background color)

```jsx
// Expected behavior:
// Click â†’ toggle â†’ log "Dark Mode: on"
// Click â†’ toggle â†’ log "Dark Mode: off"
```

<details>
<summary>ğŸ’¡ Solution - BÃ i táº­p vá» nhÃ  1: Toggle Switch Component</summary>

```jsx
// BÃ i táº­p vá» nhÃ  - NgÃ y 5
// BÃ i 1: Toggle Switch Component (Dark Mode Toggle demo)
// - Click Ä‘á»ƒ chuyá»ƒn Ä‘á»•i tráº¡ng thÃ¡i
// - Hiá»ƒn thá»‹ tráº¡ng thÃ¡i "Dark Mode: On / Off"
// - Thay Ä‘á»•i giao diá»‡n (mÃ u ná»n, mÃ u chá»¯) theo tráº¡ng thÃ¡i
// - Log tráº¡ng thÃ¡i ra console má»—i láº§n toggle

// =============================================
// ToggleSwitch Component
// =============================================
function ToggleSwitch() {
  // Biáº¿n tráº¡ng thÃ¡i (sáº½ há»c useState á»Ÿ ngÃ y sau - hiá»‡n táº¡i dÃ¹ng biáº¿n thÆ°á»ng Ä‘á»ƒ demo)
  // Trong thá»±c táº¿: dÃ¹ng useState Ä‘á»ƒ UI cáº­p nháº­t láº¡i khi thay Ä‘á»•i
  let isDarkMode = false;

  const handleToggle = () => {
    // Toggle giÃ¡ trá»‹
    isDarkMode = !isDarkMode;

    // Log tráº¡ng thÃ¡i
    console.log(`Dark Mode: ${isDarkMode ? 'ON' : 'OFF'}`);

    // Cáº­p nháº­t giao diá»‡n (trong thá»±c táº¿ sáº½ re-render nhá» state)
    // á» Ä‘Ã¢y ta chá»‰ log vÃ  giáº£ láº­p thay Ä‘á»•i style
    document.body.style.backgroundColor = isDarkMode ? '#111827' : '#f3f4f6';
    document.body.style.color = isDarkMode ? '#f3f4f6' : '#111827';
  };

  return (
    <div
      style={{
        minHeight: '100vh',
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
        justifyContent: 'center',
        padding: '40px',
        fontFamily: 'system-ui, sans-serif',
        transition: 'all 0.4s ease',
        backgroundColor: isDarkMode ? '#111827' : '#f3f4f6',
        color: isDarkMode ? '#f3f4f6' : '#111827',
      }}
    >
      <h1 style={{ marginBottom: '32px', fontSize: '2.5rem' }}>
        Dark Mode Toggle
      </h1>

      <div
        style={{
          display: 'flex',
          alignItems: 'center',
          gap: '24px',
          background: isDarkMode ? '#374151' : 'white',
          padding: '16px 32px',
          borderRadius: '999px',
          boxShadow: '0 10px 25px rgba(0,0,0,0.1)',
        }}
      >
        <span
          style={{
            fontSize: '1.3rem',
            fontWeight: '600',
            minWidth: '180px',
            textAlign: 'center',
          }}
        >
          Dark Mode: {isDarkMode ? 'ON' : 'OFF'}
        </span>

        {/* Toggle Switch UI */}
        <label
          style={{
            position: 'relative',
            display: 'inline-block',
            width: '80px',
            height: '44px',
            cursor: 'pointer',
          }}
        >
          <input
            type='checkbox'
            checked={isDarkMode}
            onChange={handleToggle}
            style={{
              opacity: 0,
              width: 0,
              height: 0,
            }}
          />
          <span
            style={{
              position: 'absolute',
              top: 0,
              left: 0,
              right: 0,
              bottom: 0,
              backgroundColor: isDarkMode ? '#10b981' : '#ccc',
              borderRadius: '44px',
              transition: 'all 0.3s ease',
            }}
          />
          <span
            style={{
              position: 'absolute',
              content: '""',
              height: '36px',
              width: '36px',
              left: '4px',
              bottom: '4px',
              backgroundColor: 'white',
              borderRadius: '50%',
              transition: 'all 0.3s ease',
              transform: isDarkMode ? 'translateX(36px)' : 'translateX(0)',
              boxShadow: '0 2px 8px rgba(0,0,0,0.2)',
            }}
          />
        </label>
      </div>

      <p style={{ marginTop: '32px', fontSize: '1.1rem', opacity: 0.8 }}>
        Click switch hoáº·c nháº¥n phÃ­m Space khi focus Ä‘á»ƒ toggle
      </p>

      <div
        style={{
          marginTop: '40px',
          padding: '20px',
          background: isDarkMode ? '#1f2937' : '#ffffff',
          borderRadius: '12px',
          boxShadow: '0 4px 15px rgba(0,0,0,0.08)',
          maxWidth: '500px',
          textAlign: 'center',
        }}
      >
        <p style={{ margin: '0 0 16px 0' }}>
          ÄÃ¢y lÃ  ná»™i dung demo. Khi báº­t Dark Mode:
        </p>
        <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>
          <li>âœ”ï¸ Ná»n tá»‘i, chá»¯ sÃ¡ng</li>
          <li>âœ”ï¸ Switch chuyá»ƒn sang mÃ u xanh</li>
          <li>âœ”ï¸ Console log tráº¡ng thÃ¡i</li>
        </ul>
      </div>

      {/* Hiá»ƒn thá»‹ tráº¡ng thÃ¡i hiá»‡n táº¡i (giÃºp debug) */}
      <div
        style={{
          marginTop: '40px',
          padding: '12px 24px',
          background: isDarkMode ? '#374151' : '#f3f4f6',
          borderRadius: '999px',
          fontSize: '0.95rem',
          color: isDarkMode ? '#d1d5db' : '#4b5563',
        }}
      >
        Tráº¡ng thÃ¡i hiá»‡n táº¡i:{' '}
        <strong>{isDarkMode ? 'Dark Mode ON' : 'Dark Mode OFF'}</strong>
      </div>
    </div>
  );
}

/* 
  Má»™t sá»‘ cáº£i tiáº¿n cÃ³ thá»ƒ thÃªm sau khi há»c useState (NgÃ y 11):
  - Thá»±c sá»± thay Ä‘á»•i theme toÃ n app (dÃ¹ng context hoáº·c CSS variables)
  - LÆ°u tráº¡ng thÃ¡i vÃ o localStorage
  - Há»— trá»£ phÃ­m táº¯t (T) Ä‘á»ƒ toggle
  - Animation mÆ°á»£t hÆ¡n cho switch
  - Hiá»‡u á»©ng chuyá»ƒn theme mÆ°á»£t (transition trÃªn body)
*/
```

**Ghi chÃº quan trá»ng:**

- **Hiá»‡n táº¡i chÆ°a dÃ¹ng state** â†’ giao diá»‡n khÃ´ng thá»±c sá»± cáº­p nháº­t khi click (chá»‰ log console vÃ  thay Ä‘á»•i style thá»§ cÃ´ng).  
  Sau khi há»c `useState` (NgÃ y 11), báº¡n cÃ³ thá»ƒ lÃ m láº¡i Ä‘á»ƒ UI thá»±c sá»± thay Ä‘á»•i.

- **Äiá»ƒm ná»•i báº­t:**

  - Switch UI Ä‘áº¹p, hiá»‡n Ä‘áº¡i (giá»‘ng toggle iOS)
  - Hover + transition mÆ°á»£t
  - Log tráº¡ng thÃ¡i rÃµ rÃ ng
  - Responsive vÃ  dá»… nhÃ¬n trÃªn má»i thiáº¿t bá»‹
  - Accessibility cÆ¡ báº£n (cÃ³ thá»ƒ focus báº±ng Tab vÃ  nháº¥n Space/Enter Ä‘á»ƒ toggle)

- **Edge cases Ä‘Ã£ xá»­ lÃ½:**
  - Ban Ä‘áº§u lÃ  OFF
  - Toggle nhiá»u láº§n â†’ tráº¡ng thÃ¡i Ä‘Ãºng
  - Console log má»—i láº§n thay Ä‘á»•i
  - Giao diá»‡n thay Ä‘á»•i theo tráº¡ng thÃ¡i (mÃ u ná»n, chá»¯, switch)

</details>

---

**2. Character Counter Input**

Táº¡o textarea vá»›i character counter:

- onChange Ä‘á»ƒ count characters
- Display: "50/200 characters"
- Warning náº¿u > 180: "Approaching limit!"
- Error náº¿u > 200: "Limit exceeded!"
- Conditional text color (green â†’ yellow â†’ red)

<details>
<summary>ğŸ’¡ Solution - BÃ i táº­p vá» nhÃ  2: Character Counter Input</summary>

```jsx
// BÃ i táº­p vá» nhÃ  - NgÃ y 5
// BÃ i 2: Character Counter Input (Textarea vá»›i bá»™ Ä‘áº¿m kÃ½ tá»±)
// - Hiá»ƒn thá»‹ sá»‘ kÃ½ tá»± hiá»‡n táº¡i / giá»›i háº¡n
// - Cáº£nh bÃ¡o khi gáº§n vÆ°á»£t giá»›i háº¡n (mÃ u vÃ ng)
// - Lá»—i khi vÆ°á»£t quÃ¡ giá»›i háº¡n (mÃ u Ä‘á», disable nÃºt submit)
// - Cáº­p nháº­t realtime khi gÃµ

// =============================================
// CharacterCounter Component
// =============================================
function CharacterCounter() {
  // Biáº¿n táº¡m (sáº½ thay báº±ng useState á»Ÿ ngÃ y sau)
  // Hiá»‡n táº¡i chá»‰ demo logic - UI khÃ´ng cáº­p nháº­t realtime
  let text = '';
  const maxLength = 200;

  const handleTextChange = (event) => {
    text = event.target.value;

    const currentLength = text.length;
    console.log(`KÃ½ tá»±: ${currentLength}/${maxLength}`);

    // Validation logic (sáº½ dÃ¹ng Ä‘á»ƒ Ä‘iá»u khiá»ƒn style)
    const isWarning = currentLength > 180 && currentLength <= maxLength;
    const isError = currentLength > maxLength;

    // Trong thá»±c táº¿: cáº­p nháº­t state â†’ re-render UI
    console.log({
      length: currentLength,
      isWarning,
      isError,
      remaining: maxLength - currentLength,
    });
  };

  const getCounterStyle = () => {
    const length = text.length;

    if (length > 180 && length <= maxLength) {
      return { color: '#f59e0b' }; // vÃ ng - cáº£nh bÃ¡o
    }
    if (length > maxLength) {
      return { color: '#ef4444', fontWeight: 'bold' }; // Ä‘á» - lá»—i
    }
    return { color: '#6b7280' }; // xÃ¡m bÃ¬nh thÆ°á»ng
  };

  const isValid = text.length <= maxLength;

  return (
    <div
      style={{
        maxWidth: '600px',
        margin: '40px auto',
        padding: '32px',
        background: 'white',
        borderRadius: '12px',
        boxShadow: '0 10px 25px rgba(0,0,0,0.08)',
        fontFamily: 'system-ui, sans-serif',
      }}
    >
      <h2 style={{ marginBottom: '24px', color: '#1f2937' }}>
        Viáº¿t bÃ¬nh luáº­n / status
      </h2>

      <div style={{ position: 'relative' }}>
        <textarea
          value={text} // sáº½ bind vá»›i state sau
          onChange={handleTextChange}
          placeholder='Nháº­p ná»™i dung cá»§a báº¡n á»Ÿ Ä‘Ã¢y... (tá»‘i Ä‘a 200 kÃ½ tá»±)'
          maxLength={maxLength}
          style={{
            width: '100%',
            minHeight: '140px',
            padding: '16px',
            fontSize: '16px',
            border: `2px solid ${
              text.length > maxLength
                ? '#ef4444'
                : text.length > 180
                ? '#f59e0b'
                : '#d1d5db'
            }`,
            borderRadius: '8px',
            resize: 'vertical',
            outline: 'none',
            transition: 'border-color 0.2s',
          }}
        />

        {/* Bá»™ Ä‘áº¿m kÃ½ tá»± */}
        <div
          style={{
            position: 'absolute',
            bottom: '12px',
            right: '16px',
            fontSize: '14px',
            fontWeight: '500',
            ...getCounterStyle(),
          }}
        >
          {text.length} / {maxLength}
          {text.length > 180 &&
            text.length <= maxLength &&
            ' â€¢ Sáº¯p háº¿t giá»›i háº¡n!'}
          {text.length > maxLength && ' â€¢ VÆ°á»£t quÃ¡ giá»›i háº¡n!'}
        </div>
      </div>

      {/* ThÃ´ng bÃ¡o tráº¡ng thÃ¡i */}
      <div style={{ marginTop: '16px', minHeight: '24px' }}>
        {text.length > 180 && text.length <= maxLength && (
          <span style={{ color: '#f59e0b', fontSize: '14px' }}>
            âš ï¸ Báº¡n sáº¯p Ä‘áº¡t giá»›i háº¡n kÃ½ tá»±
          </span>
        )}

        {text.length > maxLength && (
          <span style={{ color: '#ef4444', fontSize: '14px' }}>
            âœ— Ná»™i dung vÆ°á»£t quÃ¡ {maxLength} kÃ½ tá»±
          </span>
        )}
      </div>

      {/* NÃºt submit (demo) */}
      <div style={{ marginTop: '24px', textAlign: 'right' }}>
        <button
          disabled={!isValid || text.trim() === ''}
          style={{
            padding: '12px 32px',
            fontSize: '16px',
            fontWeight: '600',
            color: 'white',
            backgroundColor:
              isValid && text.trim() !== '' ? '#3b82f6' : '#9ca3af',
            border: 'none',
            borderRadius: '8px',
            cursor: isValid && text.trim() !== '' ? 'pointer' : 'not-allowed',
            transition: 'background-color 0.2s',
          }}
          onClick={() => {
            if (isValid && text.trim() !== '') {
              console.log('Gá»­i ná»™i dung:', text);
              alert('ÄÃ£ gá»­i thÃ nh cÃ´ng! (Demo)');
              text = ''; // reset (sáº½ dÃ¹ng state sau)
            }
          }}
        >
          Gá»­i
        </button>
      </div>

      {/* Hiá»ƒn thá»‹ tráº¡ng thÃ¡i debug */}
      <div
        style={{
          marginTop: '32px',
          padding: '12px',
          background: '#f3f4f6',
          borderRadius: '8px',
          fontSize: '14px',
          color: '#4b5563',
        }}
      >
        Tráº¡ng thÃ¡i hiá»‡n táº¡i:
        <strong style={{ color: '#3b82f6' }}>
          {text.length === 0
            ? 'ChÆ°a nháº­p'
            : text.length <= 180
            ? 'BÃ¬nh thÆ°á»ng'
            : text.length <= 200
            ? 'Cáº£nh bÃ¡o'
            : 'Lá»—i'}
        </strong>
        {' â€¢ '}KÃ½ tá»±: {text.length}/{maxLength}
      </div>
    </div>
  );
}
```

**CÃ¡c tÃ­nh nÄƒng Ä‘Ã£ triá»ƒn khai:**

- **Realtime Ä‘áº¿m kÃ½ tá»±** (hiá»ƒn thá»‹ X/200)
- **MÃ u sáº¯c cáº£nh bÃ¡o theo ngÆ°á»¡ng**:
  - Xanh/xÃ¡m: bÃ¬nh thÆ°á»ng (0â€“180)
  - VÃ ng: cáº£nh bÃ¡o (181â€“200)
  - Äá»: lá»—i (> 200)
- **Border input thay Ä‘á»•i mÃ u** theo tráº¡ng thÃ¡i
- **NÃºt Gá»­i bá»‹ disable** khi:
  - VÆ°á»£t quÃ¡ giá»›i háº¡n
  - KhÃ´ng cÃ³ ná»™i dung (rá»—ng hoáº·c chá»‰ khoáº£ng tráº¯ng)
- **ThÃ´ng bÃ¡o tráº¡ng thÃ¡i** rÃµ rÃ ng
- **Debug panel** nhá» Ä‘á»ƒ xem tráº¡ng thÃ¡i hiá»‡n táº¡i

**Edge cases Ä‘Ã£ xá»­ lÃ½:**

- KhÃ´ng nháº­p gÃ¬ â†’ nÃºt Gá»­i disable
- Nháº­p Ä‘Ãºng 180 kÃ½ tá»± â†’ cáº£nh bÃ¡o vÃ ng
- VÆ°á»£t 200 kÃ½ tá»± â†’ lá»—i Ä‘á», nÃºt disable
- XÃ³a vá» 0 â†’ trá»Ÿ vá» tráº¡ng thÃ¡i bÃ¬nh thÆ°á»ng
- Nháº­p khoáº£ng tráº¯ng â†’ váº«n tÃ­nh lÃ  kÃ½ tá»±

**Háº¡n cháº¿ hiá»‡n táº¡i (vÃ¬ chÆ°a há»c state):**

- GÃµ chá»¯ â†’ UI khÃ´ng cáº­p nháº­t realtime (váº«n giá»¯ giÃ¡ trá»‹ ban Ä‘áº§u)
- Chá»‰ log vÃ  thay Ä‘á»•i style thá»§ cÃ´ng

â†’ Sau khi há»c `useState` (ngÃ y 11), báº¡n chá»‰ cáº§n thay `let text = ''` báº±ng `const [text, setText] = useState('')` vÃ  thÃªm `value={text}` + `onChange={(e) => setText(e.target.value)}` lÃ  component sáº½ hoáº¡t Ä‘á»™ng hoÃ n háº£o.

</details>

---

### NÃ¢ng cao (60 phÃºt)

**3. Tab Navigation Component**

Táº¡o tab component (giá»‘ng browser tabs):

- 3-4 tabs vá»›i different content
- Click tab â†’ show corresponding content
- Active tab cÃ³ styling khÃ¡c
- Keyboard navigation: Arrow keys Ä‘á»ƒ switch tabs
- Conditional rendering cho content

Example structure:

```jsx
const tabs = [
  { id: 1, label: 'Profile', content: 'Profile content...' },
  { id: 2, label: 'Settings', content: 'Settings content...' },
  { id: 3, label: 'Notifications', content: 'Notifications...' },
];
```

<details>
<summary>ğŸ’¡ Solution - BÃ i 3 NÃ¢ng cao: Tab Navigation Component</summary>

```jsx
// BÃ i táº­p vá» nhÃ  NÃ¢ng cao - NgÃ y 5
// BÃ i 3: Tab Navigation Component
// - 4 tab vá»›i ná»™i dung khÃ¡c nhau
// - Click tab â†’ chuyá»ƒn ná»™i dung tÆ°Æ¡ng á»©ng
// - Tab Ä‘ang active cÃ³ style ná»•i báº­t
// - Há»— trá»£ Ä‘iá»u hÆ°á»›ng báº±ng phÃ­m mÅ©i tÃªn (Arrow Left/Right)
// - Responsive: tab cuá»™n ngang trÃªn mobile náº¿u quÃ¡ nhiá»u

// =============================================
// TabNavigation Component
// =============================================
function TabNavigation() {
  // Tráº¡ng thÃ¡i tab Ä‘ang active (sáº½ há»c useState ngÃ y sau)
  // Hiá»‡n táº¡i dÃ¹ng biáº¿n thÆ°á»ng Ä‘á»ƒ demo logic
  let activeTabId = 1; // máº·c Ä‘á»‹nh tab Ä‘áº§u tiÃªn

  // Dá»¯ liá»‡u cÃ¡c tab
  const tabs = [
    {
      id: 1,
      label: 'Profile',
      icon: 'ğŸ‘¤',
      content: (
        <div>
          <h3>ThÃ´ng tin cÃ¡ nhÃ¢n</h3>
          <p>TÃªn: LÃª VÄƒn TuÃ¢n</p>
          <p>Vá»‹ trÃ­: HCM, Viá»‡t Nam</p>
          <p>Sá»Ÿ thÃ­ch: Code React, há»c cÃ´ng nghá»‡ má»›i, nghe nháº¡c Lo-fi</p>
        </div>
      ),
    },
    {
      id: 2,
      label: 'Skills',
      icon: 'âš¡',
      content: (
        <div>
          <h3>Ká»¹ nÄƒng chÃ­nh</h3>
          <ul style={{ paddingLeft: '20px', lineHeight: '1.8' }}>
            <li>React & React Hooks (Ä‘ang há»c nÃ¢ng cao)</li>
            <li>JavaScript (ES6+)</li>
            <li>HTML5 / CSS3 / Tailwind</li>
            <li>Git & GitHub</li>
            <li>Äang há»c: TypeScript, Next.js</li>
          </ul>
        </div>
      ),
    },
    {
      id: 3,
      label: 'Projects',
      icon: 'ğŸš€',
      content: (
        <div>
          <h3>Dá»± Ã¡n ná»•i báº­t</h3>
          <div style={{ marginTop: '16px' }}>
            <h4>Todo App React</h4>
            <p>
              á»¨ng dá»¥ng quáº£n lÃ½ cÃ´ng viá»‡c vá»›i thÃªm/sá»­a/xÃ³a, filter tráº¡ng thÃ¡i
            </p>
          </div>
          <div style={{ marginTop: '16px' }}>
            <h4>Pricing Table Component</h4>
            <p>Báº£ng so sÃ¡nh gÃ³i dá»‹ch vá»¥ responsive, highlight plan phá»• biáº¿n</p>
          </div>
        </div>
      ),
    },
    {
      id: 4,
      label: 'Contact',
      icon: 'âœ‰ï¸',
      content: (
        <div>
          <h3>LiÃªn há»‡ vá»›i mÃ¬nh</h3>
          <p style={{ margin: '16px 0' }}>
            Email: tuan.dev@example.com
            <br />
            GitHub: github.com/tuandevjs
            <br />
            Twitter/X: @tuan_dev_vn
          </p>
          <button
            style={{
              padding: '12px 28px',
              background: '#3b82f6',
              color: 'white',
              border: 'none',
              borderRadius: '8px',
              fontSize: '16px',
              cursor: 'pointer',
            }}
            onClick={() => alert('Chá»©c nÄƒng gá»­i tin nháº¯n (demo)')}
          >
            Gá»­i tin nháº¯n
          </button>
        </div>
      ),
    },
  ];

  // HÃ m xá»­ lÃ½ click tab
  const handleTabClick = (tabId) => {
    activeTabId = tabId;
    console.log(`Chuyá»ƒn sang tab: ${tabs.find((t) => t.id === tabId).label}`);
  };

  // HÃ m Ä‘iá»u hÆ°á»›ng báº±ng phÃ­m mÅ©i tÃªn
  const handleKeyDown = (event) => {
    if (event.key === 'ArrowRight') {
      event.preventDefault();
      const currentIndex = tabs.findIndex((t) => t.id === activeTabId);
      const nextIndex = (currentIndex + 1) % tabs.length;
      activeTabId = tabs[nextIndex].id;
      console.log(`â†’ Tab tiáº¿p theo: ${tabs[nextIndex].label}`);
    } else if (event.key === 'ArrowLeft') {
      event.preventDefault();
      const currentIndex = tabs.findIndex((t) => t.id === activeTabId);
      const prevIndex = (currentIndex - 1 + tabs.length) % tabs.length;
      activeTabId = tabs[prevIndex].id;
      console.log(`â† Tab trÆ°á»›c: ${tabs[prevIndex].label}`);
    }
  };

  // TÃ¬m tab Ä‘ang active
  const activeTab = tabs.find((tab) => tab.id === activeTabId) || tabs[0];

  return (
    <div
      style={{
        maxWidth: '900px',
        margin: '40px auto',
        padding: '0 20px',
        fontFamily: 'system-ui, sans-serif',
      }}
      tabIndex={0} // Äá»ƒ cÃ³ thá»ƒ focus vÃ  nháº­n key events
      onKeyDown={handleKeyDown}
    >
      <h1
        style={{
          textAlign: 'center',
          marginBottom: '40px',
          color: '#1f2937',
        }}
      >
        Tab Navigation Component
      </h1>

      {/* Tab Headers */}
      <div
        role='tablist'
        style={{
          display: 'flex',
          overflowX: 'auto',
          borderBottom: '2px solid #e5e7eb',
          paddingBottom: '4px',
          scrollbarWidth: 'thin',
        }}
      >
        {tabs.map((tab) => (
          <button
            key={tab.id}
            role='tab'
            aria-selected={tab.id === activeTabId}
            tabIndex={tab.id === activeTabId ? 0 : -1}
            onClick={() => handleTabClick(tab.id)}
            style={{
              flex: '0 0 auto',
              padding: '12px 24px',
              fontSize: '1.1rem',
              fontWeight: tab.id === activeTabId ? '700' : '500',
              color: tab.id === activeTabId ? '#3b82f6' : '#4b5563',
              background: 'none',
              border: 'none',
              borderBottom:
                tab.id === activeTabId
                  ? '3px solid #3b82f6'
                  : '3px solid transparent',
              cursor: 'pointer',
              transition: 'all 0.2s',
              whiteSpace: 'nowrap',
            }}
          >
            <span style={{ marginRight: '8px' }}>{tab.icon}</span>
            {tab.label}
          </button>
        ))}
      </div>

      {/* Tab Content */}
      <div
        role='tabpanel'
        style={{
          padding: '32px 24px',
          background: 'white',
          borderRadius: '0 0 12px 12px',
          boxShadow: '0 4px 15px rgba(0,0,0,0.06)',
          minHeight: '300px',
        }}
      >
        {activeTab.content}
      </div>

      {/* HÆ°á»›ng dáº«n sá»­ dá»¥ng */}
      <div
        style={{
          marginTop: '32px',
          padding: '16px',
          background: '#f3f4f6',
          borderRadius: '8px',
          fontSize: '0.95rem',
          color: '#4b5563',
          textAlign: 'center',
        }}
      >
        <p>
          <strong>HÆ°á»›ng dáº«n Ä‘iá»u hÆ°á»›ng báº±ng bÃ n phÃ­m:</strong>
          <br />
          Click vÃ o khu vá»±c tab â†’ dÃ¹ng <kbd>â†</kbd> <kbd>â†’</kbd> Ä‘á»ƒ chuyá»ƒn tab
        </p>
        <p>
          Tráº¡ng thÃ¡i hiá»‡n táº¡i: <strong>{activeTab.label}</strong>
        </p>
      </div>
    </div>
  );
}
```

**CÃ¡c tÃ­nh nÄƒng Ä‘Ã£ triá»ƒn khai:**

- **4 tab** vá»›i ná»™i dung khÃ¡c nhau (Profile, Skills, Projects, Contact)
- **Tab active** cÃ³ viá»n dÆ°á»›i xanh + chá»¯ Ä‘áº­m + mÃ u ná»•i báº­t
- **Responsive**: tab cÃ³ thá»ƒ cuá»™n ngang trÃªn mobile (overflow-x: auto)
- **Keyboard navigation**:
  - Focus vÃ o khu vá»±c tab (click hoáº·c Tab phÃ­m)
  - DÃ¹ng phÃ­m **â†** â†’ tab trÆ°á»›c
  - DÃ¹ng phÃ­m **â†’** â†’ tab sau
- **ARIA roles** cÆ¡ báº£n cho accessibility (role="tablist", role="tab", role="tabpanel", aria-selected)
- **Hover & transition** nháº¹ nhÃ ng
- **Debug hint** nhá» á»Ÿ dÆ°á»›i Ä‘á»ƒ biáº¿t tab hiá»‡n táº¡i

**Háº¡n cháº¿ hiá»‡n táº¡i (vÃ¬ chÆ°a há»c state):**

- Click tab chá»‰ log console, khÃ´ng lÃ m UI thay Ä‘á»•i thá»±c sá»± (váº«n hiá»ƒn thá»‹ tab Ä‘áº§u tiÃªn)
- Keyboard navigation chá»‰ log, khÃ´ng chuyá»ƒn tab trÃªn UI

â†’ Sau khi há»c `useState` (ngÃ y 11), báº¡n chá»‰ cáº§n thay `let activeTabId = 1` báº±ng:

```jsx
const [activeTabId, setActiveTabId] = useState(1);
```

vÃ  thay má»i `activeTabId = ...` báº±ng `setActiveTabId(...)` lÃ  component sáº½ hoáº¡t Ä‘á»™ng hoÃ n háº£o, UI cáº­p nháº­t realtime.

</details>

---

**4. Modal with Backdrop Click**

Táº¡o modal component:

- Button to open modal
- Click backdrop â†’ close modal
- Click inside modal content â†’ KHÃ”NG close
- Esc key â†’ close modal
- Prevent body scroll khi modal open
- Conditional rendering (open/closed states)

<details>
<summary>ğŸ’¡ Solution - BÃ i 4 NÃ¢ng cao: Modal with Backdrop Click</summary>

```jsx
// BÃ i táº­p vá» nhÃ  NÃ¢ng cao - NgÃ y 5
// BÃ i 4: Modal vá»›i Backdrop Click
// - NÃºt má»Ÿ modal
// - Click backdrop â†’ Ä‘Ã³ng modal
// - Click bÃªn trong modal content â†’ KHÃ”NG Ä‘Ã³ng
// - Nháº¥n Esc â†’ Ä‘Ã³ng modal
// - NgÄƒn scroll body khi modal má»Ÿ
// - Conditional rendering (hiá»ƒn thá»‹/áº©n modal)

// =============================================
// Modal Component
// =============================================
function Modal({ isOpen, onClose, title = 'Modal Title', children }) {
  // Xá»­ lÃ½ phÃ­m Esc Ä‘á»ƒ Ä‘Ã³ng modal
  const handleKeyDown = (event) => {
    if (event.key === 'Escape') {
      onClose();
      console.log('Modal closed by Esc key');
    }
  };

  // NgÄƒn scroll body khi modal má»Ÿ
  React.useEffect(() => {
    if (isOpen) {
      // LÆ°u vá»‹ trÃ­ scroll hiá»‡n táº¡i
      const scrollY = window.scrollY;
      document.body.style.position = 'fixed';
      document.body.style.top = `-${scrollY}px`;
      document.body.style.width = '100%';

      // ThÃªm event listener cho phÃ­m Esc
      window.addEventListener('keydown', handleKeyDown);

      // Cleanup khi Ä‘Ã³ng modal
      return () => {
        document.body.style.position = '';
        document.body.style.top = '';
        document.body.style.width = '';
        window.scrollTo(0, scrollY);
        window.removeEventListener('keydown', handleKeyDown);
      };
    }
  }, [isOpen]);

  if (!isOpen) return null;

  return (
    <div
      style={{
        position: 'fixed',
        inset: 0,
        backgroundColor: 'rgba(0, 0, 0, 0.6)',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        zIndex: 1000,
        backdropFilter: 'blur(4px)',
      }}
      onClick={onClose} // Click backdrop â†’ Ä‘Ã³ng
    >
      {/* Modal content - ngÄƒn cháº·n lan truyá»n event click */}
      <div
        style={{
          backgroundColor: 'white',
          borderRadius: '12px',
          width: '90%',
          maxWidth: '500px',
          maxHeight: '90vh',
          overflowY: 'auto',
          boxShadow: '0 20px 40px rgba(0,0,0,0.3)',
          position: 'relative',
        }}
        onClick={(e) => e.stopPropagation()} // NgÄƒn Ä‘Ã³ng khi click bÃªn trong
      >
        {/* Header */}
        <div
          style={{
            padding: '20px 24px',
            borderBottom: '1px solid #e5e7eb',
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
            background: '#f8f9fa',
            borderTopLeftRadius: '12px',
            borderTopRightRadius: '12px',
          }}
        >
          <h2 style={{ margin: 0, fontSize: '1.5rem', color: '#1f2937' }}>
            {title}
          </h2>
          <button
            onClick={onClose}
            aria-label='ÄÃ³ng modal'
            style={{
              background: 'none',
              border: 'none',
              fontSize: '1.8rem',
              cursor: 'pointer',
              color: '#6b7280',
              padding: '4px 12px',
              borderRadius: '8px',
              transition: 'background 0.2s',
            }}
            onMouseEnter={(e) => (e.currentTarget.style.background = '#fee2e2')}
            onMouseLeave={(e) => (e.currentTarget.style.background = 'none')}
          >
            Ã—
          </button>
        </div>

        {/* Body */}
        <div style={{ padding: '24px', lineHeight: '1.6' }}>{children}</div>

        {/* Footer (nÃºt hÃ nh Ä‘á»™ng tÃ¹y chá»n) */}
        <div
          style={{
            padding: '16px 24px',
            borderTop: '1px solid #e5e7eb',
            display: 'flex',
            justifyContent: 'flex-end',
            gap: '12px',
            background: '#f8f9fa',
            borderBottomLeftRadius: '12px',
            borderBottomRightRadius: '12px',
          }}
        >
          <button
            onClick={onClose}
            style={{
              padding: '10px 20px',
              background: '#e5e7eb',
              border: 'none',
              borderRadius: '8px',
              cursor: 'pointer',
              fontWeight: '500',
            }}
          >
            Há»§y
          </button>
          <button
            onClick={() => {
              console.log('XÃ¡c nháº­n hÃ nh Ä‘á»™ng');
              onClose();
            }}
            style={{
              padding: '10px 20px',
              background: '#3b82f6',
              color: 'white',
              border: 'none',
              borderRadius: '8px',
              cursor: 'pointer',
              fontWeight: '500',
            }}
          >
            XÃ¡c nháº­n
          </button>
        </div>
      </div>
    </div>
  );
}

// =============================================
// Demo sá»­ dá»¥ng Modal
// =============================================
function App() {
  // Tráº¡ng thÃ¡i modal (sáº½ há»c useState ngÃ y sau)
  // Hiá»‡n táº¡i dÃ¹ng biáº¿n thÆ°á»ng Ä‘á»ƒ demo logic
  let isModalOpen = false;

  const openModal = () => {
    isModalOpen = true;
    console.log('Modal: OPEN');
  };

  const closeModal = () => {
    isModalOpen = false;
    console.log('Modal: CLOSED');
  };

  return (
    <div
      style={{
        minHeight: '100vh',
        background: '#f3f4f6',
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
        padding: '60px 20px',
        fontFamily: 'system-ui, sans-serif',
      }}
    >
      <h1 style={{ marginBottom: '40px', color: '#1f2937' }}>
        Modal with Backdrop Click Demo
      </h1>

      <button
        onClick={openModal}
        style={{
          padding: '14px 32px',
          fontSize: '1.2rem',
          background: '#3b82f6',
          color: 'white',
          border: 'none',
          borderRadius: '10px',
          cursor: 'pointer',
          boxShadow: '0 4px 12px rgba(59,130,246,0.25)',
          transition: 'all 0.2s',
        }}
        onMouseEnter={(e) => {
          e.currentTarget.style.transform = 'translateY(-2px)';
          e.currentTarget.style.boxShadow = '0 8px 20px rgba(59,130,246,0.35)';
        }}
        onMouseLeave={(e) => {
          e.currentTarget.style.transform = 'translateY(0)';
          e.currentTarget.style.boxShadow = '0 4px 12px rgba(59,130,246,0.25)';
        }}
      >
        Má»Ÿ Modal
      </button>

      <p style={{ marginTop: '24px', color: '#4b5563', textAlign: 'center' }}>
        HÆ°á»›ng dáº«n sá»­ dá»¥ng:
        <br />
        â€¢ Click nÃºt "Má»Ÿ Modal"
        <br />
        â€¢ Click backdrop (vÃ¹ng tá»‘i) â†’ Ä‘Ã³ng
        <br />
        â€¢ Click nÃºt Ã— hoáº·c "Há»§y" â†’ Ä‘Ã³ng
        <br />
        â€¢ Nháº¥n phÃ­m Esc â†’ Ä‘Ã³ng
        <br />â€¢ Click bÃªn trong modal â†’ khÃ´ng Ä‘Ã³ng
      </p>

      {/* Modal xuáº¥t hiá»‡n khi isModalOpen = true */}
      <Modal
        isOpen={isModalOpen}
        onClose={closeModal}
        title='XÃ¡c nháº­n hÃ nh Ä‘á»™ng'
      >
        <p style={{ margin: '0 0 16px 0' }}>
          Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n thá»±c hiá»‡n hÃ nh Ä‘á»™ng nÃ y khÃ´ng?
        </p>
        <p style={{ color: '#6b7280', fontSize: '0.95rem' }}>
          LÆ°u Ã½: HÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c sau khi xÃ¡c nháº­n.
        </p>

        {/* Ná»™i dung tÃ¹y Ã½ cÃ³ thá»ƒ thÃªm vÃ o Ä‘Ã¢y */}
        <div
          style={{
            margin: '24px 0',
            padding: '16px',
            background: '#f3f4f6',
            borderRadius: '8px',
          }}
        >
          <h4>ThÃ´ng tin chi tiáº¿t</h4>
          <ul style={{ margin: '12px 0 0 20px' }}>
            <li>Thá»i gian: {new Date().toLocaleString('vi-VN')}</li>
            <li>Vá»‹ trÃ­: Äá»“ng Nai, Viá»‡t Nam</li>
            <li>NgÃ y hiá»‡n táº¡i: 19/01/2026</li>
          </ul>
        </div>
      </Modal>

      {/* Hiá»ƒn thá»‹ tráº¡ng thÃ¡i debug */}
      <div
        style={{
          marginTop: '40px',
          padding: '12px 24px',
          background: '#e5e7eb',
          borderRadius: '8px',
          fontSize: '0.95rem',
          color: '#374151',
        }}
      >
        Tráº¡ng thÃ¡i modal hiá»‡n táº¡i:
        <strong style={{ color: isModalOpen ? '#3b82f6' : '#ef4444' }}>
          {isModalOpen ? 'ÄANG Má»' : 'ÄÃƒ ÄÃ“NG'}
        </strong>
        {' â€¢ '}Kiá»ƒm tra console khi má»Ÿ/Ä‘Ã³ng
      </div>
    </div>
  );
}

export default App;
```

**CÃ¡c tÃ­nh nÄƒng Ä‘Ã£ triá»ƒn khai:**

- **Má»Ÿ modal** báº±ng nÃºt
- **ÄÃ³ng modal** báº±ng:
  - Click backdrop (vÃ¹ng tá»‘i xung quanh)
  - NÃºt Ã— á»Ÿ gÃ³c
  - NÃºt "Há»§y" á»Ÿ footer
  - PhÃ­m **Esc**
- **NgÄƒn click lan truyá»n**: `e.stopPropagation()` khi click bÃªn trong modal content
- **NgÄƒn scroll body** khi modal má»Ÿ (dÃ¹ng `position: fixed` + lÆ°u vá»‹ trÃ­ scroll)
- **KhÃ´i phá»¥c scroll** chÃ­nh xÃ¡c khi Ä‘Ã³ng modal
- **Keyboard accessibility** cÆ¡ báº£n (Esc Ä‘á»ƒ Ä‘Ã³ng)
- **Responsive** vÃ  Ä‘áº¹p máº¯t trÃªn má»i thiáº¿t bá»‹
- **Debug hint** nhá» Ä‘á»ƒ xem tráº¡ng thÃ¡i

**Háº¡n cháº¿ hiá»‡n táº¡i (vÃ¬ chÆ°a há»c state):**

- Click nÃºt chá»‰ log console, modal khÃ´ng thá»±c sá»± má»Ÿ/Ä‘Ã³ng trÃªn UI (váº«n áº©n)
- Biáº¿n `isOpen` khÃ´ng persist â†’ khÃ´ng re-render

â†’ Sau khi há»c `useState` (ngÃ y 11), báº¡n chá»‰ cáº§n thay:

```jsx
let isModalOpen = false;
const openModal = () => {
  isModalOpen = true;
};
const closeModal = () => {
  isModalOpen = false;
};
```

báº±ng:

```jsx
const [isModalOpen, setIsModalOpen] = useState(false);
const openModal = () => setIsModalOpen(true);
const closeModal = () => setIsModalOpen(false);
```

lÃ  modal sáº½ hoáº¡t Ä‘á»™ng hoÃ n háº£o, UI cáº­p nháº­t realtime.

</details>

## ğŸ“š TÃ€I LIá»†U THAM KHáº¢O

### Báº¯t buá»™c Ä‘á»c

1. **React Docs - Responding to Events**
   https://react.dev/learn/responding-to-events

2. **React Docs - Conditional Rendering**
   https://react.dev/learn/conditional-rendering

### Äá»c thÃªm

3. **MDN - Event Reference**
   https://developer.mozilla.org/en-US/docs/Web/Events

4. **React Docs - SyntheticEvent**
   https://react.dev/reference/react-dom/components/common#react-event-object

---

## ğŸ”— Káº¾T Ná»I KIáº¾N THá»¨C

### Kiáº¿n thá»©c ná»n (ÄÃ£ há»c)

- **NgÃ y 1-2:** ES6+ (arrow functions, ternary operator)
- **NgÃ y 3:** JSX (expressions in curly braces)
- **NgÃ y 4:** Components & Props (passing event handlers as props)

### HÆ°á»›ng tá»›i (Sáº½ há»c)

- **NgÃ y 6:** Lists & Keys (map + event handlers for each item)
- **NgÃ y 7:** Component Composition (passing handlers through composition)
- **NgÃ y 11:** useState (FINALLY update UI on events!)
- **NgÃ y 13:** Forms with State (controlled components)

## ğŸ’¡ SENIOR INSIGHTS

### CÃ¢n nháº¯c khi lÃ m Production

**1. Hiá»‡u nÄƒng cá»§a Event Handler:**

```jsx
// âŒ KHÃ”NG Tá»T: Táº¡o function má»›i má»—i láº§n render
function List({ items }) {
  return items.map((item) => (
    <div onClick={() => handleClick(item.id)}>{item.name}</div>
  ));
}

// âœ… Tá»T HÆ N: TÃ¡i sá»­ dá»¥ng handler (sáº½ há»c tá»‘i Æ°u sÃ¢u hÆ¡n á»Ÿ Day 31)
function List({ items }) {
  const handleClick = (id) => () => {
    console.log('Clicked:', id);
  };

  return items.map((item) => (
    <div onClick={handleClick(item.id)}>{item.name}</div>
  ));
}
```

**2. Accessibility (Kháº£ nÄƒng truy cáº­p):**

```jsx
// âŒ KHÃ”NG Tá»T: div cÃ³ onClick, khÃ´ng há»— trá»£ bÃ n phÃ­m
<div onClick={handleClick}>Click me</div>

// âœ… Tá»T: DÃ¹ng button, tá»± Ä‘á»™ng há»— trá»£ bÃ n phÃ­m
<button onClick={handleClick}>Click me</button>

// âœ… Tá»T: Náº¿u buá»™c pháº£i dÃ¹ng div, cáº§n bá»• sung há»— trá»£ bÃ n phÃ­m
<div
  role="button"      // khai bÃ¡o vai trÃ² lÃ  button
  tabIndex={0}       // cho phÃ©p focus báº±ng bÃ n phÃ­m
  onClick={handleClick}
  onKeyPress={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      handleClick();
    }
  }}
>
  Click me
</div>
```

**3. Event Delegation (React xá»­ lÃ½ ná»™i bá»™):**

React tá»± Ä‘á»™ng Ã¡p dá»¥ng **event delegation** â€” chá»‰ gáº¯n **má»™t event listener á»Ÿ root** (thÆ°á»ng lÃ  `document`), thay vÃ¬ gáº¯n listener cho tá»«ng element.

Äiá»u nÃ y cÃ³ nghÄ©a lÃ :

- KhÃ´ng táº¡o quÃ¡ nhiá»u event listener cho má»—i component
- Giáº£m chi phÃ­ bá»™ nhá»› vÃ  cáº£i thiá»‡n hiá»‡u nÄƒng
- Event Ä‘Æ°á»£c â€œbáº¯tâ€ á»Ÿ root rá»“i phÃ¢n phá»‘i ngÆ°á»£c láº¡i component tÆ°Æ¡ng á»©ng

â¡ï¸ **Báº¡n khÃ´ng cáº§n tá»± xá»­ lÃ½ event delegation**, nhÆ°ng nÃªn biáº¿t Ä‘á»ƒ:

- Hiá»ƒu vÃ¬ sao React xá»­ lÃ½ event hiá»‡u quáº£
- Dá»… debug cÃ¡c váº¥n Ä‘á» liÃªn quan Ä‘áº¿n bubbling / capturing
- CÃ³ tÆ° duy performance tá»‘t hÆ¡n khi lÃ m production

---

### CÃ¢u Há»i Phá»ng Váº¥n

**Junior Level:**

Q1: "KhÃ¡c biá»‡t giá»¯a `onClick={func}` vÃ  `onClick={func()}`?"  
A: `onClick={func}` pass function reference, execute khi click. `onClick={func()}` execute ngay láº­p tá»©c khi render, pass káº¿t quáº£ (thÆ°á»ng lÃ  undefined) vÃ o onClick.

Q2: "SyntheticEvent lÃ  gÃ¬?"  
A: LÃ  wrapper cá»§a React quanh native browser events, Ä‘áº£m báº£o consistent API across browsers vÃ  performance optimization.

**Mid Level:**

Q3: "LÃ m sao pass arguments vÃ o event handler?"  
A: DÃ¹ng arrow function: `onClick={() => handleClick(id)}` hoáº·c higher-order function: `onClick={handleClick(id)}` vá»›i `const handleClick = (id) => (event) => {...}`

Q4: "Khi nÃ o dÃ¹ng `event.stopPropagation()`?"  
A: Khi muá»‘n prevent event bubbling lÃªn parent elements. VD: Click button inside clickable card, chá»‰ trigger button handler, khÃ´ng trigger card handler.

**Senior Level:**

**Q5:** _â€œConditional rendering pattern nÃ o tá»‘t nháº¥t cho performance?â€_

**A:** TÃ¹y vÃ o use case, khÃ´ng cÃ³ pattern nÃ o â€œbestâ€ cho má»i trÆ°á»ng há»£p.

- **If / Else vá»›i early return**
  PhÃ¹ há»£p cho logic phá»©c táº¡p, nhiá»u nhÃ¡nh. Code dá»… Ä‘á»c, dá»… tá»‘i Æ°u vÃ  trÃ¡nh render khÃ´ng cáº§n thiáº¿t.

- **Ternary (`? :`)**
  Tá»‘t cho toggle Ä‘Æ¡n giáº£n (true / false). Gá»n, rÃµ rÃ ng náº¿u khÃ´ng lá»“ng nhiá»u táº§ng.

- **Logical `&&`**
  Chá»‰ nÃªn dÃ¹ng Ä‘á»ƒ áº©n/hiá»‡n component. Cáº©n tháº­n vá»›i cÃ¡c giÃ¡ trá»‹ falsy nhÆ° `0`, `''`, `null`.

- **TrÃ¡nh nested ternaries**
  Dá»… gÃ¢y khÃ³ Ä‘á»c, khÃ³ maintain vÃ  dá»… sai logic hÆ¡n lÃ  váº¥n Ä‘á» performance.

ğŸ‘‰ **Káº¿t luáº­n:** Performance khÃ¡c biá»‡t giá»¯a cÃ¡c pattern thÆ°á»ng ráº¥t nhá»; **Ä‘á»™ rÃµ rÃ ng vÃ  kháº£ nÄƒng báº£o trÃ¬** quan trá»ng hÆ¡n.

---

### War Stories

**Story 1: The preventDefault Bug**

> "Production bug nghiÃªm trá»ng: form submit reload page, máº¥t data user Ä‘ang nháº­p. Root cause: Junior dev quÃªn `event.preventDefault()` trong submit handler. Máº¥t 3 giá» debug vÃ¬ chá»‰ xáº£y ra randomly (user báº¥m Enter vs Click button). Lesson: ALWAYS preventDefault cho forms!"

**Story 2: The && Operator Gotcha**

> "UI bug trÃªn dashboard: sá»‘ '0' hiá»ƒn thá»‹ khi khÃ´ng cÃ³ data. QA report: 'Why showing zero when should be empty?' Code: `{count && <Stats count={count} />}`. Fix: `{count > 0 && ...}`. Giá» luÃ´n review PRs Ä‘á»ƒ catch pattern nÃ y!"

**Story 3: The Inline Arrow Performance**

> "App cháº¡y cháº­m khi scroll list 1000 items. Profiler shows: re-render storm. Cause: `onClick={() => handleClick(item.id)}` táº¡o má»›i function má»—i render, trigger re-render children. Fix: Memoization (sáº½ há»c Day 34). NhÆ°ng nhá»›: Premature optimization is evil - measure first!"

---

## ğŸ¯ PREVIEW NGÃ€Y MAI

**NgÃ y 6: Lists & Keys - Rendering Arrays**

Tomorrow chÃºng ta sáº½ há»c:

- Rendering arrays vá»›i `.map()`
- Keys trong React - táº¡i sao quan trá»ng
- Index as key - khi nÃ o OK, khi nÃ o KHÃ”NG
- Stable keys strategies
- Common list patterns

Chuáº©n bá»‹:

- Review array methods: `.map()`, `.filter()`, `.sort()`
- Ã”n láº¡i Events (sáº½ káº¿t há»£p vá»›i lists)
- NghÄ© vá» cÃ¡c UI components render lists (todos, products, comments...)

**Sneak peek:**

```jsx
// Tomorrow sáº½ há»c pattern nÃ y:
const todos = [
  { id: 1, text: 'Learn Lists' },
  { id: 2, text: 'Master Keys' },
];

return (
  <ul>
    {todos.map((todo) => (
      <li key={todo.id}>
        {todo.text}
        <button onClick={() => handleDelete(todo.id)}>Delete</button>
      </li>
    ))}
  </ul>
);
```

---

## ğŸŠ CHÃšC Má»ªNG!

Báº¡n Ä‘Ã£ hoÃ n thÃ nh **NgÃ y 5: Events & Conditional Rendering**!

**HÃ´m nay báº¡n Ä‘Ã£ há»c:**

âœ… Event handling trong React (declarative approach)  
âœ… SyntheticEvents & cross-browser compatibility  
âœ… Event binding patterns & passing arguments  
âœ… Conditional rendering vá»›i if/else, ternary, &&  
âœ… Common patterns & anti-patterns  
âœ… Real-world interactive components

**Key Takeaways (TÃ³m táº¯t quan trá»ng):**

- DÃ¹ng `onClick={func}` **khÃ´ng pháº£i** `onClick={func()}` âš ï¸
- LuÃ´n gá»i `event.preventDefault()` khi xá»­ lÃ½ form submit
- Cáº©n tháº­n khi dÃ¹ng `&&` vá»›i cÃ¡c giÃ¡ trá»‹ falsy (Ä‘áº·c biá»‡t lÃ  `0`) âš ï¸
- Chá»n pattern conditional rendering phÃ¹ há»£p Ä‘á»ƒ code dá»… Ä‘á»c, dá»… maintain

**Next steps:**

1. HoÃ n thÃ nh bÃ i táº­p vá» nhÃ 
2. Practice event handlers vá»›i keyboard events
3. Thá»­ build má»™t component vá»›i nhiá»u states
4. Chuáº©n bá»‹ cho NgÃ y 6: Lists & Keys!

**Keep coding! ğŸ’ª See you tomorrow!** ğŸš€
