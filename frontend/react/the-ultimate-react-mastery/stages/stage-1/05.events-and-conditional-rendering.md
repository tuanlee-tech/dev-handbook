# ğŸ“… NGÃ€Y 5: EVENTS & CONDITIONAL RENDERING - TÆ¯Æ NG TÃC VÃ€ LOGIC HIá»‚N THá»Š

## ğŸ¯ Má»¥c tiÃªu há»c táº­p (5 phÃºt)

Sau bÃ i há»c hÃ´m nay, báº¡n sáº½:

- [ ] **Hiá»ƒu rÃµ** Event handling trong React vÃ  sá»± khÃ¡c biá»‡t vá»›i vanilla JavaScript
- [ ] **Náº¯m vá»¯ng** Synthetic Events vÃ  táº¡i sao React dÃ¹ng nÃ³
- [ ] **ThÃ nh tháº¡o** cÃ¡c Event binding patterns (inline, arrow, method)
- [ ] **Sá»­ dá»¥ng thÃ nh tháº¡o** Conditional rendering vá»›i if/else, &&, ternary operator
- [ ] **PhÃ¢n biá»‡t** Ä‘Æ°á»£c khi nÃ o dÃ¹ng pattern nÃ o cho conditional rendering

---

## ğŸ¤” Kiá»ƒm tra Ä‘áº§u vÃ o (5 phÃºt)

TrÆ°á»›c khi báº¯t Ä‘áº§u, hÃ£y tráº£ lá»i 3 cÃ¢u há»i nÃ y:

1. **Props lÃ  gÃ¬?** NÃ³ read-only hay cÃ³ thá»ƒ modify?
2. **Arrow function** syntax nhÆ° tháº¿ nÃ o? `() => {}` khÃ¡c gÃ¬ vá»›i `function() {}`?
3. **Ternary operator** hoáº¡t Ä‘á»™ng ra sao? Cho vÃ­ dá»¥.

<details>
<summary>ğŸ’¡ Solution</summary>

1. **Props** lÃ  data truyá»n tá»« parent â†’ child. Props lÃ  **read-only** (immutable), child khÃ´ng Ä‘Æ°á»£c sá»­a props.

2. **Arrow function:**

```javascript
// Arrow function
const add = (a, b) => a + b;

// Regular function
function add(a, b) {
  return a + b;
}

// KhÃ¡c biá»‡t chÃ­nh: Arrow function khÃ´ng cÃ³ 'this' binding riÃªng
```

3. **Ternary operator:**

```javascript
const age = 18;
const canVote = age >= 18 ? "Yes" : "No";

// Equivalent to:
let canVote;
if (age >= 18) {
  canVote = "Yes";
} else {
  canVote = "No";
}
```

</details>

---

## ğŸ“– PHáº¦N 1: GIá»šI THIá»†U KHÃI NIá»†M (30 phÃºt)

### 1.1 Váº¥n Äá» Thá»±c Táº¿

Báº¡n Ä‘ang xÃ¢y dá»±ng má»™t nÃºt "Like" trÃªn Facebook. Cáº§n xá»­ lÃ½:

```html
<!-- Vanilla JavaScript -->
<button id="likeBtn">Like</button>

<script>
  const btn = document.getElementById("likeBtn");
  btn.addEventListener("click", function () {
    console.log("Liked!");
  });
</script>
```

**Váº¥n Ä‘á» vá»›i vanilla JS:**

- ğŸ”´ Pháº£i query DOM (`getElementById`)
- ğŸ”´ Attach/detach listeners manually
- ğŸ”´ Memory leaks náº¿u quÃªn cleanup
- ğŸ”´ Cross-browser compatibility issues
- ğŸ”´ Event delegation phá»©c táº¡p

### 1.2 Giáº£i PhÃ¡p: React Events

React xá»­ lÃ½ events **declaratively** - báº¡n chá»‰ cáº§n khai bÃ¡o, React lo pháº§n cÃ²n láº¡i.

```jsx
// React way - Declarative
function LikeButton() {
  const handleClick = () => {
    console.log("Liked!");
  };

  return <button onClick={handleClick}>Like</button>;
}

// âœ… No DOM queries
// âœ… No manual addEventListener
// âœ… Auto cleanup
// âœ… Cross-browser compatible
```

**Lá»£i Ã­ch:**

- âœ… Declarative (khai bÃ¡o Ã½ Ä‘á»‹nh, khÃ´ng lo implementation)
- âœ… Auto cleanup khi component unmount
- âœ… Consistent API across browsers
- âœ… Performance optimization (event delegation)

### 1.3 Mental Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           VANILLA JAVASCRIPT                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  1. Query DOM                        â”‚       â”‚
â”‚  â”‚  const btn = document.getElementById â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  2. Attach Listener                  â”‚       â”‚
â”‚  â”‚  btn.addEventListener('click', fn)   â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  3. Handle Event                     â”‚       â”‚
â”‚  â”‚  function fn(event) { ... }          â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  4. Cleanup (often forgotten!)       â”‚       â”‚
â”‚  â”‚  btn.removeEventListener('click',fn) â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                      VS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 REACT                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  <button onClick={handleClick}>      â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  React handles:                      â”‚       â”‚
â”‚  â”‚  âœ… Event delegation                 â”‚       â”‚
â”‚  â”‚  âœ… Cross-browser normalization      â”‚       â”‚
â”‚  â”‚  âœ… Auto cleanup                     â”‚       â”‚
â”‚  â”‚  âœ… Performance optimization         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”‘ Synthetic Events:**

React khÃ´ng dÃ¹ng native browser events trá»±c tiáº¿p. Thay vÃ o Ä‘Ã³, React wrap chÃºng trong **SyntheticEvent** objects.

```
Browser Event (native)
         â†“
  React intercepts
         â†“
  SyntheticEvent (normalized)
         â†“
  Your handler function
```

**Táº¡i sao?**

- Consistent API across browsers (IE, Chrome, Firefox...)
- Performance (event pooling - tÃ¡i sá»­ dá»¥ng objects)
- Additional features (e.g., `event.persist()`)

### 1.4 Hiá»ƒu Láº§m Phá»• Biáº¿n

âŒ **Hiá»ƒu láº§m 1:** "onClick giá»‘ng onclick trong HTML"

```jsx
// âŒ HTML - string
<button onclick="handleClick()">Click</button>

// âœ… React - function reference
<button onClick={handleClick}>Click</button>

// âŒ SAI - gá»i function ngay láº­p tá»©c!
<button onClick={handleClick()}>Click</button>
```

**Giáº£i thÃ­ch:**

- HTML: `onclick="string"` - execute khi click
- React: `onClick={function}` - pass function reference
- `onClick={handleClick()}` - execute NGAY, khÃ´ng Ä‘á»£i click!

---

âŒ **Hiá»ƒu láº§m 2:** "event.preventDefault() khÃ´ng cáº§n thiáº¿t"

```jsx
// âŒ SAI - form submit sáº½ reload page
function Form() {
  const handleSubmit = (event) => {
    // Missing preventDefault!
    console.log("Submitted");
  };

  return <form onSubmit={handleSubmit}>...</form>;
}

// âœ… ÄÃšNG
function Form() {
  const handleSubmit = (event) => {
    event.preventDefault(); // Prevent default behavior
    console.log("Submitted");
  };

  return <form onSubmit={handleSubmit}>...</form>;
}
```

---

âŒ **Hiá»ƒu láº§m 3:** "Synthetic event giá»‘ng native event 100%"

```jsx
function Component() {
  const handleClick = (event) => {
    console.log(event); // SyntheticEvent

    // âŒ SAI - async access
    setTimeout(() => {
      console.log(event.type); // null! Event Ä‘Ã£ bá»‹ pool
    }, 100);

    // âœ… ÄÃšNG - persist event
    event.persist(); // Keep event
    setTimeout(() => {
      console.log(event.type); // 'click' âœ“
    }, 100);
  };

  return <button onClick={handleClick}>Click</button>;
}
```

---

## ğŸ’» PHáº¦N 2: LIVE CODING - EVENTS (45 phÃºt)

### Demo 1: Event Binding Patterns â­

**Pattern 1: Inline Arrow Function**

```jsx
function Counter() {
  const handleClick = () => {
    console.log("Clicked!");
  };

  return (
    <div>
      {/* âŒ CÃCH 1: Call function immediately - SAI! */}
      <button onClick={handleClick()}>Wrong - Executes now!</button>

      {/* âœ… CÃCH 2: Pass function reference */}
      <button onClick={handleClick}>Correct - Pass reference</button>

      {/* âœ… CÃCH 3: Inline arrow function */}
      <button onClick={() => handleClick()}>
        Also correct - Arrow wrapper
      </button>
    </div>
  );
}
```

**Trade-offs:**

| Pattern                         | Pros                            | Cons                         | When to Use                |
| ------------------------------- | ------------------------------- | ---------------------------- | -------------------------- |
| `onClick={handleClick}`         | âœ… Clean<br>âœ… Performance      | âŒ Can't pass args           | Simple handlers, no params |
| `onClick={() => handleClick()}` | âœ… Can pass args<br>âœ… Flexible | âŒ New function every render | Need to pass parameters    |

---

**Pattern 2: Passing Arguments**

```jsx
function TodoList() {
  const handleDelete = (id) => {
    console.log(`Delete todo ${id}`);
  };

  return (
    <div>
      {/* âŒ SAI - calls immediately */}
      <button onClick={handleDelete(1)}>Delete</button>

      {/* âœ… ÄÃšNG - arrow function wrapper */}
      <button onClick={() => handleDelete(1)}>Delete 1</button>
      <button onClick={() => handleDelete(2)}>Delete 2</button>
      <button onClick={() => handleDelete(3)}>Delete 3</button>
    </div>
  );
}
```

**ğŸ’¡ Alternative: Higher-Order Function**

```jsx
function TodoList() {
  // Returns a function
  const handleDelete = (id) => (event) => {
    console.log(`Delete todo ${id}`);
  };

  return (
    <div>
      {/* Cleaner - no inline arrow */}
      <button onClick={handleDelete(1)}>Delete 1</button>
      <button onClick={handleDelete(2)}>Delete 2</button>
      <button onClick={handleDelete(3)}>Delete 3</button>
    </div>
  );
}
```

---

### Demo 2: Event Object & Common Events â­â­

```jsx
function EventDemo() {
  // onClick - Mouse click
  const handleClick = (event) => {
    console.log("Event type:", event.type); // 'click'
    console.log("Target element:", event.target); // <button>
    console.log("Mouse position:", event.clientX, event.clientY);
  };

  // onChange - Input change
  const handleChange = (event) => {
    console.log("Input value:", event.target.value);
  };

  // onSubmit - Form submit
  const handleSubmit = (event) => {
    event.preventDefault(); // IMPORTANT!
    console.log("Form submitted");
  };

  // onKeyDown - Keyboard
  const handleKeyDown = (event) => {
    console.log("Key pressed:", event.key);
    if (event.key === "Enter") {
      console.log("Enter pressed!");
    }
  };

  // onMouseEnter/onMouseLeave - Hover
  const handleMouseEnter = () => {
    console.log("Mouse entered");
  };

  return (
    <div>
      <button onClick={handleClick}>Click Me</button>

      <input
        type="text"
        onChange={handleChange}
        onKeyDown={handleKeyDown}
        placeholder="Type something..."
      />

      <form onSubmit={handleSubmit}>
        <input type="text" />
        <button type="submit">Submit</button>
      </form>

      <div
        onMouseEnter={handleMouseEnter}
        style={{ padding: 20, background: "#f0f0f0" }}
      >
        Hover over me
      </div>
    </div>
  );
}
```

**ğŸ”¥ Common Events:**

| Event          | When it fires       | Use case           |
| -------------- | ------------------- | ------------------ |
| `onClick`      | Element clicked     | Buttons, links     |
| `onChange`     | Input value changes | Forms, inputs      |
| `onSubmit`     | Form submitted      | Form handling      |
| `onKeyDown`    | Key pressed down    | Keyboard shortcuts |
| `onKeyUp`      | Key released        | Input validation   |
| `onFocus`      | Element focused     | Highlight input    |
| `onBlur`       | Element loses focus | Validate on blur   |
| `onMouseEnter` | Mouse enters        | Hover effects      |
| `onMouseLeave` | Mouse leaves        | Hide tooltip       |

---

### Demo 3: Event Delegation & Bubbling â­â­â­

```jsx
function EventBubbling() {
  const handleParentClick = () => {
    console.log("Parent clicked");
  };

  const handleChildClick = (event) => {
    console.log("Child clicked");
    // event.stopPropagation(); // Uncomment to stop bubbling
  };

  const handleButtonClick = (event) => {
    console.log("Button clicked");
    event.stopPropagation(); // Stop here
  };

  return (
    <div
      onClick={handleParentClick}
      style={{ padding: 40, background: "#f0f0f0" }}
    >
      Parent
      <div
        onClick={handleChildClick}
        style={{ padding: 20, background: "#e0e0e0", margin: 10 }}
      >
        Child
        <button onClick={handleButtonClick}>Button (stops propagation)</button>
      </div>
    </div>
  );
}
```

**Event Flow:**

```
Click button
     â†“
Button handler executes
     â†“
event.stopPropagation()
     â†“
âŒ Does NOT bubble to Child
âŒ Does NOT bubble to Parent
```

**Without stopPropagation:**

```
Click button
     â†“
Button handler â†’ 'Button clicked'
     â†“
Child handler â†’ 'Child clicked'
     â†“
Parent handler â†’ 'Parent clicked'
```

**âš ï¸ Khi nÃ o dÃ¹ng stopPropagation:**

- âœ… Modal close button (khÃ´ng close khi click content)
- âœ… Nested clickable elements
- âœ… Prevent parent handlers
- âŒ Äá»«ng overuse - phÃ¡ vá»¡ event delegation benefits

---

## ğŸ’» PHáº¦N 2B: LIVE CODING - CONDITIONAL RENDERING (45 phÃºt)

### Demo 4: If/Else Pattern â­

```jsx
function UserGreeting({ isLoggedIn, userName }) {
  // âŒ CÃCH 1: Cannot use if/else directly in JSX
  return (
    <div>
      {if (isLoggedIn) { // âŒ Syntax Error!
        <h1>Welcome, {userName}!</h1>
      } else {
        <h1>Please log in</h1>
      }}
    </div>
  );

  // âœ… CÃCH 2: If/else before return
  if (isLoggedIn) {
    return <h1>Welcome, {userName}!</h1>;
  } else {
    return <h1>Please log in</h1>;
  }

  // âœ… CÃCH 3: Variable + if/else
  let message;
  if (isLoggedIn) {
    message = <h1>Welcome, {userName}!</h1>;
  } else {
    message = <h1>Please log in</h1>;
  }

  return <div>{message}</div>;
}
```

**ğŸ¯ Khi nÃ o dÃ¹ng If/Else:**

- âœ… Logic phá»©c táº¡p (nhiá»u conditions)
- âœ… Early return pattern
- âœ… Nhiá»u lines code trong má»—i branch
- âŒ Simple true/false â†’ dÃ¹ng ternary

---

### Demo 5: Ternary Operator Pattern â­â­

```jsx
function StatusBadge({ status }) {
  // âœ… Ternary operator - clean for simple conditions
  return (
    <span
      className={`badge ${status === "active" ? "badge-success" : "badge-danger"}`}
    >
      {status === "active" ? "âœ“ Active" : "âœ— Inactive"}
    </span>
  );
}

function LoadingButton({ isLoading, onClick, children }) {
  return (
    <button onClick={onClick} disabled={isLoading}>
      {isLoading ? (
        <>
          <span className="spinner">â³</span>
          Loading...
        </>
      ) : (
        children
      )}
    </button>
  );
}

// Usage
function App() {
  return (
    <div>
      <StatusBadge status="active" />
      <StatusBadge status="inactive" />

      <LoadingButton isLoading={false} onClick={() => {}}>
        Submit
      </LoadingButton>

      <LoadingButton isLoading={true} onClick={() => {}}>
        Submit
      </LoadingButton>
    </div>
  );
}
```

**âš ï¸ Nested Ternary - TRÃNH!**

```jsx
// âŒ AVOID - Hard to read
function Status({ user }) {
  return (
    <div>
      {user ? (
        user.isPremium ? (
          user.isActive ? (
            <span>Premium Active</span>
          ) : (
            <span>Premium Inactive</span>
          )
        ) : (
          <span>Free</span>
        )
      ) : (
        <span>Guest</span>
      )}
    </div>
  );
}

// âœ… BETTER - Multiple if/else or separate function
function Status({ user }) {
  if (!user) return <span>Guest</span>;
  if (!user.isPremium) return <span>Free</span>;
  if (user.isActive) return <span>Premium Active</span>;
  return <span>Premium Inactive</span>;
}
```

---

### Demo 6: Logical && Operator â­â­â­

```jsx
function Notification({ hasNotification, count }) {
  return (
    <div>
      <h3>Inbox</h3>

      {/* âœ… Show only if hasNotification is true */}
      {hasNotification && <div className="notification-badge">{count}</div>}

      {/* âœ… Show only if count > 0 */}
      {count > 0 && <p>You have {count} unread messages</p>}

      {/* âš ï¸ CAREFUL - can render 0 */}
      {count && <p>Count: {count}</p>}
      {/* If count = 0 â†’ renders "0" on screen! */}

      {/* âœ… BETTER - explicit comparison */}
      {count > 0 && <p>Count: {count}</p>}
    </div>
  );
}
```

**ğŸ”¥ Gotcha: Falsy Values**

```jsx
function Demo({ value }) {
  return (
    <div>
      {/* âŒ RENDERS "0" if value = 0 */}
      {value && <p>Value: {value}</p>}

      {/* âœ… CORRECT - only renders if value > 0 */}
      {value > 0 && <p>Value: {value}</p>}

      {/* âœ… CORRECT - renders for any truthy value */}
      {value != null && <p>Value: {value}</p>}
    </div>
  );
}

// Test cases:
<Demo value={0} />    // Renders: "0" (oops!)
<Demo value={5} />    // Renders: "Value: 5" âœ“
<Demo value={null} /> // Renders: nothing âœ“
```

**Falsy values trong JavaScript:**

- `false`
- `0` âš ï¸ renders as "0"
- `""` (empty string)
- `null`
- `undefined`
- `NaN`

---

### Demo 7: Multiple Conditions Pattern â­â­â­

```jsx
function UserDashboard({ user, isLoading, error }) {
  // Pattern 1: Early returns
  if (isLoading) {
    return <div className="loading">Loading...</div>;
  }

  if (error) {
    return <div className="error">Error: {error.message}</div>;
  }

  if (!user) {
    return <div className="empty">No user data</div>;
  }

  // Main content
  return (
    <div className="dashboard">
      <h1>Welcome, {user.name}!</h1>
      <p>Email: {user.email}</p>
    </div>
  );
}

// Pattern 2: Object mapping
function StatusMessage({ status }) {
  const messages = {
    loading: <div className="spinner">Loading...</div>,
    success: <div className="success">âœ“ Success!</div>,
    error: <div className="error">âœ— Error occurred</div>,
    idle: null,
  };

  return messages[status] || null;
}

// Pattern 3: Switch statement
function OrderStatus({ status }) {
  const renderStatus = () => {
    switch (status) {
      case "pending":
        return <span className="badge-warning">â³ Pending</span>;
      case "processing":
        return <span className="badge-info">âš™ï¸ Processing</span>;
      case "shipped":
        return <span className="badge-primary">ğŸ“¦ Shipped</span>;
      case "delivered":
        return <span className="badge-success">âœ“ Delivered</span>;
      case "cancelled":
        return <span className="badge-danger">âœ— Cancelled</span>;
      default:
        return <span className="badge-secondary">Unknown</span>;
    }
  };

  return <div>{renderStatus()}</div>;
}
```

---

## ğŸ”¨ PHáº¦N 3: BÃ€I Táº¬P THá»°C HÃ€NH (60 phÃºt)

### â­ Exercise 1: Click Counter (15 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Táº¡o counter vá»›i event handling cÆ¡ báº£n  
**â±ï¸ Thá»i gian:** 15 phÃºt  
**ğŸš« KHÃ”NG dÃ¹ng:** State (chÆ°a há»c - chá»‰ log ra console)

**Requirements:**

1. Button "Increment" - log "Count: 1", "Count: 2"...
2. Button "Decrement" - log "Count: -1", "Count: -2"...
3. Button "Reset" - log "Count reset to 0"
4. Hiá»ƒn thá»‹ message dá»±a trÃªn count (dÃ¹ng conditional rendering concept)

```jsx
/**
 * ğŸ’¡ Gá»£i Ã½:
 * - DÃ¹ng onClick Ä‘á»ƒ handle button clicks
 * - Log count value ra console
 * - Conditional rendering Ä‘á»ƒ show message
 */

// ğŸ¯ NHIá»†M Vá»¤ Cá»¦A Báº N:
function ClickCounter() {
  let count = 0; // Temporary - sáº½ dÃ¹ng state sau

  const handleIncrement = () => {
    count = count + 1;
    console.log(`Count: ${count}`);
  };

  const handleDecrement = () => {
    // TODO
  };

  const handleReset = () => {
    // TODO
  };

  return (
    <div className="counter">
      <h2>Click Counter (Console Demo)</h2>

      {/* TODO: Add buttons */}
      <button onClick={handleIncrement}>Increment</button>

      {/* TODO: Conditional message based on count */}
      {/* If count > 5: "Wow, nhiá»u clicks!" */}
      {/* If count < 0: "Negative!" */}
      {/* Else: "Keep clicking!" */}
    </div>
  );
}
```

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function ClickCounter() {
  let count = 0; // Note: Won't persist - need state (Day 11)

  const handleIncrement = () => {
    count++;
    console.log(`Count: ${count}`);
  };

  const handleDecrement = () => {
    count--;
    console.log(`Count: ${count}`);
  };

  const handleReset = () => {
    count = 0;
    console.log("Count reset to 0");
  };

  // Temporary message - won't update visually (need state)
  let message;
  if (count > 5) {
    message = "Wow, nhiá»u clicks!";
  } else if (count < 0) {
    message = "Negative!";
  } else {
    message = "Keep clicking!";
  }

  return (
    <div className="counter">
      <h2>Click Counter (Console Demo)</h2>
      <p className="hint">Open console to see count updates</p>

      <div className="button-group">
        <button onClick={handleDecrement}>â– Decrement</button>
        <button onClick={handleReset}>ğŸ”„ Reset</button>
        <button onClick={handleIncrement}>â• Increment</button>
      </div>

      <p className="message">{message}</p>

      <div className="note">
        <strong>Note:</strong> UI won't update because we don't have state yet.
        We'll learn useState on Day 11!
      </div>
    </div>
  );
}
```

**CSS:**

```css
.counter {
  max-width: 400px;
  margin: 20px auto;
  padding: 20px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  text-align: center;
}

.hint {
  color: #666;
  font-size: 14px;
  font-style: italic;
}

.button-group {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.button-group button {
  padding: 10px 20px;
  font-size: 16px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  background: #1976d2;
  color: white;
  transition: background 0.2s;
}

.button-group button:hover {
  background: #1565c0;
}

.message {
  font-size: 18px;
  font-weight: 600;
  color: #1976d2;
  margin: 16px 0;
}

.note {
  margin-top: 20px;
  padding: 12px;
  background: #fff3cd;
  border-left: 4px solid #ffc107;
  text-align: left;
  font-size: 14px;
}
```

**ğŸ“š Giáº£i thÃ­ch:**

- `count` variable khÃ´ng persist giá»¯a cÃ¡c clicks (cáº§n state)
- Event handlers log ra console correctly
- Conditional rendering shows different messages
- **Tomorrow (Day 11)** sáº½ há»c useState Ä‘á»ƒ update UI!

</details>

---

### â­â­ Exercise 2: Form Input Handler (25 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Handle form events & conditional validation  
**â±ï¸ Thá»i gian:** 25 phÃºt

**Scenario:** Táº¡o login form vá»›i real-time validation messages

**Requirements:**

1. Email input vá»›i onChange validation
2. Password input vá»›i visibility toggle
3. Submit button disabled náº¿u invalid
4. Show error messages conditionally

```jsx
// ğŸ¯ NHIá»†M Vá»¤:
function LoginForm() {
  // TODO: Handle email change
  const handleEmailChange = (event) => {
    const email = event.target.value;
    console.log("Email:", email);
    // TODO: Validate email format
  };

  // TODO: Handle password change
  const handlePasswordChange = (event) => {
    // TODO
  };

  // TODO: Handle form submit
  const handleSubmit = (event) => {
    event.preventDefault(); // IMPORTANT!
    console.log("Form submitted");
  };

  // TODO: Toggle password visibility
  const handleTogglePassword = () => {
    // TODO
  };

  // Validation (temporary - need state to track)
  const isEmailValid = true; // TODO: Real validation
  const isPasswordValid = true; // TODO: Min 6 chars
  const canSubmit = isEmailValid && isPasswordValid;

  return (
    <form onSubmit={handleSubmit} className="login-form">
      <h2>Login</h2>

      {/* Email field */}
      <div className="form-group">
        <label htmlFor="email">Email</label>
        <input
          type="email"
          id="email"
          onChange={handleEmailChange}
          placeholder="Enter your email"
        />

        {/* TODO: Show error if email invalid */}
        {!isEmailValid && <span className="error">Invalid email format</span>}
      </div>

      {/* Password field */}
      <div className="form-group">
        <label htmlFor="password">Password</label>
        <div className="password-wrapper">
          <input
            type="password" // TODO: Toggle between 'password' and 'text'
            id="password"
            onChange={handlePasswordChange}
            placeholder="Enter your password"
          />
          <button type="button" onClick={handleTogglePassword}>
            ğŸ‘ï¸ Show
          </button>
        </div>

        {/* TODO: Show error if password too short */}
      </div>

      {/* Submit button */}
      <button type="submit" disabled={!canSubmit} className="submit-btn">
        Log In
      </button>
    </form>
  );
}
```

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function LoginForm() {
  // Temp variables (need state to persist)
  let email = "";
  let password = "";
  let showPassword = false;

  const handleEmailChange = (event) => {
    email = event.target.value;
    console.log("Email:", email);
  };

  const handlePasswordChange = (event) => {
    password = event.target.value;
    console.log("Password:", password);
  };

  const handleSubmit = (event) => {
    event.preventDefault();
    console.log("Form submitted");
    console.log("Email:", email);
    console.log("Password:", password);
  };

  const handleTogglePassword = () => {
    showPassword = !showPassword;
    console.log("Show password:", showPassword);
  };

  // Basic validation (without state, always resets)
  const isEmailValid = email.includes("@") && email.includes(".");
  const isPasswordValid = password.length >= 6;
  const canSubmit = email && password && isEmailValid && isPasswordValid;

  return (
    <form onSubmit={handleSubmit} className="login-form">
      <h2>Login</h2>

      <div className="form-group">
        <label htmlFor="email">Email</label>
        <input
          type="email"
          id="email"
          onChange={handleEmailChange}
          placeholder="Enter your email"
        />

        {email && !isEmailValid && (
          <span className="error">âœ— Please enter a valid email address</span>
        )}

        {email && isEmailValid && (
          <span className="success">âœ“ Valid email</span>
        )}
      </div>

      <div className="form-group">
        <label htmlFor="password">Password</label>
        <div className="password-wrapper">
          <input
            type={showPassword ? "text" : "password"}
            id="password"
            onChange={handlePasswordChange}
            placeholder="Enter your password"
          />
          <button
            type="button"
            onClick={handleTogglePassword}
            className="toggle-btn"
          >
            {showPassword ? "ğŸ™ˆ Hide" : "ğŸ‘ï¸ Show"}
          </button>
        </div>

        {password && password.length < 6 && (
          <span className="error">
            âœ— Password must be at least 6 characters
          </span>
        )}

        {password && isPasswordValid && (
          <span className="success">âœ“ Strong password</span>
        )}
      </div>

      <button type="submit" disabled={!canSubmit} className="submit-btn">
        {canSubmit ? "Log In" : "Fill all fields correctly"}
      </button>

      <div className="note">
        <strong>Note:</strong> This demo shows event handling concepts. On Day
        11, we'll add useState to make it fully functional!
      </div>
    </form>
  );
}
```

**CSS:**

```css
.login-form {
  max-width: 400px;
  margin: 20px auto;
  padding: 24px;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  background: white;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: #333;
}

.form-group input {
  width: 100%;
  padding: 10px 12px;
  font-size: 14px;
  border: 2px solid #e0e0e0;
  border-radius: 4px;
  transition: border-color 0.2s;
}

.form-group input:focus {
  outline: none;
  border-color: #1976d2;
}

.password-wrapper {
  position: relative;
  display: flex;
  gap: 8px;
}

.password-wrapper input {
  flex: 1;
}

.toggle-btn {
  padding: 10px 16px;
  border: 2px solid #e0e0e0;
  border-radius: 4px;
  background: white;
  cursor: pointer;
  font-size: 14px;
}

.toggle-btn:hover {
  background: #f5f5f5;
}

.error {
  display: block;
  margin-top: 8px;
  font-size: 13px;
  color: #d32f2f;
}

.success {
  display: block;
  margin-top: 8px;
  font-size: 13px;
  color: #388e3c;
}

.submit-btn {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  background: #1976d2;
  color: white;
  cursor: pointer;
  transition: background 0.2s;
}

.submit-btn:hover:not(:disabled) {
  background: #1565c0;
}

.submit-btn:disabled {
  background: #ccc;
  cursor: not-allowed;
}

.note {
  margin-top: 20px;
  padding: 12px;
  background: #e3f2fd;
  border-left: 4px solid #1976d2;
  font-size: 13px;
}
```

</details>

---

### â­â­â­ Exercise 3: Interactive Todo Item (40 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Káº¿t há»£p events + conditional rendering  
**â±ï¸ Thá»i gian:** 40 phÃºt

**ğŸ“‹ Product Requirements:**
User Story: "LÃ  user, tÃ´i muá»‘n tháº¥y todo item vá»›i cÃ¡c tráº¡ng thÃ¡i khÃ¡c nhau (view/edit/delete confirm) Ä‘á»ƒ quáº£n lÃ½ tasks."

**âœ… Acceptance Criteria:**

- [ ] 3 modes: View, Edit, Delete Confirm
- [ ] View mode: Show todo, Edit button, Delete button
- [ ] Edit mode: Input field, Save button, Cancel button
- [ ] Delete Confirm mode: Confirmation message, Yes/No buttons
- [ ] Conditional styling cho má»—i mode

```jsx
// ğŸ¯ NHIá»†M Vá»¤:
function TodoItem({ todo }) {
  // Modes: 'view' | 'edit' | 'delete-confirm'
  let mode = "view"; // TODO: Toggle between modes

  const handleEditClick = () => {
    mode = "edit";
    console.log("Entering edit mode");
  };

  const handleDeleteClick = () => {
    mode = "delete-confirm";
    console.log("Asking for delete confirmation");
  };

  const handleSave = () => {
    console.log("Saved");
    mode = "view";
  };

  const handleCancel = () => {
    console.log("Cancelled");
    mode = "view";
  };

  const handleConfirmDelete = () => {
    console.log(`Deleted todo: ${todo.id}`);
  };

  const handleCancelDelete = () => {
    mode = "view";
  };

  return (
    <div className="todo-item">
      {/* TODO: Conditional rendering based on mode */}

      {/* VIEW MODE */}
      {mode === "view" && (
        <div className="view-mode">
          <span className="todo-text">{todo.text}</span>
          <div className="actions">
            <button onClick={handleEditClick}>âœï¸ Edit</button>
            <button onClick={handleDeleteClick}>ğŸ—‘ï¸ Delete</button>
          </div>
        </div>
      )}

      {/* EDIT MODE - TODO */}

      {/* DELETE CONFIRM MODE - TODO */}
    </div>
  );
}

// Test
function App() {
  const todo = { id: 1, text: "Learn React Events" };
  return <TodoItem todo={todo} />;
}
```

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function TodoItem({ todo }) {
  // Simulate mode state (won't persist - need useState)
  let mode = "view"; // 'view' | 'edit' | 'delete-confirm'
  let editText = todo.text;

  const handleEditClick = () => {
    mode = "edit";
    console.log("Mode:", mode);
  };

  const handleDeleteClick = () => {
    mode = "delete-confirm";
    console.log("Mode:", mode);
  };

  const handleInputChange = (event) => {
    editText = event.target.value;
    console.log("Edit text:", editText);
  };

  const handleSave = () => {
    console.log("Saved:", editText);
    mode = "view";
  };

  const handleCancel = () => {
    console.log("Cancelled edit");
    editText = todo.text;
    mode = "view";
  };

  const handleConfirmDelete = () => {
    console.log(`Deleted todo: ${todo.id}`);
    // In real app: call parent's delete function
  };

  const handleCancelDelete = () => {
    console.log("Cancelled delete");
    mode = "view";
  };

  // Conditional rendering based on mode
  return (
    <div className={`todo-item mode-${mode}`}>
      {/* VIEW MODE */}
      {mode === "view" && (
        <div className="view-mode">
          <span className="todo-text">{todo.text}</span>
          <div className="actions">
            <button onClick={handleEditClick} className="btn btn-edit">
              âœï¸ Edit
            </button>
            <button onClick={handleDeleteClick} className="btn btn-delete">
              ğŸ—‘ï¸ Delete
            </button>
          </div>
        </div>
      )}

      {/* EDIT MODE */}
      {mode === "edit" && (
        <div className="edit-mode">
          <input
            type="text"
            defaultValue={todo.text}
            onChange={handleInputChange}
            className="edit-input"
            placeholder="Edit todo..."
            autoFocus
          />
          <div className="actions">
            <button onClick={handleSave} className="btn btn-save">
              âœ“ Save
            </button>
            <button onClick={handleCancel} className="btn btn-cancel">
              âœ— Cancel
            </button>
          </div>
        </div>
      )}

      {/* DELETE CONFIRM MODE */}
      {mode === "delete-confirm" && (
        <div className="delete-confirm-mode">
          <p className="confirm-message">
            Are you sure you want to delete "{todo.text}"?
          </p>
          <div className="actions">
            <button onClick={handleConfirmDelete} className="btn btn-danger">
              Yes, Delete
            </button>
            <button onClick={handleCancelDelete} className="btn btn-secondary">
              No, Cancel
            </button>
          </div>
        </div>
      )}

      <div className="mode-indicator">
        Current mode: <strong>{mode}</strong> (check console)
      </div>
    </div>
  );
}

// Test Component
function App() {
  const todos = [
    { id: 1, text: "Learn React Events" },
    { id: 2, text: "Master Conditional Rendering" },
    { id: 3, text: "Build Real Projects" },
  ];

  return (
    <div className="app">
      <h2>Interactive Todo Items</h2>
      <div className="todo-list">
        {todos.map((todo) => (
          <TodoItem key={todo.id} todo={todo} />
        ))}
      </div>
    </div>
  );
}
```

**CSS:**

```css
.app {
  max-width: 600px;
  margin: 20px auto;
  padding: 20px;
}

.todo-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.todo-item {
  padding: 16px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  background: white;
  transition: all 0.3s;
}

.todo-item.mode-edit {
  border-color: #1976d2;
  background: #e3f2fd;
}

.todo-item.mode-delete-confirm {
  border-color: #d32f2f;
  background: #ffebee;
}

.view-mode,
.edit-mode,
.delete-confirm-mode {
  display: flex;
  align-items: center;
  gap: 12px;
}

.todo-text {
  flex: 1;
  font-size: 16px;
}

.edit-input {
  flex: 1;
  padding: 8px 12px;
  font-size: 14px;
  border: 2px solid #1976d2;
  border-radius: 4px;
}

.confirm-message {
  flex: 1;
  margin: 0;
  font-size: 14px;
  color: #d32f2f;
}

.actions {
  display: flex;
  gap: 8px;
}

.btn {
  padding: 8px 16px;
  font-size: 14px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-edit {
  background: #1976d2;
  color: white;
}

.btn-edit:hover {
  background: #1565c0;
}

.btn-delete {
  background: #d32f2f;
  color: white;
}

.btn-delete:hover {
  background: #c62828;
}

.btn-save {
  background: #388e3c;
  color: white;
}

.btn-save:hover {
  background: #2e7d32;
}

.btn-cancel,
.btn-secondary {
  background: #757575;
  color: white;
}

.btn-cancel:hover,
.btn-secondary:hover {
  background: #616161;
}

.btn-danger {
  background: #d32f2f;
  color: white;
}

.btn-danger:hover {
  background: #c62828;
}

.mode-indicator {
  margin-top: 12px;
  padding: 8px;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 12px;
  color: #666;
  text-align: center;
}
```

**ğŸ“š Key Learnings:**

- Mode-based conditional rendering
- Multiple event handlers
- Nested conditionals
- Visual feedback for different states
- **Important:** Without useState, mode changes don't persist visually!

</details>

---

### â­â­â­â­ Exercise 4: Keyboard Shortcuts (60 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Advanced event handling vá»›i keyboard  
**â±ï¸ Thá»i gian:** 60 phÃºt

**ğŸ—ï¸ PHASE 1: Research & Design (20 phÃºt)**

Thiáº¿t káº¿ má»™t command palette (giá»‘ng VS Code/Spotlight) vá»›i keyboard shortcuts.

**Features cáº§n cÃ³:**

- Press `Cmd/Ctrl + K` â†’ Open palette
- Press `Esc` â†’ Close palette
- Arrow keys â†’ Navigate options
- Enter â†’ Select option
- Type to filter options

**ğŸ¤” DESIGN DECISIONS:**

1. **Event Listener Level:**
   - Option A: Document-level (global)
   - Option B: Component-level (local)
   - Decision: ?

2. **Key Combination Detection:**
   - How to detect Cmd+K vs K alone?
   - How to handle Ctrl (Windows) vs Cmd (Mac)?

3. **Focus Management:**
   - Auto-focus input when open?
   - Prevent body scroll when open?

**ADR Template:**

```markdown
## Decision: Keyboard Event Strategy

### Context

Need to implement global keyboard shortcuts for command palette.

### Decision

[Your choice]

### Rationale

- Reason 1:
- Reason 2:

### Implementation

[Code sketch]
```

<details>
<summary>ğŸ’¡ Solution</summary>

```jsx
function CommandPalette() {
  let isOpen = false;
  let selectedIndex = 0;
  let searchQuery = "";

  const commands = [
    { id: 1, name: "Create New File", shortcut: "Cmd+N" },
    { id: 2, name: "Open File", shortcut: "Cmd+O" },
    { id: 3, name: "Save File", shortcut: "Cmd+S" },
    { id: 4, name: "Search", shortcut: "Cmd+F" },
    { id: 5, name: "Settings", shortcut: "Cmd+," },
  ];

  // Filter commands based on search
  const filteredCommands = commands.filter((cmd) =>
    cmd.name.toLowerCase().includes(searchQuery.toLowerCase()),
  );

  // Global keyboard handler
  const handleGlobalKeyDown = (event) => {
    // Cmd+K or Ctrl+K to toggle
    if ((event.metaKey || event.ctrlKey) && event.key === "k") {
      event.preventDefault();
      isOpen = !isOpen;
      console.log("Palette:", isOpen ? "OPEN" : "CLOSED");
      return;
    }

    // Only handle if palette is open
    if (!isOpen) return;

    // Esc to close
    if (event.key === "Escape") {
      isOpen = false;
      console.log("Palette: CLOSED");
      return;
    }

    // Arrow keys navigation
    if (event.key === "ArrowDown") {
      event.preventDefault();
      selectedIndex = (selectedIndex + 1) % filteredCommands.length;
      console.log("Selected:", filteredCommands[selectedIndex].name);
    }

    if (event.key === "ArrowUp") {
      event.preventDefault();
      selectedIndex =
        (selectedIndex - 1 + filteredCommands.length) % filteredCommands.length;
      console.log("Selected:", filteredCommands[selectedIndex].name);
    }

    // Enter to execute
    if (event.key === "Enter") {
      event.preventDefault();
      const selected = filteredCommands[selectedIndex];
      console.log("Executing:", selected.name);
      isOpen = false;
    }
  };

  const handleSearchChange = (event) => {
    searchQuery = event.target.value;
    selectedIndex = 0; // Reset selection
    console.log("Search:", searchQuery);
  };

  const handleCommandClick = (command) => {
    console.log("Clicked:", command.name);
    isOpen = false;
  };

  // Attach global listener (in real app: useEffect)
  if (typeof window !== "undefined") {
    window.addEventListener("keydown", handleGlobalKeyDown);
  }

  return (
    <div className="command-palette-demo">
      <div className="instructions">
        <h3>Command Palette Demo</h3>
        <p>
          Press <kbd>Cmd/Ctrl + K</kbd> to open (check console)
        </p>
        <p>Arrow keys to navigate, Enter to select, Esc to close</p>
      </div>

      {/* Backdrop */}
      {isOpen && (
        <div
          className="backdrop"
          onClick={() => {
            isOpen = false;
            console.log("Backdrop clicked - CLOSED");
          }}
        />
      )}

      {/* Palette */}
      {isOpen && (
        <div className="palette">
          <input
            type="text"
            className="search-input"
            placeholder="Type a command..."
            onChange={handleSearchChange}
            autoFocus
          />

          <div className="command-list">
            {filteredCommands.length > 0 ? (
              filteredCommands.map((command, index) => (
                <div
                  key={command.id}
                  className={`command-item ${
                    index === selectedIndex ? "selected" : ""
                  }`}
                  onClick={() => handleCommandClick(command)}
                >
                  <span className="command-name">{command.name}</span>
                  <kbd className="command-shortcut">{command.shortcut}</kbd>
                </div>
              ))
            ) : (
              <div className="no-results">No commands found</div>
            )}
          </div>

          <div className="palette-footer">
            <span>â†‘â†“ Navigate</span>
            <span>â†µ Select</span>
            <span>Esc Close</span>
          </div>
        </div>
      )}
    </div>
  );
}
```

**CSS:**

```css
.command-palette-demo {
  min-height: 400px;
  position: relative;
}

.instructions {
  text-align: center;
  padding: 40px 20px;
}

.instructions kbd {
  padding: 4px 8px;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-family: monospace;
  font-size: 13px;
}

.backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
}

.palette {
  position: fixed;
  top: 100px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 600px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  z-index: 1001;
  overflow: hidden;
}

.search-input {
  width: 100%;
  padding: 16px 20px;
  font-size: 16px;
  border: none;
  border-bottom: 1px solid #e0e0e0;
  outline: none;
}

.command-list {
  max-height: 400px;
  overflow-y: auto;
}

.command-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 20px;
  cursor: pointer;
  transition: background 0.2s;
}

.command-item:hover,
.command-item.selected {
  background: #f5f5f5;
}

.command-item.selected {
  background: #e3f2fd;
}

.command-name {
  font-size: 14px;
}

.command-shortcut {
  padding: 2px 6px;
  background: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 3px;
  font-size: 11px;
  font-family: monospace;
}

.no-results {
  padding: 40px 20px;
  text-align: center;
  color: #999;
}

.palette-footer {
  display: flex;
  gap: 16px;
  justify-content: center;
  padding: 12px;
  background: #f9f9f9;
  border-top: 1px solid #e0e0e0;
  font-size: 12px;
  color: #666;
}
```

**ğŸ“š Key Techniques:**

- Global event listener
- Keyboard shortcuts detection
- Focus management
- Arrow key navigation
- Conditional backdrop rendering
- Search filtering

</details>

---

### â­â­â­â­â­ Exercise 5: Multi-State UI Component (90 phÃºt)

**ğŸ¯ Má»¥c tiÃªu:** Production-ready component vá»›i nhiá»u states  
**â±ï¸ Thá»i gian:** 90 phÃºt

**ğŸ“‹ Feature Specification:**

Táº¡o File Upload component vá»›i cÃ¡c states:

- **Idle**: ChÆ°a cÃ³ file
- **Dragging**: Äang drag file vÃ o
- **Uploading**: Äang upload (fake vá»›i setTimeout)
- **Success**: Upload thÃ nh cÃ´ng
- **Error**: Upload tháº¥t báº¡i

**âœ… Production Checklist:**

**Features:**

- [ ] Drag & drop file upload
- [ ] Click to browse files
- [ ] File type validation (images only)
- [ ] File size validation (< 5MB)
- [ ] Upload progress simulation
- [ ] Success/Error messages
- [ ] Retry on error

**Accessibility:**

- [ ] Keyboard accessible
- [ ] ARIA labels
- [ ] Focus management

```jsx
// ğŸ¯ NHIá»†M Vá»¤ Cá»¦A Báº N:

function FileUploader() {
  // States: 'idle' | 'dragging' | 'uploading' | 'success' | 'error'
  let state = "idle";
  let file = null;
  let errorMessage = "";
  let progress = 0;

  // Validation
  const validateFile = (file) => {
    const maxSize = 5 * 1024 * 1024; // 5MB
    const allowedTypes = ["image/jpeg", "image/png", "image/gif"];

    if (!allowedTypes.includes(file.type)) {
      return { valid: false, error: "Only images (JPG, PNG, GIF) allowed" };
    }

    if (file.size > maxSize) {
      return { valid: false, error: "File size must be less than 5MB" };
    }

    return { valid: true };
  };

  // Simulate upload
  const simulateUpload = (file) => {
    state = "uploading";
    progress = 0;

    // Fake progress
    const interval = setInterval(() => {
      progress += 10;
      console.log("Progress:", progress + "%");

      if (progress >= 100) {
        clearInterval(interval);

        // Random success/fail
        if (Math.random() > 0.3) {
          state = "success";
          console.log("Upload SUCCESS");
        } else {
          state = "error";
          errorMessage = "Upload failed. Please try again.";
          console.log("Upload ERROR");
        }
      }
    }, 200);
  };

  const handleDragOver = (event) => {
    event.preventDefault();
    state = "dragging";
  };

  const handleDragLeave = (event) => {
    event.preventDefault();
    state = "idle";
  };

  const handleDrop = (event) => {
    event.preventDefault();
    state = "idle";

    const droppedFile = event.dataTransfer.files[0];
    if (droppedFile) {
      handleFileSelect(droppedFile);
    }
  };

  const handleFileInputChange = (event) => {
    const selectedFile = event.target.files[0];
    if (selectedFile) {
      handleFileSelect(selectedFile);
    }
  };

  const handleFileSelect = (selectedFile) => {
    const validation = validateFile(selectedFile);

    if (!validation.valid) {
      state = "error";
      errorMessage = validation.error;
      console.log("Validation Error:", validation.error);
      return;
    }

    file = selectedFile;
    simulateUpload(file);
  };

  const handleRetry = () => {
    if (file) {
      simulateUpload(file);
    }
  };

  const handleReset = () => {
    state = "idle";
    file = null;
    errorMessage = "";
    progress = 0;
  };

  // Render different UIs based on state
  return (
    <div className="file-uploader">
      <h2>File Upload Component</h2>

      {/* IDLE STATE */}
      {state === "idle" && (
        <div
          className="upload-zone"
          onDragOver={handleDragOver}
          onDragLeave={handleDragLeave}
          onDrop={handleDrop}
        >
          <div className="upload-icon">ğŸ“</div>
          <p>Drag & drop an image here</p>
          <p className="text-secondary">or</p>
          <label className="browse-btn">
            Browse Files
            <input
              type="file"
              accept="image/*"
              onChange={handleFileInputChange}
              style={{ display: "none" }}
            />
          </label>
          <p className="file-requirements">JPG, PNG or GIF â€¢ Max 5MB</p>
        </div>
      )}

      {/* DRAGGING STATE */}
      {state === "dragging" && (
        <div
          className="upload-zone dragging"
          onDragOver={handleDragOver}
          onDragLeave={handleDragLeave}
          onDrop={handleDrop}
        >
          <div className="upload-icon">â¬‡ï¸</div>
          <p className="highlight">Drop your file here!</p>
        </div>
      )}

      {/* UPLOADING STATE */}
      {state === "uploading" && (
        <div className="upload-zone uploading">
          <div className="spinner">â³</div>
          <p>Uploading {file?.name}...</p>
          <div className="progress-bar">
            <div className="progress-fill" style={{ width: `${progress}%` }} />
          </div>
          <p className="progress-text">{progress}%</p>
        </div>
      )}

      {/* SUCCESS STATE */}
      {state === "success" && (
        <div className="upload-zone success">
          <div className="success-icon">âœ…</div>
          <p className="success-text">Upload successful!</p>
          <p className="file-name">{file?.name}</p>
          <button onClick={handleReset} className="btn-secondary">
            Upload Another
          </button>
        </div>
      )}

      {/* ERROR STATE */}
      {state === "error" && (
        <div className="upload-zone error">
          <div className="error-icon">âŒ</div>
          <p className="error-text">Upload failed</p>
          <p className="error-message">{errorMessage}</p>
          <div className="error-actions">
            <button onClick={handleRetry} className="btn-primary">
              Retry
            </button>
            <button onClick={handleReset} className="btn-secondary">
              Cancel
            </button>
          </div>
        </div>
      )}

      <div className="state-indicator">
        Current state: <strong>{state}</strong>
      </div>
    </div>
  );
}
```

<details>
<summary>ğŸ’¡ Solution</summary>

```css
.file-uploader {
  max-width: 500px;
  margin: 20px auto;
  padding: 20px;
}

/* .upload-zone {
  border: 3px dashed #e0e0e0;
  border-radius: 8px;
  padding: 60px 40px;
  text-align: center;
  transition: all 0.3s;
  background: #faf */
```

CÃ²n tiáº¿p

</details>
